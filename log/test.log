  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1751)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1752)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1753)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1754)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1755)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1756)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1757)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1758)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1759)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1760)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1761)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1762)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.`suit_id` = 533) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.suit_id = 533) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(533, 1763)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1751)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1752)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1753)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1754)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1755)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1756)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1757)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1758)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1759)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1760)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1761)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1762)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.`suit_id` = 534) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.suit_id = 534) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(534, 1763)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1751)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1752)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1753)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1754)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1755)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1756)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1757)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1758)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1759)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1760)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1761)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1762)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.`suit_id` = 535) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.suit_id = 535) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(535, 1763)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1751 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1751)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1752 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1752)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1753 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1753)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1754 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1754)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1755 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1755)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1756 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1756)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1757 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1757)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1758 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1758)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1759 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1759)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1760 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1760)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1761 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1761)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1762 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1762)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.`suit_id` = 536) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1763 AND `cards`.suit_id = 536) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(536, 1763)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:45) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 43ms (DB: 141) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:46) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 524) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 524 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6844)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6846)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6825)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6837)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6828)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6859)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6830)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6840)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6839)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6836)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6869)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6821)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6863)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6834)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6833)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6868)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6853)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6865)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6870)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6850)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6866)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6872)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6842)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6831)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6848)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6855)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6835)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6851)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6822)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6826)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6847)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6862)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6854)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6824)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6843)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6832)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6861)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6829)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6827)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6852)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6856)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6864)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6858)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6838)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6849)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6845)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6823)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6857)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6841)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (157, 6867)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 157) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6867, 524)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6841, 524)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6857, 524)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6823, 524)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6845, 524)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 524) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 157, `seat_order` = 0 WHERE `id` = 524[0m
Rendering site/waiting
Completed in 415ms (View: 42, DB: 35) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:46) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:46) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 525) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 525 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 157) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 157 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6867, 525)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6841, 525)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6857, 525)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6823, 525)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6845, 525)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 525) LIMIT 1[0m
  [4;35;1mPlayer Update (2.0ms)[0m   [0mUPDATE `players` SET `game_id` = 157, `seat_order` = 1 WHERE `id` = 525[0m
Rendering site/waiting
Completed in 119ms (View: 15, DB: 18) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 526) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 526 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 157) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 157 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6867, 526)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6841, 526)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6857, 526)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6823, 526)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6845, 526)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 526) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 157, `seat_order` = 2 WHERE `id` = 526[0m
Rendering site/waiting
Completed in 148ms (View: 16, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 527) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 527 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 157) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 157 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6867, 527)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6841, 527)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6857, 527)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6823, 527)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6845, 527)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 527) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 157, `seat_order` = 3 WHERE `id` = 527[0m
Rendering site/waiting
Completed in 136ms (View: 30, DB: 18) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 524) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 524 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 525) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 525 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 526) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 526 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 527) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 527 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 524) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 157) [0m
Completed in 26ms (View: 24, DB: 13) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 525) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 157) [0m
Completed in 19ms (View: 19, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/play_game
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 526) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 157) [0m
Completed in 18ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 527) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 157) [0m
Completed in 17ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/my_turn
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 524) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
Completed in 22ms (View: 20, DB: 2) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/my_turn
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 525) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/my_turn
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 526) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:47) [POST]
Rendering site/my_turn
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 527) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 157) [0m
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/login
Completed in 23ms (View: 22, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Rendering site/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 13:36:47) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:48) [GET]
Rendering site/login
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 13:36:48) [GET]
Redirected to http://www.example.com/
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:48) [GET]
Rendering site/login
Completed in 19ms (View: 19, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1764)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1765)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1766)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1767)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1768)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1769)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1770)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1771)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1772)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1773)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1774)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1775)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.`suit_id` = 537) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.suit_id = 537) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(537, 1776)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1764)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1765)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1766)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1767)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1768)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1769)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1770)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1771)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1772)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1773)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1774)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1775)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.`suit_id` = 538) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.suit_id = 538) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(538, 1776)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1764)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1765)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1766)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1767)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1768)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1769)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1770)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1771)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1772)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1773)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1774)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1775)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.`suit_id` = 539) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.suit_id = 539) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(539, 1776)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1764 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1764)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1765 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1765)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1766 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1766)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1767 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1767)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1768 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1768)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1769 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1769)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1770 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1770)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1771 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1771)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1772 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1772)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1773 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1773)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1774 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1774)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1775 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1775)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.`suit_id` = 540) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1776 AND `cards`.suit_id = 540) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(540, 1776)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:49) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 157) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:49) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 528 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6887)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6885)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6923)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6897)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6902)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6899)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6909)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6907)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6894)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6911)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6890)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6873)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6924)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6896)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6906)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6875)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6904)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6913)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6889)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6914)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6900)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6920)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6901)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6880)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6916)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6876)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6878)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6886)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6892)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6874)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6905)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6915)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6879)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6891)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6888)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6893)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6917)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6922)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6908)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6898)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6921)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6903)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6883)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6919)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6912)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6882)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6881)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6884)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6910)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6895)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6918)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6877)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 158) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6877, 528)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6918, 528)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6895, 528)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6910, 528)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6884, 528)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 528) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 158, `seat_order` = 0 WHERE `id` = 528[0m
Rendering site/waiting
Completed in 229ms (View: 8, DB: 37) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 529 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 158) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 158 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6877, 529)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6918, 529)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6895, 529)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6910, 529)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6884, 529)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 529) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 158, `seat_order` = 1 WHERE `id` = 529[0m
Rendering site/waiting
Completed in 114ms (View: 7, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (7.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 7) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 530) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 530 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 158) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 158 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6877, 530)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6918, 530)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6895, 530)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6910, 530)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6884, 530)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 530) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 158, `seat_order` = 2 WHERE `id` = 530[0m
Rendering site/waiting
Completed in 99ms (View: 12, DB: 14) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 5ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 531) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 531 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 158) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 158 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6877, 531)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6918, 531)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6895, 531)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6910, 531)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6884, 531)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 531) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 158, `seat_order` = 3 WHERE `id` = 531[0m
Rendering site/waiting
Completed in 92ms (View: 9, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 158) [0m
Completed in 24ms (View: 23, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 158) [0m
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 530) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 158) [0m
Completed in 13ms (View: 9, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 13:36:50) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 531) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 158) [0m
Completed in 15ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 13:36:50) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 528 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 528 AND card_id IN (6877,6918,6895,6910,6884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6916, 528)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 529 ) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 529 AND card_id IN (6877,6918,6895,6910,6884)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6911, 529)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 530 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 530 AND card_id IN (6877,6918,6895,6910,6884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6880, 530)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 531 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 531 AND card_id IN (6877,6918,6895,6910,6884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6889, 531)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 530) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 531) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (158, 6907)[0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 158 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 158 AND card_id IN (6887,6885,6923,6897,6902,6899,6909,6907,6894,6911,6890,6873,6924,6896,6906,6875,6904,6913,6889,6914,6900,6920,6901,6880,6916,6876,6878,6886,6892,6874,6905,6915,6879,6891,6888,6893,6917,6922,6908,6898,6921,6903,6883,6919,6912,6882,6881,6884,6910,6895,6918,6877)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (158, 6908)[0m


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
Rendering site/my_turn
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Completed in 10ms (View: 8, DB: 62) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 531) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Rendering site/discard
Completed in 11ms (View: 4, DB: 1) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 6898) AND (`cards_players`.player_id = 528 ) LIMIT 1[0m
Rendering site/discard
Completed in 24ms (View: 7, DB: 4) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 6916) AND (`cards_players`.player_id = 528 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (158, 6916)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1768) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1772) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 540) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 158 AND card_id IN (6916)[0m
Rendering site/discard
Completed in 59ms (View: 3, DB: 14) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 158 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6908, 528)[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1773) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
Completed in 36ms (View: 2, DB: 11) | 200 OK [http://www.example.com/site/draw]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 528 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 6908) AND (`cards_players`.player_id = 528 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (158, 6908)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1773) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1772) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 528 AND card_id IN (6908)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 528 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 1 WHERE `id` = 158[0m
Rendering site/discard
Completed in 167ms (View: 14, DB: 17) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 528 ) [0m


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
Rendering site/my_turn
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 528) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Completed in 9ms (View: 7, DB: 7) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
Rendering site/my_turn
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 6911) AND (`cards_players`.player_id = 529 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (158, 6911)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 158 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1776) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 1773) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 539) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 529 AND card_id IN (6911)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 529 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 158[0m
Rendering site/discard
Completed in 52ms (View: 2, DB: 14) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 529 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
Rendering site/my_turn
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 529) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Completed in 8ms (View: 7, DB: 5) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
Rendering site/my_turn
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 530) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://www.example.com/site/my_turn]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 13:36:51) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 530) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 158) [0m
Rendering site/discard
Completed in 9ms (View: 3, DB: 1) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1777)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1778)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1779)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1780)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1781)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1782)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1783)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1784)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1785)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1786)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1787)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1788)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.`suit_id` = 541) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.suit_id = 541) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(541, 1789)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1777)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1778)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1779)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1780)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1781)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1782)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1783)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1784)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1785)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1786)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1787)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1788)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.`suit_id` = 542) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.suit_id = 542) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(542, 1789)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1777)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1778)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1779)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1780)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1781)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1782)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1783)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1784)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1785)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1786)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1787)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1788)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.`suit_id` = 543) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.suit_id = 543) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(543, 1789)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1777 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1777)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1778 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1778)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1779 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1779)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1780 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1780)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1781 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1781)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1782 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1782)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1783 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1783)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1784 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1784)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1785 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1785)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1786 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1786)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1787 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1787)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1788 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1788)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.`suit_id` = 544) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1789 AND `cards`.suit_id = 544) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(544, 1789)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:10) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 146) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:11) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 532) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 532 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6929)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6951)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6970)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6945)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6935)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6949)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6943)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6937)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6953)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6933)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6958)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6971)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6976)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6932)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6968)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6975)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6928)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6944)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6964)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6957)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6938)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6959)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6942)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6965)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6967)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6966)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6962)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6931)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6961)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6974)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6936)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6952)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6948)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6946)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6954)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6941)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6940)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6960)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6963)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6955)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6930)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6934)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6969)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6956)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6927)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6925)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6947)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6926)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6973)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6950)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6972)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (159, 6939)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 159) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6939, 532)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6972, 532)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6950, 532)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6973, 532)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6926, 532)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 532) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 159, `seat_order` = 0 WHERE `id` = 532[0m
Rendering site/waiting
Completed in 270ms (View: 26, DB: 34) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:11) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:11) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 533) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 533 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 159) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 159 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6939, 533)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6972, 533)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6950, 533)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6973, 533)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6926, 533)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 533) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 159, `seat_order` = 1 WHERE `id` = 533[0m
Rendering site/waiting
Completed in 120ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:11) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:11) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 534) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 534 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 159) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 159 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6939, 534)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6972, 534)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6950, 534)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6973, 534)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6926, 534)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 534) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 159, `seat_order` = 2 WHERE `id` = 534[0m
Rendering site/waiting
Completed in 121ms (View: 14, DB: 24) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:11) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:11) [GET]
  [4;36;1mPlayer Load (5.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 535) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 535 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 159) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 159 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6939, 535)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6972, 535)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6950, 535)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6973, 535)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6926, 535)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 535) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 159, `seat_order` = 3 WHERE `id` = 535[0m
Rendering site/waiting
Completed in 127ms (View: 21, DB: 26) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 532) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 532 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 533) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 533 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 534) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 534 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 535) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 535 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:11) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 532) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 159) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 159) [0m
Completed in 38ms (View: 33, DB: 17) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:11) [GET]
Rendering site/play_game
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:11) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 533) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 159) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 159) [0m
Completed in 27ms (View: 24, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:12) [GET]
Rendering site/play_game
Completed in 16ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:12) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 534) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 159) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 159) [0m
Completed in 20ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:12) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:12) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 535) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 159) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 159) [0m
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:12) [GET]
Rendering site/play_game
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 14:26:12) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 532) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 159) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (2.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1790)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1791)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1792)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1793)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1794)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1795)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1796)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1797)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1798)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1799)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1800)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1801)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.`suit_id` = 545) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.suit_id = 545) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(545, 1802)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1790)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1791)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1792)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1793)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1794)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1795)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1796)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1797)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1798)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1799)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1800)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1801)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.`suit_id` = 546) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.suit_id = 546) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(546, 1802)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1790)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1791)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1792)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1793)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1794)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1795)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1796)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1797)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1798)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1799)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1800)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1801)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.`suit_id` = 547) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.suit_id = 547) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(547, 1802)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1790 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1790)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1791 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1791)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1792 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1792)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1793 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1793)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1794 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1794)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1795 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1795)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1796 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1796)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1797 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1797)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1798 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1798)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1799 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1799)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1800 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1800)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1801 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1801)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.`suit_id` = 548) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1802 AND `cards`.suit_id = 548) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(548, 1802)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:13) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 126) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 536) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 536 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7018)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7013)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7012)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6978)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7000)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7003)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7020)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6992)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6998)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6979)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7025)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6986)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6997)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7026)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7024)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7014)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6996)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7004)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7021)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7028)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6984)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6983)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6980)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6977)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6989)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6993)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6987)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7006)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6981)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6994)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6991)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7008)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7023)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6999)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7001)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7011)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6995)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7002)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7022)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7015)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6985)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7007)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7010)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6988)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7016)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7027)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7005)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6982)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7019)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7017)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 6990)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7009)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 160) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7009, 536)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6990, 536)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7017, 536)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7019, 536)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6982, 536)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 536) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 160, `seat_order` = 0 WHERE `id` = 536[0m
Rendering site/waiting
Completed in 214ms (View: 12, DB: 42) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 537) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 537 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 160) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 160 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7009, 537)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6990, 537)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7017, 537)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7019, 537)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6982, 537)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 537) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 160, `seat_order` = 1 WHERE `id` = 537[0m
Rendering site/waiting
Completed in 108ms (View: 8, DB: 17) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 5ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 538) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 538 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 160) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 160 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7009, 538)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6990, 538)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7017, 538)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7019, 538)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6982, 538)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 538) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 160, `seat_order` = 2 WHERE `id` = 538[0m
Rendering site/waiting
Completed in 144ms (View: 13, DB: 17) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 539) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 539 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 160) [0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 160 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7009, 539)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6990, 539)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7017, 539)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7019, 539)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6982, 539)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 539) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 160, `seat_order` = 3 WHERE `id` = 539[0m
Rendering site/waiting
Completed in 143ms (View: 25, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 536) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 160) [0m
Completed in 14ms (View: 11, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 537) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 160) [0m
Completed in 17ms (View: 13, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 538) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 160) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:26:14) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 539) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 160) [0m
Completed in 25ms (View: 21, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:26:14) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 536 ) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 536 AND card_id IN (7009,6990,7017,7019,6982)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7020, 536)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 537 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 537 AND card_id IN (7009,6990,7017,7019,6982)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7015, 537)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 538 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 538 AND card_id IN (7009,6990,7017,7019,6982)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6984, 538)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 539 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 539 AND card_id IN (7009,6990,7017,7019,6982)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (6993, 539)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 536) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 537) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 538) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 539) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 160 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (160, 7011)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 160 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 160 AND card_id IN (7018,7013,7012,6978,7000,7003,7020,6992,6998,6979,7025,6986,6997,7026,7024,7014,6996,7004,7021,7028,6984,6983,6980,6977,6989,6993,6987,7006,6981,6994,6991,7008,7023,6999,7001,7011,6995,7002,7022,7015,6985,7007,7010,6988,7016,7027,7005,6982,7019,7017,6990,7009)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (160, 7012)[0m


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 14:26:15) [POST]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 536) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 160) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:109:in `test_winning_game'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1803)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1804)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1805)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1806)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1807)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1808)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1809)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1810)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1811)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1812)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1813)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1814)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.`suit_id` = 549) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.suit_id = 549) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(549, 1815)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1803)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1804)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1805)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1806)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1807)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1809)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1810)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1811)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1812)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1813)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1814)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.`suit_id` = 550) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.suit_id = 550) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(550, 1815)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1803)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1804)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1805)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1806)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1807)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1808)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1809)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1810)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1811)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1812)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1813)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1814)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.`suit_id` = 551) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.suit_id = 551) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(551, 1815)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1803 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1803)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1804 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1804)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1805 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1805)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1806 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1806)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1807 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1807)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1808 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1808)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1809 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1809)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1810 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1810)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1811 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1811)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1812 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1812)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1813 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1813)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1814 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1814)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.`suit_id` = 552) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1815 AND `cards`.suit_id = 552) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(552, 1815)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:28:07) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 39ms (DB: 173) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:28:07) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 540) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 540 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7077)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7044)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7061)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7054)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7057)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7029)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7067)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7038)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7045)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7032)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7060)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7051)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7042)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7048)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7069)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7063)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7056)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7031)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7033)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7039)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7047)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7070)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7040)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7078)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7037)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7075)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7071)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7080)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7034)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7072)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7065)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7058)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7064)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7073)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7035)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7074)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7046)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7036)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7050)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7053)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7068)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7041)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7049)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7052)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7066)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7062)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7043)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7055)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7079)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7059)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7076)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (161, 7030)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 161) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7030, 540)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7076, 540)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7059, 540)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7079, 540)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7055, 540)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 540) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 161, `seat_order` = 0 WHERE `id` = 540[0m
Rendering site/waiting
Completed in 423ms (View: 37, DB: 38) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 541) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 541 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 161) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 161 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7030, 541)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7076, 541)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7059, 541)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7079, 541)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7055, 541)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 541) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 161, `seat_order` = 1 WHERE `id` = 541[0m
Rendering site/waiting
Completed in 128ms (View: 17, DB: 17) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 542) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 542 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 161) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 161 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7030, 542)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7076, 542)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7059, 542)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7079, 542)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7055, 542)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 542) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 161, `seat_order` = 2 WHERE `id` = 542[0m
Rendering site/waiting
Completed in 144ms (View: 16, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 543) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 543 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 161) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 161 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7030, 543)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7076, 543)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7059, 543)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7079, 543)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7055, 543)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 543) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 161, `seat_order` = 3 WHERE `id` = 543[0m
Rendering site/waiting
Completed in 131ms (View: 19, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 540) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 540 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 541) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 541 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 542) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 542 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 543) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 543 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 540) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 161) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 161) [0m
Completed in 25ms (View: 21, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
Rendering site/play_game
Completed in 53ms (View: 53, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 541) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 161) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 161) [0m
Completed in 21ms (View: 16, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
Rendering site/play_game
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 542) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 161) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 161) [0m
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 543) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 161) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 161) [0m
Completed in 17ms (View: 15, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:28:08) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 14:28:08) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 540) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 161) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1816)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1817)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1818)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1819)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1820)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1821)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1822)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1823)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1824)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1825)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1826)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1827)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.`suit_id` = 553) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.suit_id = 553) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(553, 1828)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1816)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1817)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1818)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1819)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1820)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1821)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1822)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1823)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1824)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1825)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1826)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1827)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.`suit_id` = 554) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.suit_id = 554) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(554, 1828)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1816)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1817)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1818)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1819)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1821)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1822)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1823)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1824)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1825)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1826)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1827)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.`suit_id` = 555) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.suit_id = 555) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(555, 1828)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1816 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1816)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1817 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1817)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1818 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1818)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1819 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1819)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1820 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1820)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1821 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1821)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1822 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1822)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1823 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1823)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1824 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1824)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1825 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1825)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1826 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1826)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1827 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1827)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.`suit_id` = 556) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1828 AND `cards`.suit_id = 556) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(556, 1828)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:29:36) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 44ms (DB: 190) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:29:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 544) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 544 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7119)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7091)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7082)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7100)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7128)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7103)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7095)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7129)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7104)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7090)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7113)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7114)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7112)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7109)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7122)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7131)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7102)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7111)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7097)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7115)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7087)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7123)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7127)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7132)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7094)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7120)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7105)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7085)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7116)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7110)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7101)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7098)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7118)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7086)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7081)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7099)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7084)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7093)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7106)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7092)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7096)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7121)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7125)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7107)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7124)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7083)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7117)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7088)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7126)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7130)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7108)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (162, 7089)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 162) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7089, 544)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7108, 544)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7130, 544)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7126, 544)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7088, 544)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 544) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 162, `seat_order` = 0 WHERE `id` = 544[0m
Rendering site/waiting
Completed in 450ms (View: 28, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:29:37) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:29:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 545) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 545 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 162) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 162 ) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7089, 545)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7108, 545)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7130, 545)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7126, 545)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7088, 545)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 545) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 162, `seat_order` = 1 WHERE `id` = 545[0m
Rendering site/waiting
Completed in 153ms (View: 17, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 546) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 546 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 162) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 162 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7089, 546)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7108, 546)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7130, 546)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7126, 546)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7088, 546)[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 546) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 162, `seat_order` = 2 WHERE `id` = 546[0m
Rendering site/waiting
Completed in 191ms (View: 18, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 547) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 547 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 162) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 162 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7089, 547)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7108, 547)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7130, 547)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7126, 547)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7088, 547)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 547) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 162, `seat_order` = 3 WHERE `id` = 547[0m
Rendering site/waiting
Completed in 113ms (View: 18, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 544) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 544 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 545) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 545 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 546) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 546 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 547) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 547 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (7.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 544) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 162) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 162) [0m
Completed in 41ms (View: 31, DB: 23) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 545) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 162) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 162) [0m
Completed in 29ms (View: 24, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
Rendering site/play_game
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 546) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 162) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 162) [0m
Completed in 21ms (View: 16, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 547) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 162) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 162) [0m
Completed in 18ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:29:38) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 14:29:38) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 544) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 162) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1829)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1830)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1831)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1832)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1833)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1834)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1835)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1836)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1837)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1838)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1840)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.`suit_id` = 557) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.suit_id = 557) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(557, 1841)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1829)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1830)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1831)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1832)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1833)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1834)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1835)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1836)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1837)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1838)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1839)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1840)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.`suit_id` = 558) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.suit_id = 558) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(558, 1841)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1829)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1830)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1831)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1832)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1833)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1834)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1835)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1836)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1837)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1838)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1839)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1840)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.`suit_id` = 559) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.suit_id = 559) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(559, 1841)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1829 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1829)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1830 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1830)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1831 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1831)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1832 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1832)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1833 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1833)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1834 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1834)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1835 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1835)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1836 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1836)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1837 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1837)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1838 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1838)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1839 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1839)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1840 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1840)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.`suit_id` = 560) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1841 AND `cards`.suit_id = 560) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(560, 1841)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:35:00) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 40ms (DB: 150) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:35:00) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 548) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 548 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7148)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7165)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7159)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7136)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7141)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7168)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7178)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7183)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7157)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7149)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7134)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7151)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7164)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7145)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7162)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7171)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7160)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7184)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7166)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7138)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7180)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7155)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7147)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7163)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7153)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7161)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7144)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7169)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7152)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7142)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7140)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7174)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7154)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7173)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7143)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7150)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7172)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7146)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7179)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7135)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7156)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7158)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7176)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7177)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7181)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7137)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7175)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7167)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7139)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7182)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7133)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (163, 7170)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 163) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7170, 548)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7133, 548)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7182, 548)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7139, 548)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7167, 548)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 548) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 163, `seat_order` = 0 WHERE `id` = 548[0m
Rendering site/waiting
Completed in 397ms (View: 32, DB: 50) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:35:01) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:35:01) [GET]
  [4;36;1mPlayer Load (4.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 549) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 549 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 163) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 163 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7170, 549)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7133, 549)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7182, 549)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7139, 549)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7167, 549)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 549) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 163, `seat_order` = 1 WHERE `id` = 549[0m
Rendering site/waiting
Completed in 143ms (View: 18, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:35:01) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:35:01) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 550) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 550 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 163) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 163 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7170, 550)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7133, 550)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7182, 550)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7139, 550)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7167, 550)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 550) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 163, `seat_order` = 2 WHERE `id` = 550[0m
Rendering site/waiting
Completed in 176ms (View: 17, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:35:01) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 14:35:01) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 551) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 551 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 163) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 163 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7170, 551)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7133, 551)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7182, 551)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7139, 551)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7167, 551)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 551) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 163, `seat_order` = 3 WHERE `id` = 551[0m
Rendering site/waiting
Completed in 151ms (View: 22, DB: 30) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 548) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 548 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 549) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 549 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 550) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 550 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 551) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 551 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:35:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 548) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 163) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 163) [0m
Completed in 33ms (View: 30, DB: 18) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:35:02) [GET]
Rendering site/play_game
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:35:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 549) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 163) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 163) [0m
Completed in 34ms (View: 29, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:35:02) [GET]
Rendering site/play_game
Completed in 23ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:35:02) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 550) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 163) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 163) [0m
Completed in 26ms (View: 21, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:35:02) [GET]
Rendering site/play_game
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 14:35:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 551) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 163) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 163) [0m
Completed in 27ms (View: 23, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 14:35:02) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 14:35:02) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 548) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 163) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1842)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1843)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1844)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1845)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1846)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1847)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1848)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1849)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1850)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1851)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1852)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1853)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.`suit_id` = 561) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.suit_id = 561) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(561, 1854)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1842)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1843)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1844)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1845)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1846)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1847)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1848)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1849)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1850)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1851)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1852)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1853)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.`suit_id` = 562) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.suit_id = 562) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(562, 1854)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1842)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1843)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1844)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1845)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1846)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1847)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1848)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1849)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1850)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1851)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1852)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1853)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.`suit_id` = 563) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.suit_id = 563) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(563, 1854)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1842 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1842)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1843 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1843)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1844 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1844)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1845 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1845)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1846 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1846)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1847 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1847)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1848 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1848)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1849 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1849)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1850 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1850)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1851 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1851)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1852 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1852)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1853 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1853)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.`suit_id` = 564) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1854 AND `cards`.suit_id = 564) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(564, 1854)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 14:41:22) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}

ActiveRecord::RecordNotFound (Couldn't find Player without an ID):
  app/controllers/site_controller.rb:14:in `my_turn'
  test/integration/playing_game_test.rb:213:in `login_player'
  test/integration/playing_game_test.rb:18:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendered rescues/_trace (230.0ms)
Rendered rescues/_request_and_response (29.0ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (2.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1855)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1856)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1857)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1858)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1859)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1860)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1861)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1862)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1863)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1864)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1865)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1866)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.`suit_id` = 565) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.suit_id = 565) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(565, 1867)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1855)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1856)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1857)[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1858)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1859)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1860)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1861)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1862)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1863)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1864)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1865)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1866)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.`suit_id` = 566) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.suit_id = 566) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(566, 1867)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1855)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1856)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1857)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1858)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1859)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1860)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1861)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1862)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1863)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1864)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1865)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1866)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.`suit_id` = 567) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.suit_id = 567) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(567, 1867)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1855 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1855)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1856 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1856)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1857 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1857)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1858 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1858)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1859 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1859)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1860 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1860)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1861 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1861)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1862 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1862)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1863 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1863)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1864 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1864)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1865 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1865)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1866 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1866)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.`suit_id` = 568) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1867 AND `cards`.suit_id = 568) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(568, 1867)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:04:03) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}

NoMethodError (undefined method `my_turn' for #<SiteController:0x5c057df5>):
  test/integration/playing_game_test.rb:213:in `login_player'
  test/integration/playing_game_test.rb:18:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendered rescues/_trace (219.0ms)
Rendered rescues/_request_and_response (19.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (2.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1868)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1869)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1870)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1871)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1872)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1873)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1874)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1875)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1876)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1877)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1878)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1879)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.`suit_id` = 569) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.suit_id = 569) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(569, 1880)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1868)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1869)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1870)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1871)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1872)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1873)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1874)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1875)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1876)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1877)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1878)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1879)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.`suit_id` = 570) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.suit_id = 570) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(570, 1880)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1868)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1869)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1870)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1871)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1872)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1873)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1874)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1875)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1876)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1877)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1878)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1879)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.`suit_id` = 571) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.suit_id = 571) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(571, 1880)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1868 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1868)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1869 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1869)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1870 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1870)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1871 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1871)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1872 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1872)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1873 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1873)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1874 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1874)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1875 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1875)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1876 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1876)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1877 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1877)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1878 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1878)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1879 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1879)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.`suit_id` = 572) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1880 AND `cards`.suit_id = 572) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(572, 1880)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:04:51) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}

ActiveRecord::RecordNotFound (Couldn't find Player without an ID):
  app/controllers/site_controller.rb:14:in `my_turn'
  test/integration/playing_game_test.rb:213:in `login_player'
  test/integration/playing_game_test.rb:18:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendered rescues/_trace (264.0ms)
Rendered rescues/_request_and_response (22.0ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1881)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1882)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1883)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1884)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1885)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1886)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1887)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1888)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1889)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1890)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1891)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1892)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.`suit_id` = 573) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.suit_id = 573) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(573, 1893)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1881)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1882)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1883)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1885)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1886)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1887)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1888)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1889)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1890)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1891)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1892)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.`suit_id` = 574) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.suit_id = 574) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(574, 1893)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1881)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1882)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1883)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1884)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1885)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1886)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1887)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1888)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1889)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1890)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1891)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1892)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.`suit_id` = 575) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.suit_id = 575) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(575, 1893)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1881 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1881)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1882 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1882)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1883 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1883)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1884 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1885 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1885)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1886 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1886)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1887 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1887)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1888 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1888)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1889 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1889)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1890 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1890)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1891 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1891)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1892 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1892)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.`suit_id` = 576) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1893 AND `cards`.suit_id = 576) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(576, 1893)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:06:50) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 54ms (DB: 183) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 15:06:51) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 564) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 564 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7370)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7383)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7378)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7367)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7366)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7387)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7360)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7356)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7351)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7347)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7345)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7381)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7373)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7372)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7389)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7364)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7341)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7374)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7382)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7376)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7384)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7363)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7354)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7371)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7369)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7385)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7344)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7390)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7355)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7388)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7346)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7392)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7379)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7350)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7377)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7358)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7391)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7348)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7352)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7353)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7362)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7386)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7349)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7343)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7368)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7361)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7375)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7357)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7359)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7342)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7365)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (164, 7380)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 164) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7380, 564)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7365, 564)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7342, 564)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7359, 564)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7357, 564)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 564) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 164, `seat_order` = 0 WHERE `id` = 564[0m
Rendering site/waiting
Completed in 471ms (View: 47, DB: 54) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:06:51) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 15:06:51) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 565) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 565 ) [0m
  [4;36;1mGame Load (6.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 164) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 164 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7380, 565)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7365, 565)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7342, 565)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7359, 565)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7357, 565)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 565) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 164, `seat_order` = 1 WHERE `id` = 565[0m
Rendering site/waiting
Completed in 158ms (View: 25, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:06:51) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 15:06:51) [GET]
  [4;35;1mPlayer Load (3.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 566) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 566 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 164) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 164 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7380, 566)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7365, 566)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7342, 566)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7359, 566)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7357, 566)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 566) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 164, `seat_order` = 2 WHERE `id` = 566[0m
Rendering site/waiting
Completed in 175ms (View: 13, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 15:06:52) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 567) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 567 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 164) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 164 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7380, 567)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7365, 567)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7342, 567)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7359, 567)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7357, 567)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 567) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 164, `seat_order` = 3 WHERE `id` = 567[0m
Rendering site/waiting
Completed in 151ms (View: 25, DB: 21) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 564) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 564 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 565) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 565 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 566) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 566 ) [0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 567) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 567 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 564) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 164) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 164) [0m
Completed in 40ms (View: 37, DB: 23) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 15:06:52) [GET]
Rendering site/play_game
Completed in 6ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 565) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 164) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 164) [0m
Completed in 89ms (View: 85, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 15:06:52) [GET]
Rendering site/play_game
Completed in 18ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (3.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 566) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 164) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 164) [0m
Completed in 26ms (View: 19, DB: 5) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 15:06:52) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 567) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 164) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 164) [0m
Completed in 26ms (View: 21, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 15:06:52) [GET]
Rendering site/play_game
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 15:06:52) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 564) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 164) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1894)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1895)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1896)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1897)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1898)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1899)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1900)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1901)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1902)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1903)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1904)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1905)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.`suit_id` = 577) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.suit_id = 577) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(577, 1906)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1894)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1895)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1896)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1897)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1898)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1899)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1900)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1901)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1902)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1903)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1904)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1905)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.`suit_id` = 578) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.suit_id = 578) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(578, 1906)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1894)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1895)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1896)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1897)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1898)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1899)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1900)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1901)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1902)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1903)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1904)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1905)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.`suit_id` = 579) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.suit_id = 579) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(579, 1906)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1894 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1894)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1895 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1895)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1896 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1896)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1897 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1897)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1898 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1898)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1899 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1899)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1900 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1900)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1901 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1901)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1902 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1902)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1903 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1903)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1904 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1904)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1905 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1905)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.`suit_id` = 580) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1906 AND `cards`.suit_id = 580) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(580, 1906)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:35:40) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 74ms (DB: 211) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:35:41) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 568) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 568 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7411)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7427)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7441)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7397)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7428)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7417)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7438)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7437)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7403)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7444)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7433)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7434)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7429)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7422)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7442)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7418)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7430)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7412)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7394)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7420)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7421)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7440)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7419)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7431)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7399)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7406)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7395)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7413)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7407)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7408)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7410)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7443)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7393)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7439)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7423)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7416)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7415)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7405)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7432)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7401)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7402)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7426)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7414)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7400)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7409)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7398)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7396)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7435)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7424)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7425)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7404)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (165, 7436)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 165) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7436, 568)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7404, 568)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7425, 568)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7424, 568)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7435, 568)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 568) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 165, `seat_order` = 0 WHERE `id` = 568[0m
Rendering site/waiting
Completed in 523ms (View: 42, DB: 48) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:35:42) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:35:42) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 569) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 569 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 165) [0m
  [4;36;1mCard Load (13.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 165 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7436, 569)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7404, 569)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7425, 569)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7424, 569)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7435, 569)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 569) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 165, `seat_order` = 1 WHERE `id` = 569[0m
Rendering site/waiting
Completed in 137ms (View: 19, DB: 23) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:35:42) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:35:42) [GET]
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 570) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 570 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (3.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 165) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 165 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7436, 570)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7404, 570)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7425, 570)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7424, 570)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7435, 570)[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 570) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 165, `seat_order` = 2 WHERE `id` = 570[0m
Rendering site/waiting
Completed in 140ms (View: 17, DB: 28) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:35:42) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:35:42) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 571) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 571 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 165) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 165 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7436, 571)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7404, 571)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7425, 571)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7424, 571)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7435, 571)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 571) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 165, `seat_order` = 3 WHERE `id` = 571[0m
Rendering site/waiting
Completed in 247ms (View: 23, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 568) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 568 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 569) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 569 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 570) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 570 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 571) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 571 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:35:42) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 568) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 165) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 165) [0m
Completed in 31ms (View: 27, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:35:43) [GET]
Rendering site/play_game
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:35:43) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 569) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 165) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 165) [0m
Completed in 25ms (View: 20, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:35:43) [GET]
Rendering site/play_game
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:35:43) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 570) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 165) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 165) [0m
Completed in 20ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:35:43) [GET]
Rendering site/play_game
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:35:43) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 571) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 165) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 165) [0m
Completed in 20ms (View: 18, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:35:43) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 19:35:43) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 568) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 165) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1907)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1908)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1909)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1910)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1911)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1912)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1913)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1914)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1916)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1917)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1918)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.`suit_id` = 581) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.suit_id = 581) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(581, 1919)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1907)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1908)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1909)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1910)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1911)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1912)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1913)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1914)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1915)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1916)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1917)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1918)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.`suit_id` = 582) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.suit_id = 582) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(582, 1919)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1907)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1908)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1909)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1910)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1911)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1912)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1913)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1914)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1916)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1917)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1918)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.`suit_id` = 583) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.suit_id = 583) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(583, 1919)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1907 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1907)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1908 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1908)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1909 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1909)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1910 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1910)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1911 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1911)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1912 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1912)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1913 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1913)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1914 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1914)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1915 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1915)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1916 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1916)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1917 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1917)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1918 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1918)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.`suit_id` = 584) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1919 AND `cards`.suit_id = 584) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(584, 1919)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:36:30) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 41ms (DB: 180) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:36:30) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 572) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 572 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7467)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7479)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7491)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7489)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7446)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7496)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7493)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7469)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7478)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7495)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7453)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7492)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7463)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7445)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7490)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7447)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7470)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7472)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7459)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7468)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7482)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7485)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7462)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7475)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7448)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7466)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7455)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7481)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7474)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7458)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7449)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7451)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7452)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7461)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7494)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7483)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7484)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7460)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7473)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7487)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7477)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7486)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7480)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7454)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7464)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7456)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7465)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7476)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7471)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7457)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7488)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (166, 7450)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 166) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7450, 572)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7488, 572)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7457, 572)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7471, 572)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7476, 572)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 572) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 166, `seat_order` = 0 WHERE `id` = 572[0m
Rendering site/waiting
Completed in 431ms (View: 31, DB: 45) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:36:31) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:36:31) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 573) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 573 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 166) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 166 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7450, 573)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7488, 573)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7457, 573)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7471, 573)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7476, 573)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 573) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 166, `seat_order` = 1 WHERE `id` = 573[0m
Rendering site/waiting
Completed in 171ms (View: 17, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:36:31) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:36:31) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 574) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 574 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 166) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 166 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7450, 574)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7488, 574)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7457, 574)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7471, 574)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7476, 574)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 574) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 166, `seat_order` = 2 WHERE `id` = 574[0m
Rendering site/waiting
Completed in 163ms (View: 17, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:36:31) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:36:31) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 575) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 575 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 166) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 166 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7450, 575)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7488, 575)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7457, 575)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7471, 575)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7476, 575)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 575) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 166, `seat_order` = 3 WHERE `id` = 575[0m
Rendering site/waiting
Completed in 153ms (View: 18, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 572) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 572 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 573) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 573 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 574) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 574 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 575) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 575 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:36:31) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 572) [0m
  [4;35;1mGame Load (4.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 166) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 166) [0m
Completed in 32ms (View: 25, DB: 23) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:36:31) [GET]
Rendering site/play_game
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (8.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1920)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1921)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1922)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1923)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1924)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1925)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1926)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (8.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1927)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1928)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1929)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1930)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1931)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.`suit_id` = 585) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.suit_id = 585) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(585, 1932)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1920)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1921)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1922)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1923)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1924)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1925)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1926)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1927)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1928)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1929)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1930)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1931)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.`suit_id` = 586) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.suit_id = 586) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(586, 1932)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1920)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1921)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1922)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1923)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1924)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1925)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1926)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1927)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1928)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1929)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1930)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1931)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.`suit_id` = 587) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.suit_id = 587) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(587, 1932)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1920 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1920)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1921 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1921)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1922 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1922)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1923 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1923)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1924 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1924)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1925 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1925)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1926 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1926)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1927 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1927)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1928 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1928)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1929 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1929)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1930 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1930)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1931 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1931)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.`suit_id` = 588) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1932 AND `cards`.suit_id = 588) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(588, 1932)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:37:35) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 44ms (DB: 190) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:37:36) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 576) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 576 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7544)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7520)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7512)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7533)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7548)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7528)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7532)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7506)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7516)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7499)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7537)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7546)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7531)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7535)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7545)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7503)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7507)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7519)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7523)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7497)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7540)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7513)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7518)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7547)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7541)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7510)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7538)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7517)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7534)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7500)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7522)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7521)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7525)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7526)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7498)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7515)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7508)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7509)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7542)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7514)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7536)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7502)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7530)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7501)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7527)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7539)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7505)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7529)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7543)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7504)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7524)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (167, 7511)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 167) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7511, 576)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7524, 576)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7504, 576)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7543, 576)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7529, 576)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 576) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 167, `seat_order` = 0 WHERE `id` = 576[0m
Rendering site/waiting
Completed in 362ms (View: 30, DB: 50) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:37:36) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:37:36) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 577) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 577 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 167) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 167 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7511, 577)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7524, 577)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7504, 577)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7543, 577)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7529, 577)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 577) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 167, `seat_order` = 1 WHERE `id` = 577[0m
Rendering site/waiting
Completed in 157ms (View: 16, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:37:36) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:37:36) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 578) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 578 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 167) [0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 167 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7511, 578)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7524, 578)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7504, 578)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7543, 578)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7529, 578)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 578) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 167, `seat_order` = 2 WHERE `id` = 578[0m
Rendering site/waiting
Completed in 135ms (View: 14, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:37:37) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:37:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 579) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 579 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 167) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 167 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7511, 579)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7524, 579)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7504, 579)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7543, 579)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7529, 579)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 579) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 167, `seat_order` = 3 WHERE `id` = 579[0m
Rendering site/waiting
Completed in 127ms (View: 19, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 576) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 576 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 577) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 577 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 578) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 578 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 579) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 579 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:37:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 576) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 167) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 167) [0m
Completed in 29ms (View: 25, DB: 19) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:37:37) [GET]
Rendering site/play_game
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:37:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 577) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 167) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 167) [0m
Completed in 24ms (View: 21, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:37:37) [GET]
Rendering site/play_game
Completed in 67ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1933)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1934)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1935)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1936)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1937)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1938)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1939)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1940)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1941)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1942)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1943)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1944)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.`suit_id` = 589) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.suit_id = 589) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(589, 1945)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1933)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1934)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1935)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1936)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1937)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1938)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1939)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1940)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1941)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1942)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1943)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1944)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.`suit_id` = 590) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.suit_id = 590) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(590, 1945)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1933)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1934)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1935)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1936)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1937)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1938)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1939)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1940)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1941)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1942)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1943)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1944)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.`suit_id` = 591) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.suit_id = 591) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(591, 1945)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1933 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1933)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1934 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1934)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1935 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1935)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1936 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1936)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1937 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1937)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1938 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1938)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1939 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1939)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1940 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1940)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1941 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1941)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1942 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1942)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1943 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1943)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1944 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1944)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.`suit_id` = 592) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1945 AND `cards`.suit_id = 592) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(592, 1945)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:40:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 250) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:40:23) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 580) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 580 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7556)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7553)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7561)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7575)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7550)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7594)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7563)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7562)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7579)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7599)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7568)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7570)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7576)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7592)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7574)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7583)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7564)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7586)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7566)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7552)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7567)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7600)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7585)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7595)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7590)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7551)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7593)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7565)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7581)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7555)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7588)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7580)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7578)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7573)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7571)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7558)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7577)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7572)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7554)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7582)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7598)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7549)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7560)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7557)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7587)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7596)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7591)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7569)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7584)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7589)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7559)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (168, 7597)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 168) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7597, 580)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7559, 580)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7589, 580)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7584, 580)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7569, 580)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 580) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 168, `seat_order` = 0 WHERE `id` = 580[0m
Rendering site/waiting
Completed in 374ms (View: 31, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:40:24) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:40:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 581) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 581 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 168) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 168 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7597, 581)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7559, 581)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7589, 581)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7584, 581)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7569, 581)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 581) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 168, `seat_order` = 1 WHERE `id` = 581[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:40:24) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:40:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 582) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 582 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 168) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 168 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7597, 582)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7559, 582)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7589, 582)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7584, 582)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7569, 582)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 582) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 168, `seat_order` = 2 WHERE `id` = 582[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:40:24) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:40:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 583) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 583 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 168) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 168 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7597, 583)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7559, 583)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7589, 583)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7584, 583)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7569, 583)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 583) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 168, `seat_order` = 3 WHERE `id` = 583[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 580) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 580 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 581) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 581 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 582) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 582 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 583) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 583 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:40:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 580) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 168) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 168) [0m
Completed in 31ms (View: 31, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:40:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:40:24) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 581) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 168) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 168) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:40:24) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1946)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1947)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1948)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1949)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1950)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1951)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1952)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1953)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1954)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1955)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1956)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1957)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.`suit_id` = 593) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.suit_id = 593) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(593, 1958)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1946)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1947)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1948)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1949)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1950)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1951)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1952)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1953)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1954)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1955)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1956)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1957)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.`suit_id` = 594) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.suit_id = 594) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(594, 1958)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1946)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1947)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1948)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1949)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1950)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1951)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1952)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1953)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1954)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1955)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1956)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1957)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.`suit_id` = 595) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.suit_id = 595) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(595, 1958)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1946 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1946)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1947 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1947)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1948 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1948)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1949 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1949)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1950 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1950)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1951 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1951)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1952 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1952)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1953 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1953)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1954 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1954)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1955 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1955)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1956 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1956)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1957 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1957)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.`suit_id` = 596) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1958 AND `cards`.suit_id = 596) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(596, 1958)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:41:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 235) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:41:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 584) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 584 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7610)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7614)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7635)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7629)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7652)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7616)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7602)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7632)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7613)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7634)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7633)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7624)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7601)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7617)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7640)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7642)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7620)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7647)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7625)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7612)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7639)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7644)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7636)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7608)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7605)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7621)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7651)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7618)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7611)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7628)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7637)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7645)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7630)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7641)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7631)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7627)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7626)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7646)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7604)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7623)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7650)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7619)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7622)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7643)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7615)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7649)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7648)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7606)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7609)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7638)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7603)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (169, 7607)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 169) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7607, 584)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7603, 584)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7638, 584)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7609, 584)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7606, 584)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 584) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 169, `seat_order` = 0 WHERE `id` = 584[0m
Rendering site/waiting
Completed in 343ms (View: 31, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:41:24) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:41:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 585) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 585 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 169) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 169 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7607, 585)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7603, 585)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7638, 585)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7609, 585)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7606, 585)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 585) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 169, `seat_order` = 1 WHERE `id` = 585[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:41:24) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:41:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 586) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 586 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 169) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 169 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7607, 586)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7603, 586)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7638, 586)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7609, 586)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7606, 586)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 586) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 169, `seat_order` = 2 WHERE `id` = 586[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:41:25) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:41:25) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 587) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 587 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 169) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 169 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7607, 587)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7603, 587)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7638, 587)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7609, 587)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7606, 587)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 587) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 169, `seat_order` = 3 WHERE `id` = 587[0m
Rendering site/waiting
Completed in 156ms (View: 32, DB: 31) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 584) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 584 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 585) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 585 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 586) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 586 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 587) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 587 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:41:25) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 584) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 169) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 169) [0m
Completed in 32ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:41:25) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:41:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 585) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 169) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 169) [0m
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:41:25) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:41:25) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 586) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 169) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 169) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:41:25) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:41:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 587) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 169) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 169) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:41:25) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1959)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1960)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1961)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1962)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1963)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1964)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1965)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1966)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1967)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1968)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1969)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1970)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.`suit_id` = 597) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.suit_id = 597) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(597, 1971)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1959)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1960)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1961)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1962)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1963)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1964)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1965)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1966)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1967)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1968)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1969)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1970)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.`suit_id` = 598) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.suit_id = 598) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(598, 1971)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1959)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1960)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1961)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1962)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1963)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1964)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1965)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1966)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1967)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1968)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1969)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1970)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.`suit_id` = 599) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.suit_id = 599) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(599, 1971)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1959 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1959)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1960 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1960)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1961 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1961)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1962 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1962)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1963 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1963)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1964 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1964)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1965 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1965)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1966 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1966)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1967 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1967)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1968 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1968)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1969 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1969)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1970 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1970)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.`suit_id` = 600) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1971 AND `cards`.suit_id = 600) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(600, 1971)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:42:02) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 77) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:42:02) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 588) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 588 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7679)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7680)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7671)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7683)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7688)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7696)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7702)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7664)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7662)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7687)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7693)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7689)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7663)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7667)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7685)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7661)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7695)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7659)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7690)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7698)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7654)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7653)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7677)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7691)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7665)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7660)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7682)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7669)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7697)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7700)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7692)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7701)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7674)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7672)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7703)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7699)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7658)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7681)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7656)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7704)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7675)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7676)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7657)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7666)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7668)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7694)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7673)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7655)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7684)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (170, 7686)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 170) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7686, 588)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7684, 588)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7655, 588)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7673, 588)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7694, 588)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 588) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 170, `seat_order` = 0 WHERE `id` = 588[0m
Rendering site/waiting
Completed in 343ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:42:03) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:42:03) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 589) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 589 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 170) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 170 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7686, 589)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7684, 589)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7655, 589)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7673, 589)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7694, 589)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 589) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 170, `seat_order` = 1 WHERE `id` = 589[0m
Rendering site/waiting
Completed in 140ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:42:03) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:42:03) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 590) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 590 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 170) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 170 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7686, 590)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7684, 590)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7655, 590)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7673, 590)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7694, 590)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 590) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 170, `seat_order` = 2 WHERE `id` = 590[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:42:03) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:42:03) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 591) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 591 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 170) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 170 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7686, 591)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7684, 591)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7655, 591)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7673, 591)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7694, 591)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 591) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 170, `seat_order` = 3 WHERE `id` = 591[0m
Rendering site/waiting
Completed in 156ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 588) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 588 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 589) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 589 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 590) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 590 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 591) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 591 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:42:03) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 588) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 170) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 170) [0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:42:03) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:42:03) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 589) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 170) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 170) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:42:04) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:42:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 590) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 170) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 170) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:42:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:42:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 591) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 170) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 170) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:42:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 19:42:04) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 588) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 170) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1972)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1973)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1974)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1975)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1976)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1977)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1978)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1979)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1980)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1981)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1982)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1983)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.`suit_id` = 601) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.suit_id = 601) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(601, 1984)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1972)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1973)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1974)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1975)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1976)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1977)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1978)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1979)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1980)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1981)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1982)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1983)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.`suit_id` = 602) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.suit_id = 602) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(602, 1984)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1972)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1973)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1974)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1975)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1976)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1977)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1978)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1979)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1980)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1981)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1982)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1983)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.`suit_id` = 603) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.suit_id = 603) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(603, 1984)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1972 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1972)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1973 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1973)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1974 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1974)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1975 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1975)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1976 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1976)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1977 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1977)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1978 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1978)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1979 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1979)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1980 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1980)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1981 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1981)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1982 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1982)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1983 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1983)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.`suit_id` = 604) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1984 AND `cards`.suit_id = 604) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(604, 1984)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:45:41) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 126) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:45:41) [GET]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 592) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 592 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7751)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7717)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7746)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7747)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7711)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7748)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7706)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7725)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7726)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7722)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7731)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7715)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7750)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7724)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7756)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7735)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7720)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7721)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7728)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7712)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7730)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7752)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7742)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7737)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7743)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7738)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7745)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7744)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7729)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7734)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7713)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7718)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7723)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7741)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7707)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7739)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7754)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7733)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7710)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7708)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7749)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7732)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7705)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7753)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7727)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7736)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7740)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7714)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7719)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7709)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (171, 7716)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 171) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7716, 592)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7709, 592)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7719, 592)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7714, 592)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7740, 592)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 592) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 171, `seat_order` = 0 WHERE `id` = 592[0m
Rendering site/waiting
Completed in 359ms (View: 31, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:45:41) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:45:41) [GET]
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 593) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 593 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 171) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 171 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7716, 593)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7709, 593)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7719, 593)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7714, 593)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7740, 593)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 593) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 171, `seat_order` = 1 WHERE `id` = 593[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 594) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 594 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 171) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 171 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7716, 594)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7709, 594)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7719, 594)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7714, 594)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7740, 594)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 594) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 171, `seat_order` = 2 WHERE `id` = 594[0m
Rendering site/waiting
Completed in 156ms (View: 32, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 595) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 595 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 171) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 171 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7716, 595)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7709, 595)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7719, 595)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7714, 595)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7740, 595)[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 595) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 171, `seat_order` = 3 WHERE `id` = 595[0m
Rendering site/waiting
Completed in 156ms (View: 31, DB: 32) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 592) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 592 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 593) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 593 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 594) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 594 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 595) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 595 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 592) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 171) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 171) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 593) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 171) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 171) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 594) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 171) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 171) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 595) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 171) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 171) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:45:42) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 19:45:42) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 592) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 171) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1985)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1986)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1987)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1988)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1989)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1990)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1991)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1992)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1993)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1994)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1995)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1996)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.`suit_id` = 605) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.suit_id = 605) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(605, 1997)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1985)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1986)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1987)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1988)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1989)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1990)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1991)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1992)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1993)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1994)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1995)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1996)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.`suit_id` = 606) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.suit_id = 606) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(606, 1997)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1985)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1986)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1987)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1988)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1989)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1990)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1991)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1992)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1993)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1994)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1995)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1996)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.`suit_id` = 607) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.suit_id = 607) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(607, 1997)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1985 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1985)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1986 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1986)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1987 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1987)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1988 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1988)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1989 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1989)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1990 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1990)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1991 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1991)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1992 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1992)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1993 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1993)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1994 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1994)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1995 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1995)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1996 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1996)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.`suit_id` = 608) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1997 AND `cards`.suit_id = 608) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(608, 1997)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:48:00) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 157) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:48:00) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 596) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 596 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7759)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7766)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7765)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7804)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7757)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7778)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7770)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7789)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7773)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7802)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7796)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7760)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7806)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7800)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7767)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7764)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7758)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7769)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7793)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7776)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7805)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7774)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7772)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7807)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7799)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7801)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7777)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7784)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7803)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7783)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7763)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7787)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7788)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7762)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7798)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7797)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7775)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7780)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7786)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7792)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7808)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7794)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7771)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7790)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7785)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7779)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7791)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7781)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7795)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7761)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7768)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (172, 7782)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 172) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7782, 596)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7768, 596)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7761, 596)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7795, 596)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7781, 596)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 596) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 172, `seat_order` = 0 WHERE `id` = 596[0m
Rendering site/waiting
Completed in 343ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 597) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 597 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 172) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 172 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7782, 597)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7768, 597)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7761, 597)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7795, 597)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7781, 597)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 597) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 172, `seat_order` = 1 WHERE `id` = 597[0m
Rendering site/waiting
Completed in 140ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 598) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 598 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 172) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 172 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7782, 598)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7768, 598)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7761, 598)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7795, 598)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7781, 598)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 598) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 172, `seat_order` = 2 WHERE `id` = 598[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 599) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 599 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 172) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 172 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7782, 599)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7768, 599)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7761, 599)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7795, 599)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7781, 599)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 599) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 172, `seat_order` = 3 WHERE `id` = 599[0m
Rendering site/waiting
Completed in 140ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 596) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 596 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 597) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 597 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 598) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 598 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 599) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 599 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 596) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 172) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 172) [0m
Completed in 16ms (View: 0, DB: 47) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 597) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 172) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 172) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
Rendering site/play_game
Completed in 62ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 598) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 172) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 172) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 599) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 172) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 172) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:48:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 19:48:01) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 596) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 172) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 1998)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 1999)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2000)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2001)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2002)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2003)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2004)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2005)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2006)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2007)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2008)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2009)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.`suit_id` = 609) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.suit_id = 609) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(609, 2010)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 1998)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 1999)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2000)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2001)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2002)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2003)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2004)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2005)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2006)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2007)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2008)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2009)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.`suit_id` = 610) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.suit_id = 610) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(610, 2010)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 1998)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 1999)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2000)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2001)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2002)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2003)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2004)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2005)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2006)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2007)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2008)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2009)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.`suit_id` = 611) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.suit_id = 611) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(611, 2010)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1998 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 1998)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 1999 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 1999)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2000 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2000)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2001 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2001)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2002 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2002)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2003 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2003)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2004 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2004)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2005 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2005)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2006 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2006)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2007 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2007)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2008 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2008)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2009 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2009)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.`suit_id` = 612) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2010 AND `cards`.suit_id = 612) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(612, 2010)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:49:12) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 141) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:49:12) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 600) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 600 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7814)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7856)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7848)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7822)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7825)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7812)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7860)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7818)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7827)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7849)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7851)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7842)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7845)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7835)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7844)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7820)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7847)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7840)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7853)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7843)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7850)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7810)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7838)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7852)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7839)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7831)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7837)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7833)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7811)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7841)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7855)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7816)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7836)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7815)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7854)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7821)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7809)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7828)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7857)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7846)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7824)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7832)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7819)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7858)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7829)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7817)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7830)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7826)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7823)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7834)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (173, 7859)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 173) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7859, 600)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7834, 600)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7823, 600)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7813, 600)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7826, 600)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 600) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 173, `seat_order` = 0 WHERE `id` = 600[0m
Rendering site/waiting
Completed in 359ms (View: 32, DB: 62) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:49:13) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 601) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 601 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 173) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 173 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7859, 601)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7834, 601)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7823, 601)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7813, 601)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7826, 601)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 601) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 173, `seat_order` = 1 WHERE `id` = 601[0m
Rendering site/waiting
Completed in 125ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:49:13) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 602) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 602 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 173) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 173 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7859, 602)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7834, 602)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7823, 602)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7813, 602)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7826, 602)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 602) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 173, `seat_order` = 2 WHERE `id` = 602[0m
Rendering site/waiting
Completed in 125ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 19:49:13) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 603) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 603 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 173) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 173 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7859, 603)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7834, 603)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7823, 603)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7813, 603)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7826, 603)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 603) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 173, `seat_order` = 3 WHERE `id` = 603[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 600) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 600 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 601) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 601 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 602) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 602 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 603) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 603 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 600) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 173) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 173) [0m
Completed in 31ms (View: 31, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:49:13) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 601) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 173) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 173) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:49:13) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:49:13) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 602) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 173) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 173) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:49:14) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 19:49:14) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 603) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 173) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 173) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 19:49:14) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#my_turn (for 127.0.0.1 at 2012-02-11 19:49:14) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 600) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 173) [0m

ActionView::MissingTemplate (Missing template site/my_turn.erb in view path app/views):
  test/integration/playing_game_test.rb:244:in `check_turn'
  test/integration/playing_game_test.rb:36:in `test_game_setup'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2011)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2012)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2013)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2014)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2015)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2016)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2017)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2018)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2019)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2020)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2021)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2022)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.`suit_id` = 613) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.suit_id = 613) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(613, 2023)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2011)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2012)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2013)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2014)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2015)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2016)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2017)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2018)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2019)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2020)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2021)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2022)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.`suit_id` = 614) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.suit_id = 614) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(614, 2023)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2011)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2012)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2013)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2014)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2015)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2016)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2017)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2018)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2019)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2020)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2021)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2022)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.`suit_id` = 615) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.suit_id = 615) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(615, 2023)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2011 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2011)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2012 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2012)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2013 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2013)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2014 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2014)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2015 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2015)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2016 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2016)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2017 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2017)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2018 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2018)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2019 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2019)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2020 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2020)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2021 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2021)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2022 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2022)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.`suit_id` = 616) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2023 AND `cards`.suit_id = 616) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(616, 2023)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:36) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 94) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:00:36) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 604) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 604 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7896)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7891)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7898)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7910)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7869)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7900)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7864)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7882)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7905)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7893)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7874)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7892)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7865)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7911)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7897)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7887)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7880)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7907)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7870)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7901)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7908)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7903)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7867)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7886)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7863)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7878)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7873)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7879)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7890)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7899)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7912)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7902)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7894)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7872)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7866)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7883)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7876)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7889)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7906)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7862)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7861)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7884)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7885)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7875)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7895)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7881)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7904)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7868)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7888)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7909)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (174, 7877)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 174) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7877, 604)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7909, 604)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7888, 604)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7868, 604)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7904, 604)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 604) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 174, `seat_order` = 0 WHERE `id` = 604[0m
Rendering site/waiting
Completed in 281ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:36) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 605) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 605 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 174) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 174 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7877, 605)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7909, 605)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7888, 605)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7868, 605)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7904, 605)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 605) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 174, `seat_order` = 1 WHERE `id` = 605[0m
Rendering site/waiting
Completed in 94ms (View: 15, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 606) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 606 ) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 174) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 174 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7877, 606)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7909, 606)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7888, 606)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7868, 606)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7904, 606)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 606) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 174, `seat_order` = 2 WHERE `id` = 606[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 607) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 607 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 174) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 174 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7877, 607)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7909, 607)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7888, 607)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7868, 607)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7904, 607)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 607) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 174, `seat_order` = 3 WHERE `id` = 607[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 604) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 604 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 605) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 605 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 606) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 606 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 607) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 607 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 604) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 174) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 174) [0m
Completed in 32ms (View: 32, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 605) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 174) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 174) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/play_game
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 606) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 174) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 174) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:00:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 607) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 174) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 174) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/login
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:00:37) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2024)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2025)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2026)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2027)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2028)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2029)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2030)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2031)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2032)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2033)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2034)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2035)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.`suit_id` = 617) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.suit_id = 617) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(617, 2036)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2024)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2025)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2026)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2027)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2028)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2029)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2030)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2031)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2032)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2033)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2034)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2035)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.`suit_id` = 618) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.suit_id = 618) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(618, 2036)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2024)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2025)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2026)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2027)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2028)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2029)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2030)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2031)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2032)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2033)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2034)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2035)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.`suit_id` = 619) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.suit_id = 619) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(619, 2036)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2024 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2024)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2025 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2025)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2026 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2026)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2027 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2027)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2028 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2028)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2029 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2029)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2030 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2030)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2031 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2031)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2032 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2032)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2033 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2033)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2034 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2034)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2035 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2035)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.`suit_id` = 620) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2036 AND `cards`.suit_id = 620) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(620, 2036)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:39) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 63ms (DB: 124) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:40) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 608) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 608 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7921)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7937)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7944)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7913)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7938)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7947)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7958)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7925)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7940)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7930)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7962)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7920)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7924)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7959)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7928)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7931)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7932)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7916)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7929)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7936)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7963)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7946)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7942)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7935)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7961)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7945)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7955)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7919)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7960)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7951)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7923)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7964)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7949)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7957)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7943)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7915)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7927)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7918)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7950)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7926)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7934)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7914)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7954)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7953)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7952)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7922)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7933)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7948)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7956)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7941)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7939)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (175, 7917)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 175) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7917, 608)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7939, 608)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7941, 608)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7956, 608)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7948, 608)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 608) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 175, `seat_order` = 0 WHERE `id` = 608[0m
Rendering site/waiting
Completed in 359ms (View: 31, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:40) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:40) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 609) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 609 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 175) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 175 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7917, 609)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7939, 609)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7941, 609)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7956, 609)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7948, 609)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 609) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 175, `seat_order` = 1 WHERE `id` = 609[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:40) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:40) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 610) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 610 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 175) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 175 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7917, 610)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7939, 610)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7941, 610)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7956, 610)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7948, 610)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 610) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 175, `seat_order` = 2 WHERE `id` = 610[0m
Rendering site/waiting
Completed in 171ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:40) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:40) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 611) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 611 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 175) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 175 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7917, 611)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7939, 611)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7941, 611)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7956, 611)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7948, 611)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 611) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 175, `seat_order` = 3 WHERE `id` = 611[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 608) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 608 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 609) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 609 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 610) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 610 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 611) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 611 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:41) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 608) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 175) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 175) [0m
Completed in 31ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:41) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 609) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 175) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 175) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:41) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 610) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 175) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 175) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:41) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 611) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 175) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 175) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:41) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2037)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2038)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2039)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2040)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2041)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2042)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2043)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2044)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2045)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2046)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2047)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2048)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.`suit_id` = 621) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.suit_id = 621) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(621, 2049)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2037)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2038)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2039)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2040)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2041)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2042)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2043)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2044)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2045)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2046)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2047)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2048)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.`suit_id` = 622) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.suit_id = 622) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(622, 2049)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2037)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2038)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2039)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2040)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2041)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2042)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2043)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2044)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2045)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2046)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2047)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2048)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.`suit_id` = 623) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.suit_id = 623) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(623, 2049)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2037 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2037)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2038 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2038)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2039 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2039)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2040 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2040)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2041 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2041)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2042 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2042)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2043 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2043)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2044 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2044)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2045 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2045)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2046 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2046)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2047 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2047)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2048 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2048)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.`suit_id` = 624) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2049 AND `cards`.suit_id = 624) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(624, 2049)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 154) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 612 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8000)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7976)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8003)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8011)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8012)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7967)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7981)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8004)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7990)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7985)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8002)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7999)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7977)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8016)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8014)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7998)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7997)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8009)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7968)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8006)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8008)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7975)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7996)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7992)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7986)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7974)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7969)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7984)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8001)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7965)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7995)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7971)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8007)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7972)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8013)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7966)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7991)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7978)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7993)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7970)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7988)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7994)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8005)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8015)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8010)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7987)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7979)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7989)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7980)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7982)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7983)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 7973)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 176) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7973, 612)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7983, 612)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7982, 612)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7980, 612)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7989, 612)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 612) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 176, `seat_order` = 0 WHERE `id` = 612[0m
Rendering site/waiting
Completed in 281ms (View: 15, DB: 96) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 613 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 176) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 176 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7973, 613)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7983, 613)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7982, 613)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7980, 613)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7989, 613)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 613) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 176, `seat_order` = 1 WHERE `id` = 613[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 614) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 614 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 176 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7973, 614)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7983, 614)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7982, 614)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7980, 614)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7989, 614)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 614) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 176, `seat_order` = 2 WHERE `id` = 614[0m
Rendering site/waiting
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 615) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 615 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 176) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 176 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7973, 615)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7983, 615)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7982, 615)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7980, 615)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7989, 615)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 615) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 176, `seat_order` = 3 WHERE `id` = 615[0m
Rendering site/waiting
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 176) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 176) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:43) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:43) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 614) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 176) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:44) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 615) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 176) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:32:44) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 612 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 612 AND card_id IN (7973,7983,7982,7980,7989)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8008, 612)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 613 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 613 AND card_id IN (7973,7983,7982,7980,7989)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8003, 613)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 614 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 614 AND card_id IN (7973,7983,7982,7980,7989)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7972, 614)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 615 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 615 AND card_id IN (7973,7983,7982,7980,7989)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (7981, 615)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 614) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 615) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (176, 7999)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 176 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 176 AND card_id IN (8000,7976,8003,8011,8012,7967,7981,8004,7990,7985,8002,7999,7977,8016,8014,7998,7997,8009,7968,8006,8008,7975,7996,7992,7986,7974,7969,7984,8001,7965,7995,7971,8007,7972,8013,7966,7991,7978,7993,7970,7988,7994,8005,8015,8010,7987,7979,7989,7980,7982,7983,7973)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (176, 8000)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 615) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 615) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
Rendering site/discard
Completed in 16ms (View: 0, DB: 79) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 7990) AND (`cards_players`.player_id = 612 ) LIMIT 1[0m
Rendering site/discard
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8008) AND (`cards_players`.player_id = 612 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (176, 8008)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2041) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2045) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 624) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 176 AND card_id IN (8008)[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 176 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8000, 612)[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2046) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 612 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8000) AND (`cards_players`.player_id = 612 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (176, 8000)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2046) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2045) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 612 AND card_id IN (8000)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 612 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 1 WHERE `id` = 176[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 30) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 612) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 612 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8003) AND (`cards_players`.player_id = 613 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (176, 8003)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 176 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2049) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2046) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 623) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 613 AND card_id IN (8003)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 613 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 176[0m
Rendering site/discard
Completed in 63ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 613) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 613 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:32:44) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 614) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 614) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 176) [0m
Rendering site/discard
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2050)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2051)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2052)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2053)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2054)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2055)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2056)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2057)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2058)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2059)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2060)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2061)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.`suit_id` = 625) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.suit_id = 625) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(625, 2062)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2050)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2051)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2052)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2053)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2054)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2055)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2056)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2057)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2058)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2059)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2060)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2061)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.`suit_id` = 626) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.suit_id = 626) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(626, 2062)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2050)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2051)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2052)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2053)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2054)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2055)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2056)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2057)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2058)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2059)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2060)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2061)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.`suit_id` = 627) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.suit_id = 627) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(627, 2062)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2050 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2050)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2051 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2051)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2052 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2052)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2053 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2053)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2054 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2054)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2055 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2055)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2056 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2056)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2057 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2057)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2058 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2058)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2059 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2059)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2060 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2060)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2061 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2061)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.`suit_id` = 628) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2062 AND `cards`.suit_id = 628) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(628, 2062)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:14) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 128) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:14) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 616) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 616 ) [0m
  [4;36;1mGame Load (15.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8028)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8042)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8024)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8059)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8031)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8053)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8065)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8039)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8060)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8068)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8041)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8017)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8049)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8054)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8047)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8066)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8045)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8067)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8018)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8055)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8035)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8023)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8043)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8026)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8063)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8030)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8034)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8056)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8061)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8025)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8020)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8058)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8027)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8064)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8051)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8022)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8036)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8038)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8044)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8048)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8032)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8046)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8029)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8062)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8037)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8021)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8052)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8033)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8050)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8040)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8057)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (177, 8019)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 177) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8019, 616)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8057, 616)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8040, 616)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8050, 616)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8033, 616)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 616) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 177, `seat_order` = 0 WHERE `id` = 616[0m
Rendering site/waiting
Completed in 374ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:15) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:15) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 617) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 617 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 177) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 177 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8019, 617)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8057, 617)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8040, 617)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8050, 617)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8033, 617)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 617) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 177, `seat_order` = 1 WHERE `id` = 617[0m
Rendering site/waiting
Completed in 140ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:15) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:15) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 618) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 618 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 177) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 177 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8019, 618)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8057, 618)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8040, 618)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8050, 618)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8033, 618)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 618) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 177, `seat_order` = 2 WHERE `id` = 618[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:15) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:15) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 619) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 619 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 177) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 177 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8019, 619)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8057, 619)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8040, 619)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8050, 619)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8033, 619)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 619) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 177, `seat_order` = 3 WHERE `id` = 619[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 616) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 616 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 617) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 617 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 618) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 618 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 619) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 619 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:15) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 616) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 177) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 177) [0m
Completed in 31ms (View: 31, DB: 30) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:15) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:15) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 617) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 177) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 177) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:16) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 618) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 177) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 177) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:16) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 619) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 177) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 177) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/login
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:16) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2063)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2064)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2065)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2066)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2067)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2068)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2069)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2070)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2071)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2072)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2073)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2074)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.`suit_id` = 629) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.suit_id = 629) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(629, 2075)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2063)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2064)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2065)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2066)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2067)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2068)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2069)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2070)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2071)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2072)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2073)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2074)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.`suit_id` = 630) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.suit_id = 630) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(630, 2075)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2063)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2064)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2065)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2066)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2067)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2068)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2069)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2070)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2071)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2072)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2073)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2074)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.`suit_id` = 631) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.suit_id = 631) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(631, 2075)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2063 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2063)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2064 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2064)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2065 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2065)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2066 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2066)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2067 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2067)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2068 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2068)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2069 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2069)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2070 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2070)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2071 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2071)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2072 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2072)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2073 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2073)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2074 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2074)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.`suit_id` = 632) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2075 AND `cards`.suit_id = 632) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(632, 2075)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:18) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 142) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:18) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 620 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8097)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8069)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8075)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8105)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8079)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8113)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8088)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8074)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8085)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8099)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8104)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8106)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8090)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8102)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8082)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8087)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8115)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8089)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8118)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8073)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8100)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8103)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8091)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8086)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8108)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8101)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8120)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8112)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8081)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8077)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8080)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8078)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8094)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8084)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8076)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8083)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8098)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8071)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8110)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8070)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8107)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8093)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8095)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8096)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8116)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8119)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8092)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8111)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8117)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8114)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8109)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8072)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 178) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8072, 620)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8109, 620)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8114, 620)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8117, 620)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8111, 620)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 620) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 178, `seat_order` = 0 WHERE `id` = 620[0m
Rendering site/waiting
Completed in 218ms (View: 15, DB: 62) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:18) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:18) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 621 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 178) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 178 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8072, 621)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8109, 621)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8114, 621)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8117, 621)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8111, 621)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 621) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 178, `seat_order` = 1 WHERE `id` = 621[0m
Rendering site/waiting
Completed in 187ms (View: 15, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:18) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:18) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 622) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 622 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 178 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8072, 622)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8109, 622)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8114, 622)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8117, 622)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8111, 622)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 622) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 178, `seat_order` = 2 WHERE `id` = 622[0m
Rendering site/waiting
Completed in 141ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:34:18) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:34:18) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 623) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 623 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 178) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 178 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8072, 623)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8109, 623)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8114, 623)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8117, 623)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8111, 623)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 623) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 178, `seat_order` = 3 WHERE `id` = 623[0m
Rendering site/waiting
Completed in 125ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:18) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 178) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:19) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 178) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 622) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 178) [0m
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:19) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 623) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 178) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:34:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 620 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 620 AND card_id IN (8072,8109,8114,8117,8111)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8112, 620)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 621 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 621 AND card_id IN (8072,8109,8114,8117,8111)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8107, 621)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 622 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 622 AND card_id IN (8072,8109,8114,8117,8111)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8076, 622)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 623 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 623 AND card_id IN (8072,8109,8114,8117,8111)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8085, 623)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 622) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 623) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (178, 8103)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 178 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 178 AND card_id IN (8097,8069,8075,8105,8079,8113,8088,8074,8085,8099,8104,8106,8090,8102,8082,8087,8115,8089,8118,8073,8100,8103,8091,8086,8108,8101,8120,8112,8081,8077,8080,8078,8094,8084,8076,8083,8098,8071,8110,8070,8107,8093,8095,8096,8116,8119,8092,8111,8117,8114,8109,8072)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (178, 8104)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 623) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 623) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8085) AND (`cards_players`.player_id = 623 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (178, 8085)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2066) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2071) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 630) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 178 AND card_id IN (8085)[0m
Rendering site/discard
Completed in 47ms (View: 16, DB: 47) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8094) AND (`cards_players`.player_id = 620 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8112) AND (`cards_players`.player_id = 620 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (178, 8112)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2067) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2071) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 632) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 178 AND card_id IN (8112)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 178 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8104, 620)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2072) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 620 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8104) AND (`cards_players`.player_id = 620 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (178, 8104)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2072) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2071) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 620 AND card_id IN (8104)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 620 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 178[0m
Rendering site/discard
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 620) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 620 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8107) AND (`cards_players`.player_id = 621 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (178, 8107)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 178 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2075) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2072) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 631) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 621 AND card_id IN (8107)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 621 ) [0m
  [4;36;1mGame Update (16.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 178[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 47) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 621) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 621 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:34:19) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 622) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 622) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 178) [0m
Rendering site/discard
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2076)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2077)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2078)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2079)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2080)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2081)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2082)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2083)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2084)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2085)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2086)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2087)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.`suit_id` = 633) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.suit_id = 633) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(633, 2088)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2076)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2077)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2078)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2079)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2080)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2081)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2082)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2083)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2084)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2085)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2086)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2087)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.`suit_id` = 634) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.suit_id = 634) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(634, 2088)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2076)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2077)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2078)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2079)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2080)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2081)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2082)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2083)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2084)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2085)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2086)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2087)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.`suit_id` = 635) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.suit_id = 635) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(635, 2088)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2076 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2076)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2077 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2077)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2078 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2078)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2079 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2079)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2080 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2080)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2081 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2081)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2082 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2082)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2083 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2083)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2084 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2084)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2085 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2085)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2086 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2086)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2087 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2087)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.`suit_id` = 636) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2088 AND `cards`.suit_id = 636) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(636, 2088)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:36:58) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 122) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:36:59) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 624) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 624 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8161)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8136)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8150)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8159)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8146)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8160)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8170)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8152)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8156)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8140)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8142)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8148)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8166)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8126)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8135)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8149)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8164)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8138)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8123)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8121)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8134)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8125)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8172)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8130)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8154)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8169)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8162)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8131)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8129)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8147)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8151)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8137)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8132)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8145)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8122)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8163)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8158)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8144)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8153)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8139)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8127)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8141)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8155)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8133)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8171)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8143)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8128)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8157)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8168)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8124)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8167)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (179, 8165)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 179) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8165, 624)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8167, 624)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8124, 624)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8168, 624)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8157, 624)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 624) LIMIT 1[0m
  [4;36;1mPlayer Update (16.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 179, `seat_order` = 0 WHERE `id` = 624[0m
Rendering site/waiting
Completed in 359ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:36:59) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:36:59) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 625) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 625 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 179) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 179 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8165, 625)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8167, 625)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8124, 625)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8168, 625)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8157, 625)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 625) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 179, `seat_order` = 1 WHERE `id` = 625[0m
Rendering site/waiting
Completed in 171ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:36:59) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:36:59) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 626) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 626 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 179) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 179 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8165, 626)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8167, 626)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8124, 626)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8168, 626)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8157, 626)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 626) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 179, `seat_order` = 2 WHERE `id` = 626[0m
Rendering site/waiting
Completed in 94ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:00) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 627) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 627 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 179) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 179 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8165, 627)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8167, 627)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8124, 627)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8168, 627)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8157, 627)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 627) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 179, `seat_order` = 3 WHERE `id` = 627[0m
Rendering site/waiting
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 624) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 624 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 625) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 625 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 626) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 626 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 627) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 627 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:00) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 624) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 179) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 179) [0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:00) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 625) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 179) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 179) [0m
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:00) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 626) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 179) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 179) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:00) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 627) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 179) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 179) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:00) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2089)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2090)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2091)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2092)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2093)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2094)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2095)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2096)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2097)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2098)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2099)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2100)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.`suit_id` = 637) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.suit_id = 637) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(637, 2101)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2089)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2090)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2091)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2092)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2093)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2094)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2095)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2096)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2097)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2098)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2099)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2100)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.`suit_id` = 638) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.suit_id = 638) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(638, 2101)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2089)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2090)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2091)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2092)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2093)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2094)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2095)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2096)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2097)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2098)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2099)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2100)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.`suit_id` = 639) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.suit_id = 639) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(639, 2101)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2089 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2089)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2090 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2090)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2091 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2091)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2092 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2092)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2093 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2093)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2094 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2094)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2095 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2095)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2096 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2096)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2097 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2097)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2098 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2098)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2099 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2099)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2100 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2100)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.`suit_id` = 640) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2101 AND `cards`.suit_id = 640) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(640, 2101)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:02) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:37:02) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 628 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8201)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8218)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8206)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8176)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8215)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8200)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8195)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8183)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8205)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8216)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8220)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8181)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8177)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8179)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8188)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8208)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8219)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8193)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8196)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8189)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8207)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8186)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8209)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8190)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8210)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8217)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8180)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8187)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8194)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8174)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8175)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8211)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8198)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8213)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8214)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8173)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8184)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8204)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8202)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8222)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8191)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8203)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8224)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8178)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8182)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8212)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8197)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8221)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8199)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8192)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8185)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8223)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 180) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8223, 628)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8185, 628)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8192, 628)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8199, 628)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8221, 628)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 628) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 180, `seat_order` = 0 WHERE `id` = 628[0m
Rendering site/waiting
Completed in 250ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:02) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:37:02) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 629 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 180) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 180 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8223, 629)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8185, 629)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8192, 629)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8199, 629)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8221, 629)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 629) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 180, `seat_order` = 1 WHERE `id` = 629[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:02) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:37:02) [GET]
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 630 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 180) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 180 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8223, 630)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8185, 630)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8192, 630)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8199, 630)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8221, 630)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 630) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 180, `seat_order` = 2 WHERE `id` = 630[0m
Rendering site/waiting
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:37:02) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:37:02) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 631 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 180) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 180 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8223, 631)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8185, 631)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8192, 631)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8199, 631)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8221, 631)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 631) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 180, `seat_order` = 3 WHERE `id` = 631[0m
Rendering site/waiting
Completed in 93ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 180) [0m
Completed in 32ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:03) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 180) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:03) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 180) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:03) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 180) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:37:03) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 628 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 628 AND card_id IN (8223,8185,8192,8199,8221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8216, 628)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 629 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 629 AND card_id IN (8223,8185,8192,8199,8221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8211, 629)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 630 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 630 AND card_id IN (8223,8185,8192,8199,8221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8180, 630)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 631 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 631 AND card_id IN (8223,8185,8192,8199,8221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8189, 631)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8207)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 180 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 180 AND card_id IN (8201,8218,8206,8176,8215,8200,8195,8183,8205,8216,8220,8181,8177,8179,8188,8208,8219,8193,8196,8189,8207,8186,8209,8190,8210,8217,8180,8187,8194,8174,8175,8211,8198,8213,8214,8173,8184,8204,8202,8222,8191,8203,8224,8178,8182,8212,8197,8221,8199,8192,8185,8223)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (180, 8208)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 631) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8189) AND (`cards_players`.player_id = 631 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8189)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2092) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2097) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 638) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 180 AND card_id IN (8189)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 93) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8198) AND (`cards_players`.player_id = 628 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8216) AND (`cards_players`.player_id = 628 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8216)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2093) [0m
  [4;35;1mRank Load (15.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2097) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 640) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 180 AND card_id IN (8216)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 180 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8208, 628)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2098) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 628 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8208) AND (`cards_players`.player_id = 628 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8208)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2098) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2097) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 628 AND card_id IN (8208)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 628 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 180[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 628) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 628 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:03) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8211) AND (`cards_players`.player_id = 629 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8211)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2101) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2098) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 639) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 629 AND card_id IN (8211)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 629 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 180[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 629) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 629 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:37:04) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 630) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 180) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8180) AND (`cards_players`.player_id = 630 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (180, 8180)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 180 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2096) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 630 AND card_id IN (8180)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 630 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 180[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2102)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2103)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2104)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2105)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2106)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2107)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2108)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2109)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2110)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2111)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2112)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2113)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.`suit_id` = 641) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.suit_id = 641) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(641, 2114)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2102)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2103)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2104)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2105)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2106)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2107)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2108)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2109)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2110)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2111)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2112)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2113)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.`suit_id` = 642) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.suit_id = 642) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(642, 2114)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2102)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2103)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2104)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2105)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2106)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2107)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2108)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2109)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2110)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2111)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2112)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2113)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.`suit_id` = 643) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.suit_id = 643) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(643, 2114)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2102 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2102)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2103 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2103)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2104 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2104)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2105 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2105)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2106 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2106)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2107 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2107)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2108 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2108)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2109 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2109)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2110 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2110)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2111 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2111)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2112 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2112)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2113 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2113)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.`suit_id` = 644) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2114 AND `cards`.suit_id = 644) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(644, 2114)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:19) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 205) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:20) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 632) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 632 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8266)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8276)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8271)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8265)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8262)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8250)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8246)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8229)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8237)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8256)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8234)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8274)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8254)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8239)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8228)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8238)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8225)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8268)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8273)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8258)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8269)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8257)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8226)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8240)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8236)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8235)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8270)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8227)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8244)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8263)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8241)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8253)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8243)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8245)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8275)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8247)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8232)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8248)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8251)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8230)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8231)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8272)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8260)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8264)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8259)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8233)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8267)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8249)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8242)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8261)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (181, 8252)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 181) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8252, 632)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8261, 632)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8242, 632)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8249, 632)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8267, 632)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 632) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 181, `seat_order` = 0 WHERE `id` = 632[0m
Rendering site/waiting
Completed in 312ms (View: 31, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:20) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:20) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 633) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 633 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 181) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 181 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8252, 633)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8261, 633)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8242, 633)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8249, 633)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8267, 633)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 633) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 181, `seat_order` = 1 WHERE `id` = 633[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:20) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:20) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 634) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 634 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 181) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 181 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8252, 634)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8261, 634)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8242, 634)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8249, 634)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8267, 634)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 634) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 181, `seat_order` = 2 WHERE `id` = 634[0m
Rendering site/waiting
Completed in 125ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:21) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 635) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 635 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 181) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 181 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8252, 635)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8261, 635)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8242, 635)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8249, 635)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8267, 635)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 635) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 181, `seat_order` = 3 WHERE `id` = 635[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 632) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 632 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 633) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 633 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 634) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 634 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 635) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 635 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:21) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 632) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 181) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 181) [0m
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:21) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 633) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 181) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 181) [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:21) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 634) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 181) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 181) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:21) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 635) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 181) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 181) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/login
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/login
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:21) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2115)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2116)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2117)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2118)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2119)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2120)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2121)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2122)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2123)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2124)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2125)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2126)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.`suit_id` = 645) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.suit_id = 645) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(645, 2127)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2115)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2116)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2117)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2118)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2119)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2120)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2121)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2122)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2123)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2124)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2125)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2126)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.`suit_id` = 646) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.suit_id = 646) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(646, 2127)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2115)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2116)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2117)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2118)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2119)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2120)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2121)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2122)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2123)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2124)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2125)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2126)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.`suit_id` = 647) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.suit_id = 647) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(647, 2127)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2115 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2115)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2116 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2116)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2117 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2117)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2118 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2118)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2119 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2119)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2120 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2120)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2121 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2121)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2122 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2122)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2123 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2123)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2124 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2124)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2125 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2125)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2126 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2126)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.`suit_id` = 648) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2127 AND `cards`.suit_id = 648) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(648, 2127)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 77) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 636 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8316)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8304)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8297)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8326)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8283)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8300)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8320)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8317)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8321)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8310)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8281)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8322)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8301)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8292)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8319)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8278)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8306)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8324)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8303)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8325)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8284)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8318)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8313)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8290)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8309)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8294)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8302)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8298)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8285)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8295)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8307)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8279)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8315)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8282)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8328)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8299)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8314)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8287)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8327)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8291)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8280)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8312)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8293)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8311)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8305)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8323)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8308)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8288)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8277)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8289)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8286)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8296)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 182) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8296, 636)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8286, 636)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8289, 636)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8277, 636)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8288, 636)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 636) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 182, `seat_order` = 0 WHERE `id` = 636[0m
Rendering site/waiting
Completed in 219ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 637 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 182 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8296, 637)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8286, 637)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8289, 637)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8277, 637)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8288, 637)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 637) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 182, `seat_order` = 1 WHERE `id` = 637[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 638 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 182) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 182 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8296, 638)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8286, 638)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8289, 638)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8277, 638)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8288, 638)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 638) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 182, `seat_order` = 2 WHERE `id` = 638[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 79) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 639 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 182) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 182 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8296, 639)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8286, 639)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8289, 639)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8277, 639)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8288, 639)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 639) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 182, `seat_order` = 3 WHERE `id` = 639[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mGame Load (15.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 182) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 182) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 182) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:23) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:39:23) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 182) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:39:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 636 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 636 AND card_id IN (8296,8286,8289,8277,8288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8320, 636)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 637 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 637 AND card_id IN (8296,8286,8289,8277,8288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8315, 637)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 638 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 638 AND card_id IN (8296,8286,8289,8277,8288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8284, 638)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 639 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 639 AND card_id IN (8296,8286,8289,8277,8288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8293, 639)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8311)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 182 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 182 AND card_id IN (8316,8304,8297,8326,8283,8300,8320,8317,8321,8310,8281,8322,8301,8292,8319,8278,8306,8324,8303,8325,8284,8318,8313,8290,8309,8294,8302,8298,8285,8295,8307,8279,8315,8282,8328,8299,8314,8287,8327,8291,8280,8312,8293,8311,8305,8323,8308,8288,8277,8289,8286,8296)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (182, 8312)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;36;1mGame Load (15.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8293) AND (`cards_players`.player_id = 639 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8293)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2118) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2123) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 646) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 182 AND card_id IN (8293)[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 108) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8302) AND (`cards_players`.player_id = 636 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8320) AND (`cards_players`.player_id = 636 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8320)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2119) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2123) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 648) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 182 AND card_id IN (8320)[0m
Rendering site/discard
Completed in 63ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 182 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8312, 636)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2124) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 636 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8312) AND (`cards_players`.player_id = 636 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8312)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2124) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2123) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 636 AND card_id IN (8312)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 636 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 182[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 636) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 636 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8315) AND (`cards_players`.player_id = 637 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8315)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2127) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2124) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 647) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 637 AND card_id IN (8315)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 637 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 182[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 637) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 637 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:39:24) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 182) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8284) AND (`cards_players`.player_id = 638 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (182, 8284)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 182 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2122) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 638 AND card_id IN (8284)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 638 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 182[0m
Rendering site/discard
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2128)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2129)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2130)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2131)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2132)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2133)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2134)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2135)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2137)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2138)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2139)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.`suit_id` = 649) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.suit_id = 649) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(649, 2140)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2128)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2129)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2130)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2131)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2132)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2133)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2134)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2135)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2136)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2137)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2138)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2139)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.`suit_id` = 650) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.suit_id = 650) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(650, 2140)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2128)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2129)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2130)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2131)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2132)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2133)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2134)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2135)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2137)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2138)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2139)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.`suit_id` = 651) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.suit_id = 651) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(651, 2140)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2128 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2128)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2129 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2129)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2130 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2130)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2131 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2131)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2132 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2132)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2133 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2133)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2134 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2134)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2135 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2135)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2136 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2136)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2137 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2137)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2138 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2138)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2139 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2139)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.`suit_id` = 652) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2140 AND `cards`.suit_id = 652) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(652, 2140)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 47) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:23) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 640) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 640 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8347)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8354)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8360)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8357)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8362)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8380)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8372)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8378)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8373)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8374)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8352)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8343)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8358)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8367)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8348)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8332)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8371)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8330)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8341)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8342)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8376)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8370)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8337)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8366)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8338)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8377)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8339)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8336)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8351)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8363)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8379)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8355)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8359)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8334)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8350)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8375)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8340)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8333)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8335)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8364)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8369)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8344)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8353)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8361)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8365)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8356)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8331)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8349)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8329)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8346)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8368)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (183, 8345)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 183) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8345, 640)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8368, 640)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8346, 640)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8329, 640)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8349, 640)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 640) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 183, `seat_order` = 0 WHERE `id` = 640[0m
Rendering site/waiting
Completed in 390ms (View: 31, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:23) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:23) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 641) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 641 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 183) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 183 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8345, 641)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8368, 641)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8346, 641)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8329, 641)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8349, 641)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 641) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 183, `seat_order` = 1 WHERE `id` = 641[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 642) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 642 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 183) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 183 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8345, 642)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8368, 642)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8346, 642)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8329, 642)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8349, 642)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 642) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 183, `seat_order` = 2 WHERE `id` = 642[0m
Rendering site/waiting
Completed in 156ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 643) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 643 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 183) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 183 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8345, 643)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8368, 643)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8346, 643)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8329, 643)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8349, 643)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 643) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 183, `seat_order` = 3 WHERE `id` = 643[0m
Rendering site/waiting
Completed in 140ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 640) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 640 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 641) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 641 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 642) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 642 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 643) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 643 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 640) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 183) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 183) [0m
Completed in 31ms (View: 31, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 641) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 183) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 183) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 642) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 183) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 183) [0m
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:24) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 643) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 183) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 183) [0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/login
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:24) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2141)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2142)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2143)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2144)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2145)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2146)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2147)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2148)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2149)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2150)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2151)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2152)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.`suit_id` = 653) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.suit_id = 653) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(653, 2153)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2141)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2142)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2143)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2144)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2145)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2146)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2147)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2148)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2149)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2150)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2151)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2152)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.`suit_id` = 654) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.suit_id = 654) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(654, 2153)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2141)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2142)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2143)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2144)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2145)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2146)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2147)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2148)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2149)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2150)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2151)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2152)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.`suit_id` = 655) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.suit_id = 655) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(655, 2153)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2141 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2141)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2142 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2142)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2143 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2143)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2144 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2144)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2145 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2145)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2146 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2146)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2147 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2147)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2148 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2148)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2149 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2149)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2150 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2150)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2151 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2151)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2152 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2152)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.`suit_id` = 656) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2153 AND `cards`.suit_id = 656) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(656, 2153)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:26) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 201) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:26) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 644 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8405)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8382)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8389)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8425)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8429)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8394)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8415)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8421)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8408)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8414)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8386)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8384)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8381)[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8426)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8416)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8424)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8406)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8431)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8388)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8410)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8399)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8401)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8402)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8419)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8395)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8432)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8396)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8390)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8393)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8422)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8392)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8398)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8391)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8420)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8413)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8404)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8411)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8409)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8423)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8407)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8385)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8417)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8412)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8387)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8397)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8427)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8383)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8428)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8400)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8418)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8403)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8430)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 184) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8430, 644)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8403, 644)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8418, 644)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8400, 644)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8428, 644)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 644) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 184, `seat_order` = 0 WHERE `id` = 644[0m
Rendering site/waiting
Completed in 312ms (View: 31, DB: 93) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 645 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 184) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 184 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8430, 645)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8403, 645)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8418, 645)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8400, 645)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8428, 645)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 645) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 184, `seat_order` = 1 WHERE `id` = 645[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 646 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 184) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 184 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8430, 646)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8403, 646)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8418, 646)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8400, 646)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8428, 646)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 646) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 184, `seat_order` = 2 WHERE `id` = 646[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 647 ) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 184 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8430, 647)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8403, 647)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8418, 647)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8400, 647)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8428, 647)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 647) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 184, `seat_order` = 3 WHERE `id` = 647[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 184) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 184) [0m
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 184) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 184) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:41:27) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 644 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 644 AND card_id IN (8430,8403,8418,8400,8428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8424, 644)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 645 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 645 AND card_id IN (8430,8403,8418,8400,8428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8419, 645)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 646 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 646 AND card_id IN (8430,8403,8418,8400,8428)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8388, 646)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 647 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 647 AND card_id IN (8430,8403,8418,8400,8428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8397, 647)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8415)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 184 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 184 AND card_id IN (8405,8382,8389,8425,8429,8394,8415,8421,8408,8414,8386,8384,8381,8426,8416,8424,8406,8431,8388,8410,8399,8401,8402,8419,8395,8432,8396,8390,8393,8422,8392,8398,8391,8420,8413,8404,8411,8409,8423,8407,8385,8417,8412,8387,8397,8427,8383,8428,8400,8418,8403,8430)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (184, 8416)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:27) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 647) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8397) AND (`cards_players`.player_id = 647 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8397)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2144) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2149) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 654) [0m
  [4;36;1mSuit Load (16.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 184 AND card_id IN (8397)[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 92) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8406) AND (`cards_players`.player_id = 644 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8424) AND (`cards_players`.player_id = 644 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8424)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2145) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2149) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 656) [0m
  [4;35;1mSuit Load (15.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 184 AND card_id IN (8424)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 184 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8416, 644)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2150) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 644 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8416) AND (`cards_players`.player_id = 644 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8416)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2150) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2149) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 644 AND card_id IN (8416)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 644 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 184[0m
Rendering site/discard
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 644) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 644 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8419) AND (`cards_players`.player_id = 645 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8419)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2153) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2150) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 655) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 645 AND card_id IN (8419)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 645 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 184[0m
Rendering site/discard
Completed in 94ms (View: 16, DB: 46) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 645) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 645 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:41:28) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 646) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 184) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8388) AND (`cards_players`.player_id = 646 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (184, 8388)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 184 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2148) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 646 AND card_id IN (8388)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 646 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 184[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2154)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2155)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2156)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2157)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2158)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2159)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2160)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2161)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2162)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2163)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2164)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2165)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.`suit_id` = 657) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.suit_id = 657) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(657, 2166)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2154)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2155)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2156)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2157)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2158)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2159)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2160)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2161)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2162)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2163)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2164)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2165)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.`suit_id` = 658) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.suit_id = 658) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(658, 2166)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2154)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2155)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2156)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2157)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2158)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2159)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2160)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2161)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2162)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2163)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2164)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2165)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.`suit_id` = 659) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.suit_id = 659) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(659, 2166)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2154 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2154)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2155 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2155)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2156 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2156)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2157 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2157)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2158 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2158)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2159 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2159)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2160 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2160)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2161 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2161)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2162 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2162)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2163 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2163)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2164 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2164)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2165 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2165)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.`suit_id` = 660) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2166 AND `cards`.suit_id = 660) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(660, 2166)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:46) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 93) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:46) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 648) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 648 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8453)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8444)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8434)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8479)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8470)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8454)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8462)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8478)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8455)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8476)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8457)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8460)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8452)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8475)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8482)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8456)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8480)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8433)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8441)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8447)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8436)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8465)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8439)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8469)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8461)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8443)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8440)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8448)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8438)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8466)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8484)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8474)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8459)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8437)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8458)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8473)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8481)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8446)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8445)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8435)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8451)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8464)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8472)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8463)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8450)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8471)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8477)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8468)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8467)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8483)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8442)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (185, 8449)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 185) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8449, 648)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8442, 648)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8483, 648)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8467, 648)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8468, 648)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 648) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 185, `seat_order` = 0 WHERE `id` = 648[0m
Rendering site/waiting
Completed in 375ms (View: 32, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 649) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 649 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 185) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 185 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8449, 649)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8442, 649)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8483, 649)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8467, 649)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8468, 649)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 649) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 185, `seat_order` = 1 WHERE `id` = 649[0m
Rendering site/waiting
Completed in 125ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 650) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 650 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 185) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 185 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8449, 650)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8442, 650)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8483, 650)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8467, 650)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8468, 650)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 650) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 185, `seat_order` = 2 WHERE `id` = 650[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 16) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 651) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 651 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 185) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 185 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8449, 651)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8442, 651)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8483, 651)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8467, 651)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8468, 651)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 651) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 185, `seat_order` = 3 WHERE `id` = 651[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 648) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 648 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 649) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 649 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 650) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 650 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 651) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 651 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 648) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 185) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 185) [0m
Completed in 15ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 649) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 185) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 185) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 650) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 185) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 185) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:47) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 651) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 185) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 185) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/login
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:47) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:42:48) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:48) [GET]
Rendering site/login
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:42:48) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:48) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2167)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2168)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2169)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2170)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2171)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2172)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2173)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2174)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2175)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2176)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2177)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2178)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.`suit_id` = 661) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.suit_id = 661) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(661, 2179)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2167)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2168)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2169)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2170)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2171)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2172)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2173)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2174)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2175)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2176)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2177)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2178)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.`suit_id` = 662) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.suit_id = 662) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(662, 2179)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2167)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2168)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2169)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2170)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2171)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2172)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2173)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2174)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2175)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2176)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2177)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2178)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.`suit_id` = 663) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.suit_id = 663) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(663, 2179)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2167 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2167)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2168 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2168)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2169 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2169)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2170 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2170)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2171 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2171)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2172 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2172)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2173 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2173)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2174 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2174)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2175 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2175)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2176 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2176)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2177 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2177)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2178 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2178)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.`suit_id` = 664) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2179 AND `cards`.suit_id = 664) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(664, 2179)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:49) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 152) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:49) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 652 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8536)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8511)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8505)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8527)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8525)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8508)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8500)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8506)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8490)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8509)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8523)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8526)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8498)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8531)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8515)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8532)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8496)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8503)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8485)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8518)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8507)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8516)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8494)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8504)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8501)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8520)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8510)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8517)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8495)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8502)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8530)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8524)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8535)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8512)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8522)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8493)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8488)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8499)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8528)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8521)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8492)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8489)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8519)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8529)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8491)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8497)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8487)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8534)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8514)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8533)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8513)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8486)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 186) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8486, 652)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8513, 652)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8533, 652)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8514, 652)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8534, 652)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 652) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 186, `seat_order` = 0 WHERE `id` = 652[0m
Rendering site/waiting
Completed in 234ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 653 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 186) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 186 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8486, 653)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8513, 653)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8533, 653)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8514, 653)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8534, 653)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 653) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 186, `seat_order` = 1 WHERE `id` = 653[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 654 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 186 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8486, 654)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8513, 654)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8533, 654)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8514, 654)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8534, 654)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 654) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 186, `seat_order` = 2 WHERE `id` = 654[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 655 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 186) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 186 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8486, 655)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8513, 655)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8533, 655)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8514, 655)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8534, 655)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 655) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 186, `seat_order` = 3 WHERE `id` = 655[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 186) [0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 186) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 186) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 186) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:42:50) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 652 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 652 AND card_id IN (8486,8513,8533,8514,8534)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8528, 652)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 653 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 653 AND card_id IN (8486,8513,8533,8514,8534)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8523, 653)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 654 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 654 AND card_id IN (8486,8513,8533,8514,8534)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8492, 654)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 655 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 655 AND card_id IN (8486,8513,8533,8514,8534)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8501, 655)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8519)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 186 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 186 AND card_id IN (8536,8511,8505,8527,8525,8508,8500,8506,8490,8509,8523,8526,8498,8531,8515,8532,8496,8503,8485,8518,8507,8516,8494,8504,8501,8520,8510,8517,8495,8502,8530,8524,8535,8512,8522,8493,8488,8499,8528,8521,8492,8489,8519,8529,8491,8497,8487,8534,8514,8533,8513,8486)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (186, 8520)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:50) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 655) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8501) AND (`cards_players`.player_id = 655 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8501)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2170) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2175) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 662) [0m
  [4;36;1mSuit Load (15.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 186 AND card_id IN (8501)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 45) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8510) AND (`cards_players`.player_id = 652 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8528) AND (`cards_players`.player_id = 652 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8528)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2171) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2175) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 664) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 186 AND card_id IN (8528)[0m
Rendering site/discard
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 186 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8520, 652)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2176) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
Completed in 47ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 652 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8520) AND (`cards_players`.player_id = 652 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8520)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2176) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2175) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 652 AND card_id IN (8520)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 652 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 186[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 652) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 652 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8523) AND (`cards_players`.player_id = 653 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8523)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2179) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2176) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 663) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 653 AND card_id IN (8523)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 653 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 186[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 653) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 653 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:42:51) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 654) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 186) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8492) AND (`cards_players`.player_id = 654 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (186, 8492)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 186 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2174) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 654 AND card_id IN (8492)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 654 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 186[0m
Rendering site/discard
Completed in 109ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2180)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2181)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2182)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2183)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2184)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2185)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2186)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2187)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2188)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2189)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2190)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2191)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.`suit_id` = 665) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.suit_id = 665) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(665, 2192)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2180)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2181)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2182)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2183)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2184)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2185)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2186)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2187)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2188)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2189)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2190)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2191)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.`suit_id` = 666) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.suit_id = 666) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(666, 2192)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2180)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2181)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2182)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2183)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2184)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2185)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2186)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2187)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2188)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2189)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2190)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2191)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.`suit_id` = 667) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.suit_id = 667) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(667, 2192)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2180 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2180)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2181 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2181)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2182 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2182)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2183 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2183)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2184 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2184)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2185 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2185)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2186 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2186)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2187 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2187)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2188 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2188)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2189 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2189)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2190 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2190)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2191 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2191)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.`suit_id` = 668) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2192 AND `cards`.suit_id = 668) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(668, 2192)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:01) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 139) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:01) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 656) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 656 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8571)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8543)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8540)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8576)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8553)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8555)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8541)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8539)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8583)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8538)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8542)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8574)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8560)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8552)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8584)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8569)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8559)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8546)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8573)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8544)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8585)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8554)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8547)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8587)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8577)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8550)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8586)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8557)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8579)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8537)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8578)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8567)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8570)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8575)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8572)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8564)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8588)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8562)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8556)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8551)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8561)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8566)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8549)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8582)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8548)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8558)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8545)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8581)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8563)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8568)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8580)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (187, 8565)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 187) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8565, 656)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8580, 656)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8568, 656)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8563, 656)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8581, 656)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 656) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 187, `seat_order` = 0 WHERE `id` = 656[0m
Rendering site/waiting
Completed in 312ms (View: 31, DB: 62) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:01) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:01) [GET]
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 657) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 657 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 187) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 187 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8565, 657)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8580, 657)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8568, 657)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8563, 657)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8581, 657)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 657) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 187, `seat_order` = 1 WHERE `id` = 657[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:01) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 658) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 658 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 187) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 187 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8565, 658)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8580, 658)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8568, 658)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8563, 658)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8581, 658)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 658) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 187, `seat_order` = 2 WHERE `id` = 658[0m
Rendering site/waiting
Completed in 124ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:02) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 659) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 659 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 187) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 187 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8565, 659)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8580, 659)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8568, 659)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8563, 659)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8581, 659)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 659) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 187, `seat_order` = 3 WHERE `id` = 659[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 656) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 656 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 657) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 657 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 658) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 658 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 659) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 659 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:02) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 656) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 187) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 187) [0m
Completed in 32ms (View: 32, DB: 31) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 657) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 187) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 187) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:02) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 658) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 187) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 187) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 659) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 187) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 187) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/login
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:02) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2193)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2194)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2195)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2196)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2197)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2198)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2199)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2200)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2201)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2202)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2203)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2204)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.`suit_id` = 669) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.suit_id = 669) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(669, 2205)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2193)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2194)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2195)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2196)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2197)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2198)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2199)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2200)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2201)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2202)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2203)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2204)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.`suit_id` = 670) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.suit_id = 670) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(670, 2205)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2193)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2194)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2195)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2196)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2197)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2198)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2199)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2200)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2201)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2202)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2203)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2204)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.`suit_id` = 671) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.suit_id = 671) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(671, 2205)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2193 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2193)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2194 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2194)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2195 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2195)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2196 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2196)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2197 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2197)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2198 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2198)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2199 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2199)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2200 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2200)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2201 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2201)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2202 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2202)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2203 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2203)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2204 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2204)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.`suit_id` = 672) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2205 AND `cards`.suit_id = 672) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(672, 2205)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:04) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 139) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 660 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8613)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8592)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8602)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8631)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8611)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8605)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8616)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8620)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8594)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8618)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8597)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8604)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8622)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8629)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8619)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8617)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8638)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8590)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8589)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8595)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8596)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8609)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8639)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8606)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8637)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8635)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8612)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8608)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8624)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8634)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8614)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8615)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8598)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8600)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8621)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8627)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8640)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8632)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8628)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8610)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8630)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8593)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8603)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8607)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8623)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8599)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8601)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8626)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8625)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8636)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8591)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8633)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 188) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8633, 660)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8591, 660)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8636, 660)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8625, 660)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8626, 660)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 660) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 188, `seat_order` = 0 WHERE `id` = 660[0m
Rendering site/waiting
Completed in 234ms (View: 0, DB: 64) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:04) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 661 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 188) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 188 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8633, 661)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8591, 661)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8636, 661)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8625, 661)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8626, 661)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 661) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 188, `seat_order` = 1 WHERE `id` = 661[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:04) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:04) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 662) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 662 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 188) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 188 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8633, 662)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8591, 662)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8636, 662)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8625, 662)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8626, 662)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 662) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 188, `seat_order` = 2 WHERE `id` = 662[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:44:04) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:44:04) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 663) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 663 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 188) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 188 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8633, 663)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8591, 663)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8636, 663)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8625, 663)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8626, 663)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 663) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 188, `seat_order` = 3 WHERE `id` = 663[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 188) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:05) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 188) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:05) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 662) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 188) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:05) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 663) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 188) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:44:05) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 660 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 660 AND card_id IN (8633,8591,8636,8625,8626)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8632, 660)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 661 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 661 AND card_id IN (8633,8591,8636,8625,8626)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8627, 661)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 662 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 662 AND card_id IN (8633,8591,8636,8625,8626)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8596, 662)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 663 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 663 AND card_id IN (8633,8591,8636,8625,8626)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8605, 663)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 662) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 663) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8623)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 188 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 188 AND card_id IN (8613,8592,8602,8631,8611,8605,8616,8620,8594,8618,8597,8604,8622,8629,8619,8617,8638,8590,8589,8595,8596,8609,8639,8606,8637,8635,8612,8608,8624,8634,8614,8615,8598,8600,8621,8627,8640,8632,8628,8610,8630,8593,8603,8607,8623,8599,8601,8626,8625,8636,8591,8633)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (188, 8624)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 663) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 663) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8605) AND (`cards_players`.player_id = 663 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8605)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2196) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2201) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 670) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 188 AND card_id IN (8605)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 46) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8614) AND (`cards_players`.player_id = 660 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8632) AND (`cards_players`.player_id = 660 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8632)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2197) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2201) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 672) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 188 AND card_id IN (8632)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 188 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8624, 660)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2202) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 660 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:05) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8624) AND (`cards_players`.player_id = 660 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8624)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2202) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2201) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 660 AND card_id IN (8624)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 660 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 188[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 660) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 660 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:06) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8627) AND (`cards_players`.player_id = 661 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8627)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2205) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2202) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 671) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 661 AND card_id IN (8627)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 661 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 188[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 661) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 661 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:44:06) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (31.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 662) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 662) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 188) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8596) AND (`cards_players`.player_id = 662 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (188, 8596)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 188 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2200) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 662 AND card_id IN (8596)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 662 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 188[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 46) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2206)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2207)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2208)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2209)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2210)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2211)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2212)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2213)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2214)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2215)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2216)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2217)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.`suit_id` = 673) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.suit_id = 673) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(673, 2218)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2206)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2207)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2208)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2209)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2210)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2211)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2212)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2213)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2214)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2215)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2216)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2217)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.`suit_id` = 674) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.suit_id = 674) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(674, 2218)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2206)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2207)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2208)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2209)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2210)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2211)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2212)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2213)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2214)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2215)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2216)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2217)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.`suit_id` = 675) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.suit_id = 675) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(675, 2218)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2206 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2206)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2207 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2207)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2208 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2208)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2209 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2209)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2210 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2210)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2211 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2211)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2212 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2212)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2213 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2213)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2214 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2214)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2215 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2215)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2216 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2216)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2217 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2217)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.`suit_id` = 676) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2218 AND `cards`.suit_id = 676) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(676, 2218)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:02) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 141) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:02) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 664) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 664 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8672)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8667)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8642)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8662)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8646)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8645)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8692)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8684)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8655)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8653)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8668)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8669)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8657)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8643)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8647)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8660)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8677)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8689)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8690)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8680)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8664)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8679)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8686)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8663)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8651)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8675)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8644)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8649)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8671)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8688)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8682)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8691)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8654)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8659)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8661)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8674)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8652)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8681)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8641)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8685)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8673)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8666)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8683)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8650)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8687)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8648)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8676)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8665)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8658)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (189, 8656)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 189) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8656, 664)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8658, 664)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8665, 664)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8676, 664)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8648, 664)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 664) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 189, `seat_order` = 0 WHERE `id` = 664[0m
Rendering site/waiting
Completed in 422ms (View: 47, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:03) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:03) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 665) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 665 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 189) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 189 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8656, 665)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8658, 665)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8665, 665)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8676, 665)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8648, 665)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 665) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 189, `seat_order` = 1 WHERE `id` = 665[0m
Rendering site/waiting
Completed in 124ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:03) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:03) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 666) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 666 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 189) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 189 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8656, 666)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8658, 666)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8665, 666)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8676, 666)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8648, 666)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 666) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 189, `seat_order` = 2 WHERE `id` = 666[0m
Rendering site/waiting
Completed in 141ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:03) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:03) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 667) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 667 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 189) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 189 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8656, 667)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8658, 667)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8665, 667)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8676, 667)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8648, 667)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 667) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 189, `seat_order` = 3 WHERE `id` = 667[0m
Rendering site/waiting
Completed in 156ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 664) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 664 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 665) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 665 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 666) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 666 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 667) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 667 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:03) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 664) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 189) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 189) [0m
Completed in 31ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:03) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:03) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 665) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 189) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 189) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:03) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 666) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 189) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 189) [0m
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 667) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 189) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 189) [0m
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:04) [GET]
Rendering site/login
Completed in 93ms (View: 93, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2219)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2220)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2221)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2222)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2223)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2224)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2225)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2226)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2227)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2228)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2229)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2230)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.`suit_id` = 677) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.suit_id = 677) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(677, 2231)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2219)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2220)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2222)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2223)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2224)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2225)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2226)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2227)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2228)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2229)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2230)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.`suit_id` = 678) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.suit_id = 678) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(678, 2231)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2219)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2220)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2221)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2222)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2223)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2224)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2225)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2226)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2227)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2228)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2229)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2230)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.`suit_id` = 679) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.suit_id = 679) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(679, 2231)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2219 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2219)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2220 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2220)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2221 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2221)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2222 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2222)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2223 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2223)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2224 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2224)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2225 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2225)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2226 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2226)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2227 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2227)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2228 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2228)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2229 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2229)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2230 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2230)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.`suit_id` = 680) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2231 AND `cards`.suit_id = 680) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(680, 2231)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:06) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 92) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:06) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 668 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8697)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8701)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8722)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8727)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8700)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8723)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8706)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8695)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8696)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8699)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8698)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8718)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8741)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8743)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8704)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8720)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8734)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8738)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8724)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8707)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8726)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8709)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8708)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8710)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8717)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8729)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8737)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8732)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8703)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8712)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8730)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8735)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8705)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8742)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8736)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8733)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8711)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8725)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8694)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8740)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8719)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8721)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8728)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8713)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8744)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8715)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8702)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8716)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8714)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8739)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8693)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8731)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 190) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8731, 668)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8693, 668)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8739, 668)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8714, 668)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8716, 668)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 668) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 190, `seat_order` = 0 WHERE `id` = 668[0m
Rendering site/waiting
Completed in 266ms (View: 16, DB: 77) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:06) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:06) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 669 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 190) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 190 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8731, 669)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8693, 669)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8739, 669)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8714, 669)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8716, 669)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 669) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 190, `seat_order` = 1 WHERE `id` = 669[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:06) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:06) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 670 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 190) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 190 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8731, 670)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8693, 670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8739, 670)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8714, 670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8716, 670)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 670) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 190, `seat_order` = 2 WHERE `id` = 670[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:45:06) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:45:06) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 671 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 190) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 190 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8731, 671)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8693, 671)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8739, 671)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8714, 671)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8716, 671)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 671) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 190, `seat_order` = 3 WHERE `id` = 671[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 190) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 190) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 190) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:07) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 190) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:45:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 668 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 668 AND card_id IN (8731,8693,8739,8714,8716)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8736, 668)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 669 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 669 AND card_id IN (8731,8693,8739,8714,8716)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8731, 669)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 670 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 670 AND card_id IN (8731,8693,8739,8714,8716)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8700, 670)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 671 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 671 AND card_id IN (8731,8693,8739,8714,8716)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8709, 671)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8727)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 190 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 190 AND card_id IN (8697,8701,8722,8727,8700,8723,8706,8695,8696,8699,8698,8718,8741,8743,8704,8720,8734,8738,8724,8707,8726,8709,8708,8710,8717,8729,8737,8732,8703,8712,8730,8735,8705,8742,8736,8733,8711,8725,8694,8740,8719,8721,8728,8713,8744,8715,8702,8716,8714,8739,8693,8731)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (190, 8728)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 671) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8709) AND (`cards_players`.player_id = 671 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8709)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2222) [0m
  [4;36;1mRank Load (16.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2227) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 678) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 190 AND card_id IN (8709)[0m
Rendering site/discard
Completed in 109ms (View: 15, DB: 77) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8718) AND (`cards_players`.player_id = 668 ) LIMIT 1[0m
Rendering site/discard
Completed in 46ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8736) AND (`cards_players`.player_id = 668 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8736)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2223) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2227) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 680) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 190 AND card_id IN (8736)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:45:07) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 190 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8728, 668)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2228) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
Completed in 47ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 668 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:08) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8728) AND (`cards_players`.player_id = 668 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8728)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2228) [0m
  [4;36;1mRank Load (16.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2227) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 668 AND card_id IN (8728)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 668 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 190[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 32) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 668) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 668 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:08) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8731) AND (`cards_players`.player_id = 669 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8731)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2231) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2228) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 679) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 669 AND card_id IN (8731)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 669 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 190[0m
Rendering site/discard
Completed in 109ms (View: 0, DB: 32) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 669) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 669 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:45:08) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 190) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8700) AND (`cards_players`.player_id = 670 ) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (190, 8700)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 190 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2226) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 670 AND card_id IN (8700)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 670 ) [0m
  [4;35;1mGame Update (16.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 190[0m
Rendering site/discard
Completed in 109ms (View: 0, DB: 47) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2232)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2233)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2234)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2235)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2236)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2237)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2238)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2239)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2240)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2241)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2242)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2243)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.`suit_id` = 681) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.suit_id = 681) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(681, 2244)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2232)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2233)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2234)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2235)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2236)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2237)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2238)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2239)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2240)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2241)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2242)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2243)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.`suit_id` = 682) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.suit_id = 682) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(682, 2244)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2232)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2233)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2234)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2235)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2236)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2237)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2238)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2239)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2240)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2241)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2242)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2243)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.`suit_id` = 683) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.suit_id = 683) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(683, 2244)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2232 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2232)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2233 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2233)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2234 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2234)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2235 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2235)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2236 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2236)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2237 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2237)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2238 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2238)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2239 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2239)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2240 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2240)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2241 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2241)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2242 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2242)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2243 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2243)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.`suit_id` = 684) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2244 AND `cards`.suit_id = 684) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(684, 2244)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:17) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 79) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:18) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 672) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 672 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8749)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8778)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8756)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8758)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8796)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8772)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8766)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8792)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8759)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8790)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8775)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8745)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8791)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8747)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8785)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8764)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8762)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8753)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8779)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8780)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8781)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8768)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8763)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8751)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8752)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8757)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8776)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8793)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8746)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8795)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8765)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8771)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8760)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8774)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8788)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8748)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8769)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8770)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8789)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8786)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8787)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8773)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8783)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8750)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8777)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8767)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8754)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8784)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8761)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8794)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (191, 8782)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 191) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8782, 672)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8794, 672)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8761, 672)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8784, 672)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8754, 672)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 672) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 191, `seat_order` = 0 WHERE `id` = 672[0m
Rendering site/waiting
Completed in 327ms (View: 31, DB: 48) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:18) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:18) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 673) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 673 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 191) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 191 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8782, 673)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8794, 673)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8761, 673)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8784, 673)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8754, 673)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 673) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 191, `seat_order` = 1 WHERE `id` = 673[0m
Rendering site/waiting
Completed in 156ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:18) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:18) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 674) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 674 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 191) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 191 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8782, 674)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8794, 674)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8761, 674)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8784, 674)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8754, 674)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 674) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 191, `seat_order` = 2 WHERE `id` = 674[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:18) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:18) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 675) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 675 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 191) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 191 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8782, 675)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8794, 675)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8761, 675)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8784, 675)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8754, 675)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 675) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 191, `seat_order` = 3 WHERE `id` = 675[0m
Rendering site/waiting
Completed in 125ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 672) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 672 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 673) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 673 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 674) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 674 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 675) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 675 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:18) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 672) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 191) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 191) [0m
Completed in 32ms (View: 32, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:19) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 673) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 191) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 191) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:19) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 674) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 191) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 191) [0m
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:19) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 675) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 191) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 191) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/login
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:19) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2245)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2246)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2247)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2248)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2249)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2250)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2251)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2252)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2253)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2254)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2255)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2256)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.`suit_id` = 685) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.suit_id = 685) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(685, 2257)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2245)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2246)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2247)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2248)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2249)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2250)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2251)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2252)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2253)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2254)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2255)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2256)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.`suit_id` = 686) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.suit_id = 686) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(686, 2257)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2245)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2246)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2247)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2248)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2249)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2250)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2251)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2252)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2253)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2254)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2255)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2256)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.`suit_id` = 687) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.suit_id = 687) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(687, 2257)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2245 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2245)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2246 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2246)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2247 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2247)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2248 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2248)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2249 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2249)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2250 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2250)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2251 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2251)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2252 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2252)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2253 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2253)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2254 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2254)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2255 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2255)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2256 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2256)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.`suit_id` = 688) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2257 AND `cards`.suit_id = 688) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(688, 2257)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 94) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 676 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8799)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8805)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8832)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8819)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8804)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8843)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8807)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8845)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8823)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8801)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8815)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8840)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8830)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8822)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8825)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8817)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8847)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8831)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8829)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8818)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8797)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8834)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8833)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8800)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8839)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8835)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8808)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8803)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8836)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8841)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8837)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8827)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8826)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8838)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8846)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8828)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8814)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8798)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8821)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8842)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8824)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8816)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8810)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8812)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8844)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8848)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8820)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8811)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8809)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8806)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8802)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 192) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8802, 676)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8806, 676)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8809, 676)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8811, 676)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8820, 676)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 676) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 192, `seat_order` = 0 WHERE `id` = 676[0m
Rendering site/waiting
Completed in 219ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 677 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 192) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 192 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8802, 677)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8806, 677)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8809, 677)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8811, 677)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8820, 677)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 677) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 192, `seat_order` = 1 WHERE `id` = 677[0m
Rendering site/waiting
Completed in 140ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 678 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 192 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8802, 678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8806, 678)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8809, 678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8811, 678)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8820, 678)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 678) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 192, `seat_order` = 2 WHERE `id` = 678[0m
Rendering site/waiting
Completed in 172ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 679 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 192) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 192 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8802, 679)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8806, 679)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8809, 679)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8811, 679)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8820, 679)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 679) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 192, `seat_order` = 3 WHERE `id` = 679[0m
Rendering site/waiting
Completed in 93ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 192) [0m
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 192) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 192) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 20:46:21) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 192) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 20:46:21) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 676 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 676 AND card_id IN (8802,8806,8809,8811,8820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8840, 676)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 677 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 677 AND card_id IN (8802,8806,8809,8811,8820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8835, 677)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 678 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 678 AND card_id IN (8802,8806,8809,8811,8820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8804, 678)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 679 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 679 AND card_id IN (8802,8806,8809,8811,8820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8813, 679)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8831)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 192 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 192 AND card_id IN (8799,8805,8832,8819,8804,8843,8807,8845,8823,8801,8815,8840,8830,8822,8825,8817,8847,8831,8829,8818,8797,8813,8834,8833,8800,8839,8835,8808,8803,8836,8841,8837,8827,8826,8838,8846,8828,8814,8798,8821,8842,8824,8816,8810,8812,8844,8848,8820,8811,8809,8806,8802)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (192, 8832)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8813) AND (`cards_players`.player_id = 679 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8813)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2248) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2253) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 686) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 192 AND card_id IN (8813)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8822) AND (`cards_players`.player_id = 676 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8840) AND (`cards_players`.player_id = 676 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8840)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2249) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2253) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 688) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 192 AND card_id IN (8840)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 192 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8832, 676)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2254) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 676 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8832) AND (`cards_players`.player_id = 676 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8832)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2254) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2253) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 676 AND card_id IN (8832)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 676 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 192[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 676) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 676 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8835) AND (`cards_players`.player_id = 677 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8835)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2257) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2254) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 687) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 677 AND card_id IN (8835)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 677 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 192[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 677) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 677 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 20:46:22) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 192) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8804) AND (`cards_players`.player_id = 678 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (192, 8804)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 192 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2252) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 678 AND card_id IN (8804)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 678 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 192[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (15.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2258)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2259)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2260)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2261)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2262)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2263)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2264)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2265)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2266)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2267)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2268)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2269)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.`suit_id` = 689) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.suit_id = 689) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(689, 2270)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2258)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2259)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2260)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2261)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2262)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2263)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2264)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2265)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2266)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2267)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2268)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2269)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.`suit_id` = 690) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.suit_id = 690) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(690, 2270)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2258)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2259)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2260)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2261)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2262)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2263)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2264)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2265)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2266)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2267)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2268)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2269)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.`suit_id` = 691) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.suit_id = 691) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(691, 2270)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2258 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2258)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2259 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2259)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2260 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2260)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2261 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2261)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2262 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2262)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2263 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2263)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2264 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2264)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2265 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2265)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2266 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2266)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2267 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2267)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2268 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2268)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2269 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2269)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.`suit_id` = 692) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2270 AND `cards`.suit_id = 692) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(692, 2270)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:20) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 78ms (DB: 186) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:21) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 680) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 680 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8849)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8861)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8866)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8883)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8884)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8858)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8876)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8886)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8857)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8887)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8881)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8892)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8882)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8874)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8870)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8859)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8863)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8864)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8896)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8898)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8890)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8867)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8891)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8895)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8877)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8897)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8865)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8875)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8893)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8851)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8852)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8862)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8869)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8850)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8854)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8868)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8894)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8879)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8872)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8900)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8888)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8878)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8880)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8889)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8873)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8853)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8855)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8885)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8856)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (193, 8899)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 193) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8899, 680)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8856, 680)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8885, 680)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8855, 680)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8853, 680)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 680) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 193, `seat_order` = 0 WHERE `id` = 680[0m
Rendering site/waiting
Completed in 328ms (View: 16, DB: 79) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:21) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:21) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 681) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 681 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 193) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 193 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8899, 681)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8856, 681)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8885, 681)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8855, 681)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8853, 681)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 681) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 193, `seat_order` = 1 WHERE `id` = 681[0m
Rendering site/waiting
Completed in 125ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:21) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:21) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 682) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 682 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 193) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 193 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8899, 682)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8856, 682)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8885, 682)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8855, 682)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8853, 682)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 682) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 193, `seat_order` = 2 WHERE `id` = 682[0m
Rendering site/waiting
Completed in 156ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:21) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:21) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 683) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 683 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 193) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 193 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8899, 683)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8856, 683)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8885, 683)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8855, 683)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8853, 683)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 683) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 193, `seat_order` = 3 WHERE `id` = 683[0m
Rendering site/waiting
Completed in 171ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 680) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 680 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 681) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 681 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 682) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 682 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 683) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 683 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:22) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 680) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 193) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 193) [0m
Completed in 31ms (View: 16, DB: 46) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:22) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 681) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 193) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 193) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:22) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 682) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 193) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 193) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:22) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 683) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 193) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 193) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/login
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/login
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:22) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2271)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2272)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2273)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2274)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2275)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2276)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2277)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2278)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2279)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2280)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2281)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2282)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.`suit_id` = 693) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.suit_id = 693) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(693, 2283)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2271)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2272)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2273)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2274)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2275)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2276)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2277)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2278)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2279)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2280)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2281)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2282)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.`suit_id` = 694) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.suit_id = 694) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(694, 2283)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2271)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2272)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2273)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2274)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2275)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2276)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2277)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2278)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2279)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2280)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2281)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2282)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.`suit_id` = 695) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.suit_id = 695) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(695, 2283)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2271 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2271)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2272 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2272)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2273 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2273)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2274 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2274)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2275 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2275)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2276 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2276)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2277 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2277)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2278 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2278)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2279 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2279)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2280 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2280)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2281 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2281)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2282 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2282)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.`suit_id` = 696) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2283 AND `cards`.suit_id = 696) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(696, 2283)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:24) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 92) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 684 ) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8903)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8911)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8952)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8923)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8941)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8902)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8930)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8951)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8906)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8908)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8918)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8948)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8931)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8915)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8927)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8940)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8937)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8912)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8905)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8939)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8926)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8949)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8935)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8934)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8942)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8933)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8914)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8938)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8922)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8943)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8909)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8945)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8913)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8907)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8920)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8928)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8904)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8910)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8946)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8947)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8916)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8917)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8901)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8950)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8919)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8929)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8932)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8925)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8921)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8944)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8924)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8936)[0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 194) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8936, 684)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8924, 684)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8944, 684)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8921, 684)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8925, 684)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 684) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 194, `seat_order` = 0 WHERE `id` = 684[0m
Rendering site/waiting
Completed in 328ms (View: 16, DB: 62) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:24) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 685 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 194) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 194 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8936, 685)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8924, 685)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8944, 685)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8921, 685)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8925, 685)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 685) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 194, `seat_order` = 1 WHERE `id` = 685[0m
Rendering site/waiting
Completed in 141ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:24) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:24) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 686 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 194 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8936, 686)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8924, 686)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8944, 686)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8921, 686)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8925, 686)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 686) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 194, `seat_order` = 2 WHERE `id` = 686[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:07:24) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 16) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:07:24) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 687 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 194) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 194 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8936, 687)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8924, 687)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8944, 687)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8921, 687)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8925, 687)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 687) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 194, `seat_order` = 3 WHERE `id` = 687[0m
Rendering site/waiting
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 194) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:25) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 194) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:25) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 194) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:25) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 194) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:07:25) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 684 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 684 AND card_id IN (8936,8924,8944,8921,8925)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8944, 684)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 685 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 685 AND card_id IN (8936,8924,8944,8921,8925)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8939, 685)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 686 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 686 AND card_id IN (8936,8924,8944,8921,8925)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8908, 686)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 687 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 687 AND card_id IN (8936,8924,8944,8921,8925)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8917, 687)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8935)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 194 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 194 AND card_id IN (8903,8911,8952,8923,8941,8902,8930,8951,8906,8908,8918,8948,8931,8915,8927,8940,8937,8912,8905,8939,8926,8949,8935,8934,8942,8933,8914,8938,8922,8943,8909,8945,8913,8907,8920,8928,8904,8910,8946,8947,8916,8917,8901,8950,8919,8929,8932,8925,8921,8944,8924,8936)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (194, 8936)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 687) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8917) AND (`cards_players`.player_id = 687 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8917)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2274) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2279) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 694) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 194 AND card_id IN (8917)[0m
Rendering site/discard
Completed in 78ms (View: 15, DB: 126) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8926) AND (`cards_players`.player_id = 684 ) LIMIT 1[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8944) AND (`cards_players`.player_id = 684 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8944)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;36;1mRank Load (16.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2275) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2279) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 696) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 194 AND card_id IN (8944)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 32) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 194 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8936, 684)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2280) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 684 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:25) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8936) AND (`cards_players`.player_id = 684 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8936)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2280) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2279) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 684 AND card_id IN (8936)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 684 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 194[0m
Rendering site/discard
Completed in 63ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 684) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 684 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:26) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8939) AND (`cards_players`.player_id = 685 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8939)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2283) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2280) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 695) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 685 AND card_id IN (8939)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 685 ) [0m
  [4;36;1mGame Update (16.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 194[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 685) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 685 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:07:26) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 194) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 8908) AND (`cards_players`.player_id = 686 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (194, 8908)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 194 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2278) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 686 AND card_id IN (8908)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 686 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 194[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2284)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2285)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2286)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2287)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2289)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2290)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2291)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2292)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2293)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2294)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2295)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.`suit_id` = 697) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.suit_id = 697) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(697, 2296)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2284)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2285)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2286)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2287)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2288)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2289)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2290)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2291)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2292)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2293)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2294)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2295)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.`suit_id` = 698) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.suit_id = 698) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(698, 2296)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2284)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2285)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2286)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2287)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2288)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2289)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2290)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2291)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2292)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2293)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2294)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2295)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.`suit_id` = 699) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.suit_id = 699) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(699, 2296)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2284 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2284)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2285 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2285)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2286 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2286)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2287 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2287)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2288 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2288)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2289 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2289)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2290 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2290)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2291 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2291)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2292 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2292)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2293 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2293)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2294 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2294)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2295 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2295)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.`suit_id` = 700) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2296 AND `cards`.suit_id = 700) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(700, 2296)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:00) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 158) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:01) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 688) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 688 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8963)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8972)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 9002)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8997)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8959)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8974)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8981)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 9003)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8964)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8967)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8962)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 9001)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8958)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8975)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8976)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8983)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8987)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8989)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8960)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8984)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8971)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 9000)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8982)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8979)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8986)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8966)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8985)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8957)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8980)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8955)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8956)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8988)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8973)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 9004)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8999)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8969)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8995)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8994)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8991)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8993)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8970)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8953)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8954)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8961)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8990)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8977)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8996)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8992)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8978)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8998)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8968)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (195, 8965)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 195) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8965, 688)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8968, 688)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8998, 688)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8978, 688)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8992, 688)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 688) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 195, `seat_order` = 0 WHERE `id` = 688[0m
Rendering site/waiting
Completed in 296ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:01) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 15) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:01) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 689) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 689 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 195) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 195 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8965, 689)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8968, 689)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8998, 689)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8978, 689)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8992, 689)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 689) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 195, `seat_order` = 1 WHERE `id` = 689[0m
Rendering site/waiting
Completed in 156ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:01) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:01) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 690) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 690 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 195) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 195 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8965, 690)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8968, 690)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8998, 690)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8978, 690)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8992, 690)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 690) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 195, `seat_order` = 2 WHERE `id` = 690[0m
Rendering site/waiting
Completed in 78ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:01) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 691) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 691 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 195) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 195 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8965, 691)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8968, 691)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8998, 691)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8978, 691)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (8992, 691)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 691) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 195, `seat_order` = 3 WHERE `id` = 691[0m
Rendering site/waiting
Completed in 140ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 688) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 688 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 689) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 689 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 690) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 690 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 691) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 691 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:02) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 688) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 195) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 195) [0m
Completed in 16ms (View: 0, DB: 32) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 689) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 195) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 195) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:02) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 690) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 195) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 195) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:02) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 691) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 195) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 195) [0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/login
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:02) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2297)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2298)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2299)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2300)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2301)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2302)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2303)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2304)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2305)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2306)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2307)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2308)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.`suit_id` = 701) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.suit_id = 701) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(701, 2309)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2297)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2298)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2299)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2300)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2301)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2302)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2303)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2304)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2305)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2306)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2307)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2308)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.`suit_id` = 702) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.suit_id = 702) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(702, 2309)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2297)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2298)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2299)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2300)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2301)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2302)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2303)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2304)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2305)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2306)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2307)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2308)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.`suit_id` = 703) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.suit_id = 703) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(703, 2309)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2297 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2297)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2298 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2298)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2299 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2299)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2300 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2300)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2301 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2301)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2302 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2302)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2303 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2303)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2304 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2304)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2305 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2305)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2306 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2306)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2307 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2307)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2308 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2308)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.`suit_id` = 704) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2309 AND `cards`.suit_id = 704) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(704, 2309)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 154) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 692 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9039)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9028)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9024)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9030)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9016)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9020)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9022)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9044)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9053)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9050)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9015)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9055)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9034)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9019)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9035)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9005)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9054)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9014)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9018)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9041)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9031)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9025)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9010)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9027)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9021)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9033)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9047)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9029)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9056)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9040)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9032)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9046)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9037)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9045)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9043)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9009)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9013)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9051)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9036)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9023)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9006)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9042)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9052)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9049)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9048)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9011)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9007)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9038)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9017)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9008)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9012)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9026)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 196) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9026, 692)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9012, 692)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9008, 692)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9017, 692)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9038, 692)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 692) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 196, `seat_order` = 0 WHERE `id` = 692[0m
Rendering site/waiting
Completed in 234ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 693 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 196) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 196 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9026, 693)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9012, 693)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9008, 693)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9017, 693)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9038, 693)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 693) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 196, `seat_order` = 1 WHERE `id` = 693[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 694 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 196 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9026, 694)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9012, 694)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9008, 694)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9017, 694)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9038, 694)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 694) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 196, `seat_order` = 2 WHERE `id` = 694[0m
Rendering site/waiting
Completed in 62ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 695 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 196) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 196 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9026, 695)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9012, 695)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9008, 695)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9017, 695)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9038, 695)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 695) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 196, `seat_order` = 3 WHERE `id` = 695[0m
Rendering site/waiting
Completed in 110ms (View: 0, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 196) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 196) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 196) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:09:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 196) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:09:05) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 692 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 692 AND card_id IN (9026,9012,9008,9017,9038)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9048, 692)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 693 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 693 AND card_id IN (9026,9012,9008,9017,9038)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9043, 693)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 694 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 694 AND card_id IN (9026,9012,9008,9017,9038)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9012, 694)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 695 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 695 AND card_id IN (9026,9012,9008,9017,9038)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9021, 695)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9039)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 196 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 196 AND card_id IN (9039,9028,9024,9030,9016,9020,9022,9044,9053,9050,9015,9055,9034,9019,9035,9005,9054,9014,9018,9041,9031,9025,9010,9027,9021,9033,9047,9029,9056,9040,9032,9046,9037,9045,9043,9009,9013,9051,9036,9023,9006,9042,9052,9049,9048,9011,9007,9038,9017,9008,9012,9026)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (196, 9040)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 695) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9021) AND (`cards_players`.player_id = 695 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9021)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2300) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2305) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 702) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 196 AND card_id IN (9021)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 94) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9030) AND (`cards_players`.player_id = 692 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9048) AND (`cards_players`.player_id = 692 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9048)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2301) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2305) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 704) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 196 AND card_id IN (9048)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 196 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9040, 692)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2306) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
Completed in 47ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 692 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9040) AND (`cards_players`.player_id = 692 ) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9040)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2306) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2305) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 692 AND card_id IN (9040)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 692 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 196[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 46) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 692) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 692 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9043) AND (`cards_players`.player_id = 693 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9043)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2309) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2306) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 703) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 693 AND card_id IN (9043)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 693 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 196[0m
Rendering site/discard
Completed in 110ms (View: 0, DB: 47) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 693) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 693 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:09:05) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 694) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 196) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9012) AND (`cards_players`.player_id = 694 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (196, 9012)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 196 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2304) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 694 AND card_id IN (9012)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 694 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 196[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2310)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2311)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2312)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2313)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2314)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2315)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2316)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2317)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2318)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2319)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2320)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2321)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.`suit_id` = 705) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.suit_id = 705) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(705, 2322)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2310)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2311)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2312)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2313)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2314)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2315)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2316)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2317)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2318)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2319)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2320)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2321)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.`suit_id` = 706) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.suit_id = 706) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(706, 2322)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2310)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2311)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2312)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2313)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2314)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2315)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2316)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2317)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2318)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2319)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2320)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2321)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.`suit_id` = 707) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.suit_id = 707) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(707, 2322)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2310 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2310)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2311 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2311)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2312 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2312)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2313 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2313)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2314 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2314)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2315 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2315)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2316 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2316)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2317 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2317)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2318 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2318)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2319 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2319)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2320 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2320)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2321 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2321)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.`suit_id` = 708) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2322 AND `cards`.suit_id = 708) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(708, 2322)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:36) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 94) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:37) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 696) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 696 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9099)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9081)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9083)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9061)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9108)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9098)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9078)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9092)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9058)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9071)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9073)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9077)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9070)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9091)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9064)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9060)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9086)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9082)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9103)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9096)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9059)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9102)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9090)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9069)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9076)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9062)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9093)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9107)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9074)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9100)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9075)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9066)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9072)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9065)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9085)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9105)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9087)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9080)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9079)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9094)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9101)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9104)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9095)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9068)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9089)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9057)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9088)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9084)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9063)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9067)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9106)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (197, 9097)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 197) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9097, 696)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9106, 696)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9067, 696)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9063, 696)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9084, 696)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 696) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 197, `seat_order` = 0 WHERE `id` = 696[0m
Rendering site/waiting
Completed in 375ms (View: 32, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:37) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:37) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 697) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 697 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 197) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 197 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9097, 697)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9106, 697)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9067, 697)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9063, 697)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9084, 697)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 697) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 197, `seat_order` = 1 WHERE `id` = 697[0m
Rendering site/waiting
Completed in 156ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:37) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:37) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 698) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 698 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 197) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 197 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9097, 698)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9106, 698)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9067, 698)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9063, 698)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9084, 698)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 698) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 197, `seat_order` = 2 WHERE `id` = 698[0m
Rendering site/waiting
Completed in 124ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:38) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 16) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 699) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 699 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 197) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 197 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9097, 699)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9106, 699)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9067, 699)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9063, 699)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9084, 699)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 699) LIMIT 1[0m
  [4;35;1mPlayer Update (15.0ms)[0m   [0mUPDATE `players` SET `game_id` = 197, `seat_order` = 3 WHERE `id` = 699[0m
Rendering site/waiting
Completed in 141ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 696) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 696 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 697) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 697 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 698) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 698 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 699) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 699 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:38) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 696) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 197) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 197) [0m
Completed in 31ms (View: 31, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:38) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 697) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 197) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 197) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:38) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 698) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 197) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 197) [0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:38) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 699) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 197) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 197) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/login
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:38) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2323)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2324)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2325)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2326)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2327)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2328)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2329)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2330)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2331)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2332)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2333)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2334)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.`suit_id` = 709) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.suit_id = 709) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(709, 2335)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2323)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2324)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2325)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2326)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2327)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2328)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2329)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2330)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2331)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2332)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2333)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2334)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.`suit_id` = 710) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.suit_id = 710) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(710, 2335)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2323)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2324)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2325)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2326)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2327)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2328)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2329)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2330)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2331)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2332)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2333)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2334)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.`suit_id` = 711) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.suit_id = 711) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(711, 2335)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2323 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2323)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2324 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2324)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2325 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2325)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2326 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2326)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2327 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2327)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2328 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2328)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2329 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2329)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2330 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2330)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2331 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2331)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2332 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2332)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2333 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2333)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2334 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2334)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.`suit_id` = 712) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2335 AND `cards`.suit_id = 712) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(712, 2335)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:40) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 140) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:40) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 700 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9137)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9129)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9124)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9144)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9134)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9116)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9148)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9115)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9110)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9127)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9153)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9120)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9150)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9154)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9147)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9119)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9151)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9112)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9139)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9121)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9155)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9146)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9152)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9140)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9158)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9142)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9141)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9113)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9157)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9156)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9131)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9118)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9138)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9109)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9126)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9114)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9111)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9145)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9160)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9132)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9135)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9125)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9143)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9122)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9149)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9159)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9123)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9136)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9133)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9130)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9117)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9128)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 198) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9128, 700)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9117, 700)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9130, 700)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9133, 700)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9136, 700)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 700) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 198, `seat_order` = 0 WHERE `id` = 700[0m
Rendering site/waiting
Completed in 250ms (View: 16, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:40) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:40) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 701 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 198) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 198 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9128, 701)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9117, 701)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9130, 701)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9133, 701)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9136, 701)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 701) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 198, `seat_order` = 1 WHERE `id` = 701[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 702 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 198 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9128, 702)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9117, 702)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9130, 702)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9133, 702)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9136, 702)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 702) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 198, `seat_order` = 2 WHERE `id` = 702[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 703 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 198 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9128, 703)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9117, 703)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9130, 703)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9133, 703)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9136, 703)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 703) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 198, `seat_order` = 3 WHERE `id` = 703[0m
Rendering site/waiting
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 198) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 198) [0m
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 198) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 198) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:11:41) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 700 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 700 AND card_id IN (9128,9117,9130,9133,9136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9152, 700)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 701 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 701 AND card_id IN (9128,9117,9130,9133,9136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9147, 701)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 702 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 702 AND card_id IN (9128,9117,9130,9133,9136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9116, 702)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 703 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 703 AND card_id IN (9128,9117,9130,9133,9136)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9125, 703)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9143)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 198 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 198 AND card_id IN (9137,9129,9124,9144,9134,9116,9148,9115,9110,9127,9153,9120,9150,9154,9147,9119,9151,9112,9139,9121,9155,9146,9152,9140,9158,9142,9141,9113,9157,9156,9131,9118,9138,9109,9126,9114,9111,9145,9160,9132,9135,9125,9143,9122,9149,9159,9123,9136,9133,9130,9117,9128)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (198, 9144)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 703) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9125) AND (`cards_players`.player_id = 703 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9125)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2326) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2331) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 710) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 198 AND card_id IN (9125)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 92) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:41) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9134) AND (`cards_players`.player_id = 700 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:42) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9152) AND (`cards_players`.player_id = 700 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9152)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2327) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2331) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 712) [0m
  [4;35;1mSuit Load (15.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 198 AND card_id IN (9152)[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:11:42) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 198 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9144, 700)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2332) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 700 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:42) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9144) AND (`cards_players`.player_id = 700 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9144)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2332) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2331) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 700 AND card_id IN (9144)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 700 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 198[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 700) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 700 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:42) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9147) AND (`cards_players`.player_id = 701 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9147)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2335) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2332) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 711) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 701 AND card_id IN (9147)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 701 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 198[0m
Rendering site/discard
Completed in 93ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 701) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 701 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:11:42) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 198) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9116) AND (`cards_players`.player_id = 702 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (198, 9116)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 198 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2330) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 702 AND card_id IN (9116)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 702 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 198[0m
Rendering site/discard
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2336)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2337)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2338)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2339)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2340)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2341)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2342)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2343)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2344)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2345)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2346)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2347)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.`suit_id` = 713) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.suit_id = 713) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(713, 2348)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2336)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2337)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2338)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2339)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2340)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2341)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2342)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2343)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2344)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2345)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2346)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2347)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.`suit_id` = 714) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.suit_id = 714) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(714, 2348)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2336)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2337)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2338)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2339)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2340)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2341)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2342)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2343)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2344)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2345)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2346)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2347)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.`suit_id` = 715) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.suit_id = 715) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(715, 2348)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2336 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2336)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2337 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2337)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2338 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2338)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2339 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2339)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2340 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2340)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2341 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2341)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2342 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2342)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2343 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2343)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2344 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2344)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2345 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2345)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2346 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2346)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2347 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2347)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.`suit_id` = 716) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2348 AND `cards`.suit_id = 716) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(716, 2348)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:03) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:03) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 704) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 704 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9211)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9200)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9212)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9169)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9182)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9173)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9163)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9187)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9192)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9189)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9195)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9191)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9193)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9188)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9168)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9172)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9174)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9167)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9204)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9207)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9166)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9178)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9203)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9184)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9205)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9210)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9194)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9165)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9186)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9181)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9180)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9199)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9190)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9198)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9175)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9164)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9208)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9197)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9206)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9177)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9179)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9209)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9171)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9170)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9196)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9183)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9185)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9161)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9162)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9202)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9176)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (199, 9201)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 199) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9201, 704)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9176, 704)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9202, 704)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9162, 704)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9161, 704)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 704) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 199, `seat_order` = 0 WHERE `id` = 704[0m
Rendering site/waiting
Completed in 343ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 705) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 705 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 199) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 199 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9201, 705)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9176, 705)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9202, 705)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9162, 705)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9161, 705)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 705) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 199, `seat_order` = 1 WHERE `id` = 705[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 706) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 706 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 199) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 199 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9201, 706)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9176, 706)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9202, 706)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9162, 706)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9161, 706)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 706) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 199, `seat_order` = 2 WHERE `id` = 706[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 707) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 707 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 199) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 199 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9201, 707)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9176, 707)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9202, 707)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9162, 707)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9161, 707)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 707) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 199, `seat_order` = 3 WHERE `id` = 707[0m
Rendering site/waiting
Completed in 156ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 704) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 704 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 705) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 705 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 706) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 706 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 707) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 707 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 704) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 199) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 199) [0m
Completed in 31ms (View: 15, DB: 31) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 705) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 199) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 199) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 706) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 199) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 199) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:04) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 707) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 199) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 199) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:04) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Rendering site/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Rendering site/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Rendering site/login
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:05) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2349)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2350)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2351)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2352)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2353)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2354)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2355)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2356)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2357)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2358)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2359)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2360)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.`suit_id` = 717) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.suit_id = 717) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(717, 2361)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2349)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2350)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2351)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2352)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2353)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2354)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2355)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2356)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2357)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2358)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2359)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2360)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.`suit_id` = 718) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.suit_id = 718) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(718, 2361)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2349)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2350)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2351)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2352)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2353)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2354)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2355)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2356)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2357)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2358)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2359)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2360)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.`suit_id` = 719) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.suit_id = 719) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(719, 2361)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2349 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2349)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2350 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2350)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2351 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2351)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2352 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2352)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2353 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2353)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2354 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2354)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2355 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2355)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2356 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2356)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2357 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2357)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2358 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2358)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2359 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2359)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2360 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2360)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.`suit_id` = 720) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2361 AND `cards`.suit_id = 720) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(720, 2361)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 172) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 708 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9250)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9248)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9242)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9226)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9259)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9235)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9229)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9223)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9245)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9251)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9222)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9214)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9255)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9254)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9236)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9228)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9261)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9220)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9216)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9219)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9231)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9238)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9239)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9215)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9232)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9234)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9230)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9240)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9264)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9218)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9249)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9227)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9253)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9258)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9243)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9263)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9246)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9224)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9257)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9256)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9247)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9233)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9237)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9217)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9213)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9241)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9252)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9225)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9244)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9262)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9260)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9221)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 200) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9221, 708)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9260, 708)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9262, 708)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9244, 708)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9225, 708)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 708) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 200, `seat_order` = 0 WHERE `id` = 708[0m
Rendering site/waiting
Completed in 218ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 709 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 200) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 200 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9221, 709)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9260, 709)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9262, 709)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9244, 709)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9225, 709)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 709) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 200, `seat_order` = 1 WHERE `id` = 709[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 710 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 200) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 200 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9221, 710)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9260, 710)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9262, 710)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9244, 710)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9225, 710)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 710) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 200, `seat_order` = 2 WHERE `id` = 710[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 711 ) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 200 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9221, 711)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9260, 711)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9262, 711)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9244, 711)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9225, 711)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 711) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 200, `seat_order` = 3 WHERE `id` = 711[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 200) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 200) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 200) [0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:15:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 200) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:15:07) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 708 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 708 AND card_id IN (9221,9260,9262,9244,9225)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9256, 708)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 709 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 709 AND card_id IN (9221,9260,9262,9244,9225)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9251, 709)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 710 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 710 AND card_id IN (9221,9260,9262,9244,9225)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9220, 710)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 711 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 711 AND card_id IN (9221,9260,9262,9244,9225)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9229, 711)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9247)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 200 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 200 AND card_id IN (9250,9248,9242,9226,9259,9235,9229,9223,9245,9251,9222,9214,9255,9254,9236,9228,9261,9220,9216,9219,9231,9238,9239,9215,9232,9234,9230,9240,9264,9218,9249,9227,9253,9258,9243,9263,9246,9224,9257,9256,9247,9233,9237,9217,9213,9241,9252,9225,9244,9262,9260,9221)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (200, 9248)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 711) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9229) AND (`cards_players`.player_id = 711 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9229)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2352) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2357) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 718) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 200 AND card_id IN (9229)[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 61) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9238) AND (`cards_players`.player_id = 708 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9256) AND (`cards_players`.player_id = 708 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9256)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2353) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2357) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 720) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 200 AND card_id IN (9256)[0m
Rendering site/discard
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 200 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9248, 708)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2358) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 708 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9248) AND (`cards_players`.player_id = 708 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9248)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2358) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2357) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 708 AND card_id IN (9248)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 708 ) [0m
  [4;35;1mGame Update (15.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 200[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 708) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 708 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9251) AND (`cards_players`.player_id = 709 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9251)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2361) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2358) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 719) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 709 AND card_id IN (9251)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 709 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 200[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 709) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 709 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:15:08) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 710) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 200) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9220) AND (`cards_players`.player_id = 710 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (200, 9220)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 200 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2356) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 710 AND card_id IN (9220)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 710 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 200[0m
Rendering site/discard
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2362)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2363)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2364)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2365)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2366)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2367)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2368)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2369)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2370)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2371)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2372)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2373)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.`suit_id` = 721) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.suit_id = 721) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(721, 2374)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2362)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2363)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2364)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2365)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2366)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2367)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2368)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2369)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2370)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2371)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2372)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2373)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.`suit_id` = 722) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.suit_id = 722) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(722, 2374)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2362)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2363)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2364)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2365)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2366)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2367)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2368)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2369)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2370)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2371)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2372)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2373)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.`suit_id` = 723) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.suit_id = 723) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(723, 2374)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2362 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2362)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2363 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2363)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2364 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2364)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2365 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2365)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2366 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2366)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2367 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2367)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2368 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2368)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2369 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2369)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2370 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2370)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2371 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2371)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2372 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2372)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2373 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2373)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.`suit_id` = 724) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2374 AND `cards`.suit_id = 724) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(724, 2374)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:13) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 31ms (DB: 173) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:13) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 712) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 712 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9287)[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9265)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9286)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9294)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9289)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9303)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9267)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9311)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9306)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9296)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9315)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9272)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9310)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9302)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9305)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9314)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9304)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9281)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9313)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9276)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9280)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9292)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9279)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9301)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9266)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9295)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9307)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9278)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9283)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9316)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9285)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9274)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9277)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9297)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9290)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9288)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9268)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9270)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9284)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9309)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9299)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9269)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9273)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9271)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9282)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9300)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9291)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9312)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9308)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9275)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9293)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (201, 9298)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 201) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9298, 712)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9293, 712)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9275, 712)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9308, 712)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9312, 712)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 712) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 201, `seat_order` = 0 WHERE `id` = 712[0m
Rendering site/waiting
Completed in 375ms (View: 16, DB: 109) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 713) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 713 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 201) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 201 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9298, 713)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9293, 713)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9275, 713)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9308, 713)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9312, 713)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 713) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 201, `seat_order` = 1 WHERE `id` = 713[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 714) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 714 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 201) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 201 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9298, 714)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9293, 714)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9275, 714)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9308, 714)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9312, 714)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 714) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 201, `seat_order` = 2 WHERE `id` = 714[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 715) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 715 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 201) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 201 ) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9298, 715)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9293, 715)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9275, 715)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9308, 715)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9312, 715)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 715) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 201, `seat_order` = 3 WHERE `id` = 715[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 47) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 712) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 712 ) [0m
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 713) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 713 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 714) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 714 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 715) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 715 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 712) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 201) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 201) [0m
Completed in 32ms (View: 32, DB: 31) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 713) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 201) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 201) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 714) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 201) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 201) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:14) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 715) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 201) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 201) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/login
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:14) [GET]
Rendering site/login
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:27:15) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:15) [GET]
Rendering site/login
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (15.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2375)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2376)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2377)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2378)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2379)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2380)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2381)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2382)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2383)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2384)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2385)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2386)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.`suit_id` = 725) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.suit_id = 725) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(725, 2387)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2375)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2376)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2377)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2378)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2379)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2380)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2381)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2382)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2383)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2384)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2385)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2386)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.`suit_id` = 726) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.suit_id = 726) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(726, 2387)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2375)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2376)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2377)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2378)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2379)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2380)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2381)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2382)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2383)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2384)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2385)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2386)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.`suit_id` = 727) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.suit_id = 727) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(727, 2387)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2375 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2375)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2376 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2376)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2377 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2377)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2378 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2378)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2379 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2379)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2380 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2380)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2381 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2381)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2382 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2382)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2383 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2383)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2384 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2384)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2385 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2385)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2386 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2386)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.`suit_id` = 728) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2387 AND `cards`.suit_id = 728) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(728, 2387)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:16) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 186) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:16) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 716 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9366)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9350)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9368)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9359)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9356)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9321)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9317)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9354)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9362)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9367)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9346)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9340)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9365)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9319)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9342)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9361)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9355)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9357)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9327)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9320)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9318)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9326)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9336)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9324)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9339)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9329)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9360)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9352)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9333)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9345)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9364)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9322)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9332)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9358)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9344)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9334)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9330)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9351)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9328)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9348)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9335)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9343)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9331)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9337)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9338)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9323)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9349)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9325)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9347)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9363)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9341)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9353)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 202) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9353, 716)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9341, 716)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9363, 716)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9347, 716)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9325, 716)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 716) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 202, `seat_order` = 0 WHERE `id` = 716[0m
Rendering site/waiting
Completed in 218ms (View: 0, DB: 63) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:16) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:16) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 717 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 202) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 202 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9353, 717)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9341, 717)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9363, 717)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9347, 717)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9325, 717)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 717) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 202, `seat_order` = 1 WHERE `id` = 717[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:16) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:16) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 718) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 718 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 202) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 202 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9353, 718)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9341, 718)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9363, 718)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9347, 718)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9325, 718)[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 718) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 202, `seat_order` = 2 WHERE `id` = 718[0m
Rendering site/waiting
Completed in 93ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:27:16) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:27:17) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 719) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 719 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 202) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 202 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9353, 719)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9341, 719)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9363, 719)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9347, 719)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9325, 719)[0m
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 719) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 202, `seat_order` = 3 WHERE `id` = 719[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 202) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:17) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 202) [0m
Completed in 16ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:17) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 718) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 202) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:17) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 719) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 202) [0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:27:17) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 716 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 716 AND card_id IN (9353,9341,9363,9347,9325)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9360, 716)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 717 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 717 AND card_id IN (9353,9341,9363,9347,9325)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9355, 717)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 718 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 718 AND card_id IN (9353,9341,9363,9347,9325)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9324, 718)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 719 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 719 AND card_id IN (9353,9341,9363,9347,9325)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9333, 719)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 718) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 719) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9351)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 202 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 202 AND card_id IN (9366,9350,9368,9359,9356,9321,9317,9354,9362,9367,9346,9340,9365,9319,9342,9361,9355,9357,9327,9320,9318,9326,9336,9324,9339,9329,9360,9352,9333,9345,9364,9322,9332,9358,9344,9334,9330,9351,9328,9348,9335,9343,9331,9337,9338,9323,9349,9325,9347,9363,9341,9353)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (202, 9352)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 719) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 719) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9333) AND (`cards_players`.player_id = 719 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9333)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2378) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2383) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 726) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 202 AND card_id IN (9333)[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 77) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9342) AND (`cards_players`.player_id = 716 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9360) AND (`cards_players`.player_id = 716 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9360)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2379) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2383) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 728) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 202 AND card_id IN (9360)[0m
Rendering site/discard
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:27:17) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 202 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9352, 716)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2384) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
Completed in 47ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 716 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:18) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9352) AND (`cards_players`.player_id = 716 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9352)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2384) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2383) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 716 AND card_id IN (9352)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 716 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 202[0m
Rendering site/discard
Completed in 78ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 716) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 716 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:18) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9355) AND (`cards_players`.player_id = 717 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9355)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;36;1mRank Load (15.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2387) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2384) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 727) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 717 AND card_id IN (9355)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 717 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 202[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 717) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 717 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:27:18) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 718) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 718) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 202) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9324) AND (`cards_players`.player_id = 718 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (202, 9324)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 202 ) [0m
  [4;36;1mRank Load (16.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2382) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 718 AND card_id IN (9324)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 718 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 202[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2388)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2389)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2390)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2391)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2392)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2393)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2394)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2395)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2396)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2397)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2398)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2399)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.`suit_id` = 729) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.suit_id = 729) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(729, 2400)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2388)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2389)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2390)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2391)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2392)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2393)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2394)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2395)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2396)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2397)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2398)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2399)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.`suit_id` = 730) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.suit_id = 730) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(730, 2400)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2388)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2389)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2390)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2391)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2392)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2393)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2394)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2395)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2396)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2397)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2398)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2399)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.`suit_id` = 731) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.suit_id = 731) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(731, 2400)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2388 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2388)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2389 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2389)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2390 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2390)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2391 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2391)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2392 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2392)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2393 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2393)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2394 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2394)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2395 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2395)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2396 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2396)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2397 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2397)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2398 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2398)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2399 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2399)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.`suit_id` = 732) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2400 AND `cards`.suit_id = 732) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(732, 2400)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:52) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:53) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 720) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 720 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9417)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9370)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9392)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9414)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9415)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9391)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9406)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9383)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9380)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9388)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9389)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9420)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9378)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9412)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9377)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9385)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9386)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9398)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9401)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9397)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9393)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9394)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9395)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9396)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9409)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9408)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9373)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9404)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9419)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9400)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9381)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9387)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9403)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9407)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9411)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9376)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9402)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9405)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9413)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9416)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9375)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9369)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9410)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9374)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9418)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9384)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9390)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9372)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9371)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9382)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9399)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (203, 9379)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 203) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9379, 720)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9399, 720)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9382, 720)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9371, 720)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9372, 720)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 720) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 203, `seat_order` = 0 WHERE `id` = 720[0m
Rendering site/waiting
Completed in 344ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:53) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:53) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 721) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 721 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 203) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 203 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9379, 721)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9399, 721)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9382, 721)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9371, 721)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9372, 721)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 721) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 203, `seat_order` = 1 WHERE `id` = 721[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:53) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:53) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 722) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 722 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 203) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 203 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9379, 722)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9399, 722)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9382, 722)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9371, 722)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9372, 722)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 722) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 203, `seat_order` = 2 WHERE `id` = 722[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:54) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 723) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 723 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 203) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 203 ) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9379, 723)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9399, 723)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9382, 723)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9371, 723)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9372, 723)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 723) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 203, `seat_order` = 3 WHERE `id` = 723[0m
Rendering site/waiting
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 720) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 720 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 721) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 721 ) [0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 722) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 722 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 723) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 723 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:54) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 720) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 203) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 203) [0m
Completed in 47ms (View: 47, DB: 47) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:54) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 721) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 203) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 203) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:54) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 722) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 203) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 203) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:54) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 723) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 203) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 203) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/login
Completed in 46ms (View: 46, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/login
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:54) [GET]
Rendering site/login
Completed in 109ms (View: 109, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2401)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2402)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2403)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2404)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2405)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2406)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2407)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2408)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2409)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2410)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2411)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2412)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.`suit_id` = 733) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.suit_id = 733) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(733, 2413)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2401)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2402)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2403)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2404)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2405)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2406)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2407)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2408)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2409)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2410)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2411)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2412)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.`suit_id` = 734) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.suit_id = 734) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(734, 2413)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2401)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2402)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2403)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2404)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2405)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2406)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2407)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2408)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2409)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2410)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2411)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2412)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.`suit_id` = 735) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.suit_id = 735) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(735, 2413)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2401 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2401)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2402 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2402)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2403 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2403)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2404 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2404)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2405 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2405)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2406 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2406)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2407 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2407)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2408 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2408)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2409 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2409)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2410 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2410)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2411 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2411)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2412 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2412)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.`suit_id` = 736) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2413 AND `cards`.suit_id = 736) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(736, 2413)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:56) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 123) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:56) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 724 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9463)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9456)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9472)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9459)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9446)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9429)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9423)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9433)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9443)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9454)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9436)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9430)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9432)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9450)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9466)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9422)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9470)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9465)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9434)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9427)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9441)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9458)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9424)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9455)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9426)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9438)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9431)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9444)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9445)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9471)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9440)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9452)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9464)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9468)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9462)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9453)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9435)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9421)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9460)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9428)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9439)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9461)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9442)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9467)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9451)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9469)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9457)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9437)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9447)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9425)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9449)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9448)[0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 204) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9448, 724)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9449, 724)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9425, 724)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9447, 724)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9437, 724)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 724) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 204, `seat_order` = 0 WHERE `id` = 724[0m
Rendering site/waiting
Completed in 266ms (View: 15, DB: 49) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:56) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:56) [GET]
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 725 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 204 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9448, 725)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9449, 725)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9425, 725)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9447, 725)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9437, 725)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 725) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 204, `seat_order` = 1 WHERE `id` = 725[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:56) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 16) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:56) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 726) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 726 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 204 ) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9448, 726)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9449, 726)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9425, 726)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9447, 726)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9437, 726)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 726) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 204, `seat_order` = 2 WHERE `id` = 726[0m
Rendering site/waiting
Completed in 63ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:29:56) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:29:57) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 727) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 727 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 204 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9448, 727)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9449, 727)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9425, 727)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9447, 727)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9437, 727)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 727) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 204, `seat_order` = 3 WHERE `id` = 727[0m
Rendering site/waiting
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 204) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:57) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 204) [0m
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:57) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 726) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 204) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:57) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 727) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 204) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:29:57) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 724 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 724 AND card_id IN (9448,9449,9425,9447,9437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9464, 724)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 725 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 725 AND card_id IN (9448,9449,9425,9447,9437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9459, 725)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 726 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 726 AND card_id IN (9448,9449,9425,9447,9437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9428, 726)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 727 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 727 AND card_id IN (9448,9449,9425,9447,9437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9437, 727)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mPlayer Load (17.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 726) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 727) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9455)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 204 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 204 AND card_id IN (9463,9456,9472,9459,9446,9429,9423,9433,9443,9454,9436,9430,9432,9450,9466,9422,9470,9465,9434,9427,9441,9458,9424,9455,9426,9438,9431,9444,9445,9471,9440,9452,9464,9468,9462,9453,9435,9421,9460,9428,9439,9461,9442,9467,9451,9469,9457,9437,9447,9425,9449,9448)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (204, 9456)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 727) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 727) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9437) AND (`cards_players`.player_id = 727 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9437)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2404) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2409) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 734) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 204 AND card_id IN (9437)[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 95) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9446) AND (`cards_players`.player_id = 724 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9464) AND (`cards_players`.player_id = 724 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9464)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2405) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2409) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 736) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 204 AND card_id IN (9464)[0m
Rendering site/discard
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 204 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9456, 724)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2410) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
Completed in 46ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 724 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:57) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9456) AND (`cards_players`.player_id = 724 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9456)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2410) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2409) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 724 AND card_id IN (9456)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 724 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 204[0m
Rendering site/discard
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 724) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 724 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:58) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9459) AND (`cards_players`.player_id = 725 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9459)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2413) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2410) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 735) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 725 AND card_id IN (9459)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 725 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 204[0m
Rendering site/discard
Completed in 78ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 725) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 725 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:29:58) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 726) [0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 726) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 204) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9428) AND (`cards_players`.player_id = 726 ) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (204, 9428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 204 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2408) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 726 AND card_id IN (9428)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 726 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 204[0m
Rendering site/discard
Completed in 94ms (View: 16, DB: 94) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2414)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2415)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2416)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2417)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2418)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2419)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2420)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2421)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2422)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2423)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2424)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2425)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.`suit_id` = 737) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.suit_id = 737) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(737, 2426)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2414)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2415)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2416)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2417)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2418)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2419)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2420)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2421)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2422)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2423)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2424)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2425)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.`suit_id` = 738) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.suit_id = 738) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(738, 2426)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2414)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2415)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2416)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2417)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2418)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2419)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2420)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2421)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2422)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2423)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2424)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2425)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.`suit_id` = 739) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.suit_id = 739) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(739, 2426)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2414 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2414)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2415 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2415)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2416 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2416)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2417 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2417)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2418 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2418)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2419 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2419)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2420 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2420)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2421 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2421)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2422 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2422)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2423 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2423)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2424 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2424)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2425 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2425)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.`suit_id` = 740) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2426 AND `cards`.suit_id = 740) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(740, 2426)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:48) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 32ms (DB: 156) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:48) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 728) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 728 ) [0m
  [4;36;1mGame Load (16.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9500)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9521)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9473)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9498)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9507)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9519)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9489)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9502)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9503)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9514)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9493)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9501)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9499)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9496)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9494)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9516)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9482)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9478)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9515)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9480)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9524)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9485)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9518)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9479)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9512)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9517)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9475)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9492)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9523)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9510)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9513)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9487)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9508)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9506)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9504)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9484)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9476)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9481)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9490)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9509)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9491)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9477)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9495)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9474)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9497)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9511)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9488)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9486)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9522)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9505)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9483)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (205, 9520)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 205) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9520, 728)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9483, 728)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9505, 728)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9522, 728)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9486, 728)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 728) LIMIT 1[0m
  [4;36;1mPlayer Update (16.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 205, `seat_order` = 0 WHERE `id` = 728[0m
Rendering site/waiting
Completed in 359ms (View: 31, DB: 48) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:49) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 729) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 729 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 205) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 205 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9520, 729)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9483, 729)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9505, 729)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9522, 729)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9486, 729)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 729) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 205, `seat_order` = 1 WHERE `id` = 729[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:49) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 730) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 730 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 205) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 205 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9520, 730)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9483, 730)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9505, 730)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9522, 730)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9486, 730)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 730) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 205, `seat_order` = 2 WHERE `id` = 730[0m
Rendering site/waiting
Completed in 156ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 15) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:49) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 731) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 731 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 205) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 205 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9520, 731)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9483, 731)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9505, 731)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9522, 731)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9486, 731)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 731) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 205, `seat_order` = 3 WHERE `id` = 731[0m
Rendering site/waiting
Completed in 140ms (View: 31, DB: 31) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 728) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 728 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 729) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 729 ) [0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 730) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 730 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 731) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 731 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 728) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 205) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 205) [0m
Completed in 31ms (View: 31, DB: 16) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:49) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 729) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 205) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 205) [0m
Completed in 78ms (View: 63, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:49) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:49) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 730) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 205) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 205) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:50) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 731) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 205) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 205) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/login
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/login
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:50) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2427)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2429)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2430)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2431)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2432)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2433)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2434)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2435)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2436)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2437)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2438)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.`suit_id` = 741) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.suit_id = 741) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(741, 2439)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2427)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2428)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2429)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2430)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2431)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2432)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2433)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2434)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2435)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2436)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2438)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.`suit_id` = 742) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.suit_id = 742) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(742, 2439)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2427)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2428)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2429)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2430)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2431)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2432)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2433)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2434)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2435)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2436)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2437)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2438)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.`suit_id` = 743) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.suit_id = 743) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(743, 2439)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2427 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2427)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2428 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2428)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2429 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2429)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2430 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2430)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2431 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2431)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2432 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2432)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2433 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2433)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2434 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2434)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2435 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2435)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2436 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2436)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2437 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2437)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2438 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2438)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.`suit_id` = 744) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2439 AND `cards`.suit_id = 744) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(744, 2439)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:51) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 79) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:51) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 732 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9566)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9543)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9571)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9574)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9531)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9535)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9564)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9537)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9555)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9526)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9569)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9575)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9572)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9525)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9544)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9559)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9556)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9538)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9527)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9551)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9533)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9563)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9532)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9565)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9546)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9547)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9570)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9557)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9534)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9560)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9530)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9561)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9540)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9562)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9539)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9542)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9536)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9550)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9552)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9553)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9573)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9554)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9568)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9541)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9549)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9558)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9576)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9567)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9548)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9545)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9528)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9529)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 206) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9529, 732)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9528, 732)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9545, 732)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9548, 732)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9567, 732)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 732) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 206, `seat_order` = 0 WHERE `id` = 732[0m
Rendering site/waiting
Completed in 250ms (View: 31, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 733 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 206) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 206 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9529, 733)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9528, 733)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9545, 733)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9548, 733)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9567, 733)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 733) LIMIT 1[0m
  [4;36;1mPlayer Update (15.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 206, `seat_order` = 1 WHERE `id` = 733[0m
Rendering site/waiting
Completed in 141ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 734) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 734 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 206) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 206 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9529, 734)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9528, 734)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9545, 734)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9548, 734)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9567, 734)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 734) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 206, `seat_order` = 2 WHERE `id` = 734[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 735) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 735 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 206) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 206 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9529, 735)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9528, 735)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9545, 735)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9548, 735)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9567, 735)[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 735) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 206, `seat_order` = 3 WHERE `id` = 735[0m
Rendering site/waiting
Completed in 125ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 206) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 206) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 734) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 206) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:31:52) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 735) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 206) [0m
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:31:52) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 732 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 732 AND card_id IN (9529,9528,9545,9548,9567)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9568, 732)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 733 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 733 AND card_id IN (9529,9528,9545,9548,9567)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9563, 733)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 734 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 734 AND card_id IN (9529,9528,9545,9548,9567)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9532, 734)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 735 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 735 AND card_id IN (9529,9528,9545,9548,9567)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9541, 735)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 734) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 735) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9559)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 206 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 206 AND card_id IN (9566,9543,9571,9574,9531,9535,9564,9537,9555,9526,9569,9575,9572,9525,9544,9559,9556,9538,9527,9551,9533,9563,9532,9565,9546,9547,9570,9557,9534,9560,9530,9561,9540,9562,9539,9542,9536,9550,9552,9553,9573,9554,9568,9541,9549,9558,9576,9567,9548,9545,9528,9529)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (206, 9560)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 735) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9541) AND (`cards_players`.player_id = 735 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9541)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2430) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2435) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 742) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 206 AND card_id IN (9541)[0m
Rendering site/discard
Completed in 46ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9550) AND (`cards_players`.player_id = 732 ) LIMIT 1[0m
Rendering site/discard
Completed in 31ms (View: 15, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9568) AND (`cards_players`.player_id = 732 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9568)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2431) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2435) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 744) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 206 AND card_id IN (9568)[0m
Rendering site/discard
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 206 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9560, 732)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2436) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 732 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9560) AND (`cards_players`.player_id = 732 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9560)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2436) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2435) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 732 AND card_id IN (9560)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 732 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 206[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 732) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 732 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9563) AND (`cards_players`.player_id = 733 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9563)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2439) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2436) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 743) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 733 AND card_id IN (9563)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 733 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 206[0m
Rendering site/discard
Completed in 62ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 733) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 733 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:31:53) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 734) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 734) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 206) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9532) AND (`cards_players`.player_id = 734 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (206, 9532)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 206 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2434) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 734 AND card_id IN (9532)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 734 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 206[0m
Rendering site/discard
Completed in 78ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2440)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2441)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2442)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2443)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2444)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2445)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2446)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2447)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2448)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2449)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2450)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2451)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.`suit_id` = 745) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.suit_id = 745) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(745, 2452)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2440)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2441)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2442)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2443)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2444)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2445)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2446)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2447)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2448)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2449)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2450)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2451)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.`suit_id` = 746) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.suit_id = 746) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(746, 2452)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2440)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2441)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2442)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2443)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2444)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2445)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2446)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2447)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2448)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2449)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2450)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2451)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.`suit_id` = 747) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.suit_id = 747) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(747, 2452)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2440 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2440)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2441 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2441)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2442 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2442)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2443 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2443)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2444 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2444)[0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2445 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2445)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2446 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2446)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2447 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2447)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2448 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2448)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2449 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2449)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2450 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2450)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2451 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2451)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.`suit_id` = 748) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2452 AND `cards`.suit_id = 748) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(748, 2452)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:29) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 32ms (DB: 218) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:30) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 736) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 736 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9615)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9603)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9606)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9604)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9607)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9579)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9582)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9598)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9613)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9625)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9589)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9623)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9612)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9608)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9586)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9602)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9583)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9605)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9581)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9611)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9619)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9577)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9595)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9616)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9627)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9597)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9599)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9624)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9593)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9585)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9592)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9620)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9614)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9590)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9596)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9618)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9580)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9600)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9609)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9584)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9591)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9601)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9617)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9594)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9610)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9588)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9626)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9578)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9621)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9628)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9622)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (207, 9587)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 207) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9587, 736)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9622, 736)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9628, 736)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9621, 736)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9578, 736)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 736) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 207, `seat_order` = 0 WHERE `id` = 736[0m
Rendering site/waiting
Completed in 297ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:30) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:30) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 737) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 737 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 207) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 207 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9587, 737)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9622, 737)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9628, 737)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9621, 737)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9578, 737)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 737) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 207, `seat_order` = 1 WHERE `id` = 737[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:30) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:30) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 738) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 738 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 207) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 207 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9587, 738)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9622, 738)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9628, 738)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9621, 738)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9578, 738)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 738) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 207, `seat_order` = 2 WHERE `id` = 738[0m
Rendering site/waiting
Completed in 125ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:31) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 739) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 739 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 207) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 207 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9587, 739)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9622, 739)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9628, 739)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9621, 739)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9578, 739)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 739) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 207, `seat_order` = 3 WHERE `id` = 739[0m
Rendering site/waiting
Completed in 94ms (View: 32, DB: 0) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 736) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 736 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 737) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 737 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 738) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 738 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 739) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 739 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:31) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 736) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 207) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 207) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/play_game
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:31) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 737) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 207) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 207) [0m
Completed in 31ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/play_game
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:31) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 738) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 207) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 207) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:31) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 739) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 207) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 207) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/login
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Redirected to http://www.example.com/
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/login
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Redirected to http://www.example.com/
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:31) [GET]
Rendering site/login
Completed in 93ms (View: 78, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2453)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2454)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2455)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2456)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2457)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2458)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2459)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2460)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2461)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2462)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2463)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2464)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.`suit_id` = 749) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.suit_id = 749) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(749, 2465)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2453)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2454)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2455)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2456)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2457)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2458)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2459)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2460)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2461)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2462)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2463)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2464)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.`suit_id` = 750) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.suit_id = 750) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(750, 2465)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2453)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2454)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2455)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2456)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2457)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2458)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2459)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2460)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2461)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2462)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2463)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2464)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.`suit_id` = 751) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.suit_id = 751) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(751, 2465)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2453 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2453)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2454 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2454)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2455 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2455)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2456 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2456)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2457 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2457)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2458 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2458)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2459 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2459)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2460 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2460)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2461 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2461)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2462 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2462)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2463 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2463)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2464 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2464)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.`suit_id` = 752) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2465 AND `cards`.suit_id = 752) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(752, 2465)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 139) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 740 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9665)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9638)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9677)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9649)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9630)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9676)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9661)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9635)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9634)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9629)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9650)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9663)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9656)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9657)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9648)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9632)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9671)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9666)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9637)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9631)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9662)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9658)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9659)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9654)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9679)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9673)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9643)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9664)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9672)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9651)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9640)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9667)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9653)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9660)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9644)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9642)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9636)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9669)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9639)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9680)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9652)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9668)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9647)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9633)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9655)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9645)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9641)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9646)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9675)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9674)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 208) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9674, 740)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9675, 740)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9646, 740)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9641, 740)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9645, 740)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 740) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 208, `seat_order` = 0 WHERE `id` = 740[0m
Rendering site/waiting
Completed in 218ms (View: 15, DB: 62) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 15ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 741 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 208) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 208 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9674, 741)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9675, 741)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9646, 741)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9641, 741)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9645, 741)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 741) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 208, `seat_order` = 1 WHERE `id` = 741[0m
Rendering site/waiting
Completed in 110ms (View: 0, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 16) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 742) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 742 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 208 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9674, 742)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9675, 742)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9646, 742)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9641, 742)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9645, 742)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 742) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 208, `seat_order` = 2 WHERE `id` = 742[0m
Rendering site/waiting
Completed in 63ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 743) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 743 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 208) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 208 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9674, 743)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9675, 743)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9646, 743)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9641, 743)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9645, 743)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 743) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 208, `seat_order` = 3 WHERE `id` = 743[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 208) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 208) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 742) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 208) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:33) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:35:33) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 743) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 208) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:35:34) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 740 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 740 AND card_id IN (9674,9675,9646,9641,9645)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9672, 740)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 741 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 741 AND card_id IN (9674,9675,9646,9641,9645)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9667, 741)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 742 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 742 AND card_id IN (9674,9675,9646,9641,9645)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9636, 742)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 743 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 743 AND card_id IN (9674,9675,9646,9641,9645)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9645, 743)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 742) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 743) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9663)[0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 208 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 208 AND card_id IN (9665,9638,9677,9649,9630,9676,9661,9635,9634,9629,9650,9663,9656,9657,9648,9632,9671,9666,9637,9631,9662,9658,9670,9659,9654,9679,9673,9678,9643,9664,9672,9651,9640,9667,9653,9660,9644,9642,9636,9669,9639,9680,9652,9668,9647,9633,9655,9645,9641,9646,9675,9674)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (208, 9664)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 743) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 743) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9645) AND (`cards_players`.player_id = 743 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9645)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2456) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2461) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 750) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 208 AND card_id IN (9645)[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 110) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9654) AND (`cards_players`.player_id = 740 ) LIMIT 1[0m
Rendering site/discard
Completed in 47ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9672) AND (`cards_players`.player_id = 740 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9672)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2457) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2461) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 752) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 208 AND card_id IN (9672)[0m
Rendering site/discard
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 208 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9664, 740)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2462) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
Completed in 47ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 740 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9664) AND (`cards_players`.player_id = 740 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9664)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2462) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2461) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 740 AND card_id IN (9664)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 740 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 208[0m
Rendering site/discard
Completed in 110ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 740) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 740 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;35;1mGame Load (15.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9667) AND (`cards_players`.player_id = 741 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9667)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;36;1mRank Load (16.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2465) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2462) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 751) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 741 AND card_id IN (9667)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 741 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 208[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 78) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 741) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 741 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:35:34) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 742) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 742) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 208) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9636) AND (`cards_players`.player_id = 742 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (208, 9636)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 208 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2460) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 742 AND card_id IN (9636)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 742 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 208[0m
Rendering site/discard
Completed in 109ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2466)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2467)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2468)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2469)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2470)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2471)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2472)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2473)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2474)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2475)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2476)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2477)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.`suit_id` = 753) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.suit_id = 753) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(753, 2478)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2466)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2467)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2468)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2469)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2470)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2471)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2472)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2473)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2474)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2475)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2476)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2477)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.`suit_id` = 754) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.suit_id = 754) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(754, 2478)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2466)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2467)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2468)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2469)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2470)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2471)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2472)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2473)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2474)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2475)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2476)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2477)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.`suit_id` = 755) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.suit_id = 755) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(755, 2478)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2466 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2466)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2467 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2467)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2468 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2468)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2469 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2469)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2470 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2470)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2471 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2471)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2472 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2472)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2473 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2473)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2474 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2474)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2475 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2475)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2476 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2476)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2477 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2477)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.`suit_id` = 756) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2478 AND `cards`.suit_id = 756) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(756, 2478)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:56) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 64) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:37:57) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 744) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 744 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9708)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9682)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9725)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9707)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9722)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9681)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9716)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9709)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9728)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9727)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9721)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9690)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9691)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9696)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9697)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9705)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9702)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9699)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9683)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9712)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9689)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9713)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9715)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9731)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9711)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9730)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9692)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9723)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9704)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9719)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9732)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9693)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9718)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9688)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9694)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9684)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9686)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9685)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9703)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9698)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9701)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9729)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9714)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9720)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9695)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9706)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9726)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9717)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9687)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9710)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9724)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (209, 9700)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 209) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9700, 744)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9724, 744)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9710, 744)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9687, 744)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9717, 744)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 744) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 209, `seat_order` = 0 WHERE `id` = 744[0m
Rendering site/waiting
Completed in 343ms (View: 15, DB: 47) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:57) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:37:57) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 745) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 745 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 209) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 209 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9700, 745)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9724, 745)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9710, 745)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9687, 745)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9717, 745)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 745) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 209, `seat_order` = 1 WHERE `id` = 745[0m
Rendering site/waiting
Completed in 109ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:57) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:37:57) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 746) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 746 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 209) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 209 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9700, 746)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9724, 746)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9710, 746)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9687, 746)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9717, 746)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 746) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 209, `seat_order` = 2 WHERE `id` = 746[0m
Rendering site/waiting
Completed in 172ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:58) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 747) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 747 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 209) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 209 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9700, 747)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9724, 747)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9710, 747)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9687, 747)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9717, 747)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 747) LIMIT 1[0m
  [4;35;1mPlayer Update (16.0ms)[0m   [0mUPDATE `players` SET `game_id` = 209, `seat_order` = 3 WHERE `id` = 747[0m
Rendering site/waiting
Completed in 109ms (View: 16, DB: 16) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 744) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 744 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 745) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 745 ) [0m
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 746) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 746 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 747) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 747 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:37:58) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 744) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 209) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 209) [0m
Completed in 31ms (View: 31, DB: 32) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:37:58) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 745) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 209) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 209) [0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/play_game
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:37:58) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 746) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 209) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 209) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:37:58) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (15.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 747) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 209) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 209) [0m
Completed in 15ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/login
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/login
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Redirected to http://www.example.com/
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:37:58) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2479)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2480)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2481)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2482)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2483)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2484)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2485)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2486)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2487)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2488)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2489)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2490)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.`suit_id` = 757) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.suit_id = 757) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(757, 2491)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2479)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2480)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2481)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2482)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2483)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2484)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2485)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2486)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2487)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2488)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2489)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2490)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.`suit_id` = 758) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.suit_id = 758) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(758, 2491)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2479)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2480)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2481)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2482)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2483)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2484)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2485)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2486)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2487)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2488)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2489)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2490)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.`suit_id` = 759) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.suit_id = 759) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(759, 2491)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2479 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2479)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2480 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2480)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2481 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2481)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2482 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2482)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2483 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2483)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2484 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2484)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2485 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2485)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2486 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2486)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2487 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2487)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2488 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2488)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2489 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2489)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2490 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2490)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.`suit_id` = 760) LIMIT 1[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2491 AND `cards`.suit_id = 760) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(760, 2491)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:38:00) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 79) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:38:00) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 748 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9770)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9753)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9769)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9775)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9757)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9761)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9756)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9747)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9745)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9741)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9736)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9781)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9739)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9765)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9738)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9746)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9760)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9784)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9743)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9733)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9776)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9759)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9783)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9771)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9762)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9740)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9768)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9767)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9772)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9734)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9750)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9779)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9778)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9763)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9777)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9754)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9764)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9744)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9780)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9749)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9742)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9774)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9751)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9773)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9758)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9766)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9782)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9752)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9735)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9737)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9748)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 210) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9748, 748)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9737, 748)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9735, 748)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9752, 748)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9782, 748)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 748) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 210, `seat_order` = 0 WHERE `id` = 748[0m
Rendering site/waiting
Completed in 297ms (View: 16, DB: 31) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:38:00) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:38:00) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 749 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 210) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 210 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9748, 749)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9737, 749)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9735, 749)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9752, 749)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9782, 749)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 749) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 210, `seat_order` = 1 WHERE `id` = 749[0m
Rendering site/waiting
Completed in 124ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:38:00) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:38:00) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 750) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 750 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 210 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9748, 750)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9737, 750)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9735, 750)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9752, 750)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9782, 750)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 750) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 210, `seat_order` = 2 WHERE `id` = 750[0m
Rendering site/waiting
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:38:01) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 751) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 751 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 210) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 210 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9748, 751)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9737, 751)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9735, 751)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9752, 751)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9782, 751)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 751) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 210, `seat_order` = 3 WHERE `id` = 751[0m
Rendering site/waiting
Completed in 125ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 210) [0m
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:38:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 210) [0m
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:38:01) [GET]
Rendering site/play_game
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 750) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 210) [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:38:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 751) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 210) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:38:01) [GET]
Rendering site/play_game
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 748 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 748 AND card_id IN (9748,9737,9735,9752,9782)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9776, 748)[0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 749 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 749 AND card_id IN (9748,9737,9735,9752,9782)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9771, 749)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 750 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 750 AND card_id IN (9748,9737,9735,9752,9782)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9740, 750)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 751 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 751 AND card_id IN (9748,9737,9735,9752,9782)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9749, 751)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 750) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 751) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9767)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 210 ) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 210 AND card_id IN (9770,9753,9755,9769,9775,9757,9761,9756,9747,9745,9741,9736,9781,9739,9765,9738,9746,9760,9784,9743,9733,9776,9759,9783,9771,9762,9740,9768,9767,9772,9734,9750,9779,9778,9763,9777,9754,9764,9744,9780,9749,9742,9774,9751,9773,9758,9766,9782,9752,9735,9737,9748)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (210, 9768)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 751) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 751) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9749) AND (`cards_players`.player_id = 751 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9749)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2482) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2487) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 758) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 210 AND card_id IN (9749)[0m
Rendering site/discard
Completed in 93ms (View: 15, DB: 93) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9758) AND (`cards_players`.player_id = 748 ) LIMIT 1[0m
Rendering site/discard
Completed in 62ms (View: 15, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (16.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9776) AND (`cards_players`.player_id = 748 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9776)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2483) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2487) [0m
  [4;36;1mSuit Load (16.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 760) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 210 AND card_id IN (9776)[0m
Rendering site/discard
Completed in 94ms (View: 16, DB: 32) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:38:01) [POST]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 210 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9768, 748)[0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2488) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 748 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:02) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9768) AND (`cards_players`.player_id = 748 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9768)[0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2488) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2487) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 748 AND card_id IN (9768)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 748 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 210[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 748) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 748 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:02) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9771) AND (`cards_players`.player_id = 749 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9771)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2491) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2488) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 759) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 749 AND card_id IN (9771)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 749 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 210[0m
Rendering site/discard
Completed in 109ms (View: 0, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 749) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 749 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:38:02) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (15.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 750) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 750) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 210) [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9740) AND (`cards_players`.player_id = 750 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (210, 9740)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 210 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2486) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 750 AND card_id IN (9740)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 750 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 210[0m
Rendering site/discard
Completed in 78ms (View: 0, DB: 46) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2492)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2493)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2494)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2495)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2496)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2497)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2498)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2499)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2500)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2501)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2502)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2503)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.`suit_id` = 761) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.suit_id = 761) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(761, 2504)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2492)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2493)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2494)[0m
  [4;36;1mCard Load (19.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2495)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2496)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2497)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2498)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2499)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2500)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2501)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2502)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2503)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.`suit_id` = 762) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.suit_id = 762) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(762, 2504)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2492)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2493)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2494)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2495)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2496)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2497)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2498)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2499)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2500)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2501)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2502)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2503)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.`suit_id` = 763) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.suit_id = 763) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(763, 2504)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2492 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2492)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2493 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2493)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2494 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2494)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2495 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2495)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2496 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2496)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2497 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2497)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2498 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2498)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2499 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2499)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2500 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2500)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2501 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2501)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2502 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2502)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2503 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2503)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.`suit_id` = 764) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2504 AND `cards`.suit_id = 764) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(764, 2504)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:32) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 196) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:32) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 752) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 752 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9812)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9825)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9832)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9816)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9836)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9833)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9800)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9797)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9803)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9835)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9805)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9824)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9793)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9791)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9789)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9788)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9808)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9796)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9794)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9810)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9801)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9798)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9831)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9799)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9809)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9817)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9821)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9806)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9820)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9786)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9814)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9790)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9826)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9827)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9829)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9815)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9785)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9834)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9795)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9811)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9823)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9787)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9830)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9804)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9828)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9792)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9807)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9802)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9819)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9822)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (211, 9818)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 211) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9818, 752)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9822, 752)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9819, 752)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9802, 752)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9807, 752)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 752) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 211, `seat_order` = 0 WHERE `id` = 752[0m
Rendering site/waiting
Completed in 388ms (View: 42, DB: 36) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:33) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:33) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 753) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 753 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 211) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 211 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9818, 753)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9822, 753)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9819, 753)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9802, 753)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9807, 753)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 753) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 211, `seat_order` = 1 WHERE `id` = 753[0m
Rendering site/waiting
Completed in 135ms (View: 19, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:33) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:33) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 754) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 754 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 211) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 211 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9818, 754)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9822, 754)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9819, 754)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9802, 754)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9807, 754)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 754) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 211, `seat_order` = 2 WHERE `id` = 754[0m
Rendering site/waiting
Completed in 158ms (View: 15, DB: 28) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:33) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:33) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 755) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 755 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 211) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 211 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9818, 755)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9822, 755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9819, 755)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9802, 755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9807, 755)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 755) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 211, `seat_order` = 3 WHERE `id` = 755[0m
Rendering site/waiting
Completed in 115ms (View: 17, DB: 17) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 752) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 752 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 753) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 753 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 754) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 754 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 755) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 755 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:33) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 752) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 211) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 211) [0m
Completed in 27ms (View: 24, DB: 17) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:33) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:33) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 753) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 211) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 211) [0m
Completed in 20ms (View: 17, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/play_game
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:34) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 754) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 211) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 211) [0m
Completed in 16ms (View: 12, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:34) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 755) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 211) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 211) [0m
Completed in 17ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/login
Completed in 28ms (View: 28, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Redirected to http://www.example.com/
Completed in 11ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/login
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/login
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:34) [GET]
Rendering site/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2505)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2506)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2507)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2508)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2509)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2510)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2511)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2512)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2513)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2514)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2515)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2516)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.`suit_id` = 765) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.suit_id = 765) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(765, 2517)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2505)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2506)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2507)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2508)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2509)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2510)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2511)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2512)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2513)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2514)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2515)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2516)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.`suit_id` = 766) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.suit_id = 766) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(766, 2517)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2505)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2506)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2507)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2508)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2509)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2510)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2511)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2512)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2513)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2514)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2515)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2516)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.`suit_id` = 767) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.suit_id = 767) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(767, 2517)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2505 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2505)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2506 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2506)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2507 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2507)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2508 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2508)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2509 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2509)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2510 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2510)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2511 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2511)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2512 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2512)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2513 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2513)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2514 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2514)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2515 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2515)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2516 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2516)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.`suit_id` = 768) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2517 AND `cards`.suit_id = 768) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(768, 2517)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 18ms (DB: 144) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 756 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9880)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9863)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9846)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9887)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9859)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9888)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9844)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9874)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9857)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9877)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9861)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9862)[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9850)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9865)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9854)[0m
  [4;35;1mSQL (36.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9875)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9848)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9855)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9856)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9886)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9852)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9838)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9882)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9885)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9858)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9878)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9881)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9841)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9842)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9879)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9869)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9849)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9872)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9853)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9870)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9843)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9868)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9864)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9876)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9866)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9851)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9883)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9845)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9840)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9837)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9839)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9867)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9847)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9873)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9884)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 212) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9884, 756)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9873, 756)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9847, 756)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9867, 756)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9839, 756)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 756) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 212, `seat_order` = 0 WHERE `id` = 756[0m
Rendering site/waiting
Completed in 313ms (View: 16, DB: 104) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 757 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 212) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 212 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9884, 757)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9873, 757)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9847, 757)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9867, 757)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9839, 757)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 757) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 212, `seat_order` = 1 WHERE `id` = 757[0m
Rendering site/waiting
Completed in 109ms (View: 11, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 758) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 758 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 212) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 212 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9884, 758)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9873, 758)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9847, 758)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9867, 758)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9839, 758)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 758) LIMIT 1[0m
  [4;35;1mPlayer Update (2.0ms)[0m   [0mUPDATE `players` SET `game_id` = 212, `seat_order` = 2 WHERE `id` = 758[0m
Rendering site/waiting
Completed in 108ms (View: 14, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 759) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 759 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 212) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 212 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9884, 759)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9873, 759)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9847, 759)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9867, 759)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9839, 759)[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 759) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 212, `seat_order` = 3 WHERE `id` = 759[0m
Rendering site/waiting
Completed in 155ms (View: 14, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 212) [0m
Completed in 22ms (View: 20, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 212) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:36) [GET]
Rendering site/play_game
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:36) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 758) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 212) [0m
Completed in 26ms (View: 24, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:37) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 759) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 212) [0m
Completed in 20ms (View: 18, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:42:37) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 756 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 756 AND card_id IN (9884,9873,9847,9867,9839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9880, 756)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 757 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 757 AND card_id IN (9884,9873,9847,9867,9839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9875, 757)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 758 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 758 AND card_id IN (9884,9873,9847,9867,9839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9844, 758)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 759 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 759 AND card_id IN (9884,9873,9847,9867,9839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9853, 759)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 758) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 759) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9871)[0m
  [4;35;1mCard Load (19.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 212 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 212 AND card_id IN (9880,9863,9846,9887,9859,9888,9844,9874,9857,9877,9861,9862,9850,9865,9854,9875,9848,9855,9856,9886,9852,9838,9882,9885,9858,9878,9871,9881,9841,9842,9879,9869,9849,9872,9853,9870,9843,9868,9864,9876,9860,9866,9851,9883,9845,9840,9837,9839,9867,9847,9873,9884)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (212, 9872)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 759) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 759) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9853) AND (`cards_players`.player_id = 759 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9853)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2508) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2513) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 766) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 212 AND card_id IN (9853)[0m
Rendering site/discard
Completed in 68ms (View: 4, DB: 88) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (9.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9862) AND (`cards_players`.player_id = 756 ) LIMIT 1[0m
Rendering site/discard
Completed in 46ms (View: 7, DB: 14) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9880) AND (`cards_players`.player_id = 756 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9880)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2509) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2513) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 768) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 212 AND card_id IN (9880)[0m
Rendering site/discard
Completed in 85ms (View: 3, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 212 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9872, 756)[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2514) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
Completed in 46ms (View: 2, DB: 15) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 756 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9872) AND (`cards_players`.player_id = 756 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9872)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2514) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2513) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 756 AND card_id IN (9872)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 756 ) [0m
  [4;35;1mGame Update (1.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 212[0m
Rendering site/discard
Completed in 89ms (View: 3, DB: 22) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (4.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 756) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 756 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:37) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (4.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9875) AND (`cards_players`.player_id = 757 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9875)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2517) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2514) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 767) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 757 AND card_id IN (9875)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 757 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 212[0m
Rendering site/discard
Completed in 94ms (View: 2, DB: 37) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 757) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 757 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:42:38) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 758) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 758) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 212) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9844) AND (`cards_players`.player_id = 758 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (212, 9844)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 212 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2512) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 758 AND card_id IN (9844)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 758 ) [0m
  [4;35;1mGame Update (1.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 212[0m
Rendering site/discard
Completed in 97ms (View: 3, DB: 21) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2518)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2519)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2520)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2521)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2522)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2523)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2524)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2525)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2526)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2527)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2528)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2529)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.`suit_id` = 769) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.suit_id = 769) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(769, 2530)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2518)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2519)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2520)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2521)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2522)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2523)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2524)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2525)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2526)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2527)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2528)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2529)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.`suit_id` = 770) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.suit_id = 770) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(770, 2530)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2518)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2519)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2520)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2521)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2522)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2523)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2524)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2525)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2526)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2527)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2528)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2529)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.`suit_id` = 771) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.suit_id = 771) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(771, 2530)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2518 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2518)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2519 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2519)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2520 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2520)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2521 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2521)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2522 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2522)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2523 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2523)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2524 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2524)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2525 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2525)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2526 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2526)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2527 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2527)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2528 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2528)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2529 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2529)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.`suit_id` = 772) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2530 AND `cards`.suit_id = 772) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(772, 2530)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:11) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 50ms (DB: 165) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:11) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 760) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 760 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9912)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9913)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9923)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9905)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9932)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9892)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9911)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9924)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9937)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9890)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9914)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9901)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9910)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9930)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9906)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9939)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9895)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9897)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9928)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9889)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9933)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9922)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9916)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9908)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9900)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9915)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9893)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9931)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9921)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9917)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9898)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9940)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9909)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9891)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9902)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9919)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9899)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9894)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9904)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9903)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9927)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9907)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9896)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9926)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9929)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9936)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9920)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9918)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9925)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9934)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9935)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (213, 9938)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 213) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9938, 760)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9935, 760)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9934, 760)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9925, 760)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9918, 760)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 760) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 213, `seat_order` = 0 WHERE `id` = 760[0m
Rendering site/waiting
Completed in 391ms (View: 28, DB: 40) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 761) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 761 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 213) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 213 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9938, 761)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9935, 761)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9934, 761)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9925, 761)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9918, 761)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 761) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 213, `seat_order` = 1 WHERE `id` = 761[0m
Rendering site/waiting
Completed in 179ms (View: 19, DB: 33) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 762) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 762 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 213) [0m
  [4;35;1mCard Load (18.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 213 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9938, 762)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9935, 762)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9934, 762)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9925, 762)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9918, 762)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 762) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 213, `seat_order` = 2 WHERE `id` = 762[0m
Rendering site/waiting
Completed in 161ms (View: 18, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 763) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 763 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 213) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 213 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9938, 763)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9935, 763)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9934, 763)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9925, 763)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9918, 763)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 763) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 213, `seat_order` = 3 WHERE `id` = 763[0m
Rendering site/waiting
Completed in 123ms (View: 17, DB: 26) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 760) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 760 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 761) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 761 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 762) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 762 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 763) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 763 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 760) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 213) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 213) [0m
Completed in 28ms (View: 24, DB: 18) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
Rendering site/play_game
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 761) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 213) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 213) [0m
Completed in 72ms (View: 69, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
Rendering site/play_game
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 762) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 213) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 213) [0m
Completed in 18ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:12) [GET]
Rendering site/play_game
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:12) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 763) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 213) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 213) [0m
Completed in 20ms (View: 16, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Redirected to http://www.example.com/
Completed in 5ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Rendering site/login
Completed in 26ms (View: 26, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Redirected to http://www.example.com/
Completed in 11ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Rendering site/login
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Rendering site/login
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:13) [GET]
Rendering site/login
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2531)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2532)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2533)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2534)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2535)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2536)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2537)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2538)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2539)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2540)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2541)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2542)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.`suit_id` = 773) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.suit_id = 773) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(773, 2543)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2531)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2532)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2533)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2534)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2535)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2536)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2537)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2538)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2539)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2540)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2541)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2542)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.`suit_id` = 774) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.suit_id = 774) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(774, 2543)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2531)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2532)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2533)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2534)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2535)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2536)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2537)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2538)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2539)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2540)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2541)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2542)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.`suit_id` = 775) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.suit_id = 775) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(775, 2543)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2531 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2531)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2532 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2532)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2533 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2533)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2534 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2534)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2535 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2535)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2536 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2536)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2537 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2537)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2538 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2538)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2539 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2539)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2540 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2540)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2541 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2541)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2542 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2542)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.`suit_id` = 776) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2543 AND `cards`.suit_id = 776) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(776, 2543)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 19ms (DB: 147) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 764 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9960)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9989)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9945)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9972)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9962)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9963)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9948)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9966)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9974)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9946)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9964)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9979)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9951)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9954)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9943)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9982)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9961)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9975)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9971)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9949)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9941)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9973)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9942)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9987)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9978)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9976)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9990)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9985)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9968)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9944)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9967)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9958)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9965)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9959)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9983)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9988)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9980)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9953)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9952)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9955)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9986)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9977)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9981)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9950)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9991)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9947)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9992)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9984)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9969)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9956)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9957)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9970)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 214) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9970, 764)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9957, 764)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9956, 764)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9969, 764)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9984, 764)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 764) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 214, `seat_order` = 0 WHERE `id` = 764[0m
Rendering site/waiting
Completed in 286ms (View: 17, DB: 49) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 765 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 214) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 214 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9970, 765)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9957, 765)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9956, 765)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9969, 765)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9984, 765)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 765) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 214, `seat_order` = 1 WHERE `id` = 765[0m
Rendering site/waiting
Completed in 126ms (View: 12, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 766) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 766 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 214) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 214 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9970, 766)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9957, 766)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9956, 766)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9969, 766)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9984, 766)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 766) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 214, `seat_order` = 2 WHERE `id` = 766[0m
Rendering site/waiting
Completed in 104ms (View: 15, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 767) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 767 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 214) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 214 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9970, 767)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9957, 767)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9956, 767)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9969, 767)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9984, 767)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 767) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 214, `seat_order` = 3 WHERE `id` = 767[0m
Rendering site/waiting
Completed in 98ms (View: 13, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 214) [0m
Completed in 25ms (View: 21, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 214) [0m
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 766) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 214) [0m
Completed in 26ms (View: 23, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:15) [GET]
Rendering site/play_game
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-11 21:43:15) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 767) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 214) [0m
Completed in 23ms (View: 18, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-11 21:43:16) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 764 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 764 AND card_id IN (9970,9957,9956,9969,9984)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9984, 764)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 765 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 765 AND card_id IN (9970,9957,9956,9969,9984)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9979, 765)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 766 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 766 AND card_id IN (9970,9957,9956,9969,9984)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9948, 766)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 767 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 767 AND card_id IN (9970,9957,9956,9969,9984)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9957, 767)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 766) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 767) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9975)[0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 214 ) [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 214 AND card_id IN (9960,9989,9945,9972,9962,9963,9948,9966,9974,9946,9964,9979,9951,9954,9943,9982,9961,9975,9971,9949,9941,9973,9942,9987,9978,9976,9990,9985,9968,9944,9967,9958,9965,9959,9983,9988,9980,9953,9952,9955,9986,9977,9981,9950,9991,9947,9992,9984,9969,9956,9957,9970)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (214, 9976)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 767) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 767) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9957) AND (`cards_players`.player_id = 767 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9957)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2534) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2539) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 774) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 214 AND card_id IN (9957)[0m
Rendering site/discard
Completed in 65ms (View: 5, DB: 70) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9966) AND (`cards_players`.player_id = 764 ) LIMIT 1[0m
Rendering site/discard
Completed in 67ms (View: 12, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9984) AND (`cards_players`.player_id = 764 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9984)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2535) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2539) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 776) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 214 AND card_id IN (9984)[0m
Rendering site/discard
Completed in 113ms (View: 5, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 214 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9976, 764)[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2540) [0m
  [4;36;1mSuit Load (2.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
Completed in 46ms (View: 2, DB: 16) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 764 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9976) AND (`cards_players`.player_id = 764 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9976)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2540) [0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2539) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 764 AND card_id IN (9976)[0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 764 ) [0m
  [4;35;1mGame Update (1.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 214[0m
Rendering site/discard
Completed in 85ms (View: 2, DB: 27) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 764) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 764 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:16) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9979) AND (`cards_players`.player_id = 765 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9979)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2543) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2540) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 775) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 765 AND card_id IN (9979)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 765 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 214[0m
Rendering site/discard
Completed in 93ms (View: 3, DB: 28) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 765) [0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 765 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-11 21:43:17) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 766) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 766) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 214) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 9948) AND (`cards_players`.player_id = 766 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (214, 9948)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 214 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2538) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 766 AND card_id IN (9948)[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 766 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 214[0m
Rendering site/discard
Completed in 110ms (View: 3, DB: 28) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2544)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2545)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2546)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2547)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2548)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2549)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2550)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2551)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2552)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2553)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2554)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2555)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.`suit_id` = 777) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.suit_id = 777) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(777, 2556)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2544)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2545)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2546)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2547)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2548)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2549)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2550)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2551)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2552)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2553)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2554)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2555)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.`suit_id` = 778) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.suit_id = 778) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(778, 2556)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2544)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2545)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2546)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2547)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2548)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2549)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2550)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2551)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2552)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2553)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2554)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2555)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.`suit_id` = 779) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.suit_id = 779) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(779, 2556)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2544 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2544)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2545 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2545)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2546 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2546)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2547 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2547)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2548 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2548)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2549 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2549)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2550 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2550)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2551 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2551)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2552 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2552)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2553 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2553)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2554 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2554)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2555 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2555)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.`suit_id` = 780) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2556 AND `cards`.suit_id = 780) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(780, 2556)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:35) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 50ms (DB: 217) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:36) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 768) [0m
  [4;35;1mCard Load (25.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 768 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10028)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10033)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10041)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10002)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10021)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10031)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10032)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10026)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10023)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10012)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10022)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10011)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10016)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10003)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10043)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10037)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10014)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10039)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10018)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9993)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9995)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10027)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10042)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10036)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10024)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10015)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10025)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9996)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10030)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10020)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10008)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10040)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10034)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9994)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9998)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10035)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10001)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10005)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10006)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10044)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10013)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10029)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10000)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10017)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10038)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9999)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10004)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10007)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10019)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 9997)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10009)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (215, 10010)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 215) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10010, 768)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10009, 768)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9997, 768)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10019, 768)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10007, 768)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 768) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 215, `seat_order` = 0 WHERE `id` = 768[0m
Rendering site/waiting
Completed in 382ms (View: 32, DB: 63) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:36) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:36) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 769) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 769 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 215) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 215 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10010, 769)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10009, 769)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9997, 769)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10019, 769)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10007, 769)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 769) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 215, `seat_order` = 1 WHERE `id` = 769[0m
Rendering site/waiting
Completed in 188ms (View: 21, DB: 24) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 770) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 770 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 215) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 215 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10010, 770)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10009, 770)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9997, 770)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10019, 770)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10007, 770)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 770) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 215, `seat_order` = 2 WHERE `id` = 770[0m
Rendering site/waiting
Completed in 150ms (View: 16, DB: 27) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 771) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 771 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 215) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 215 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10010, 771)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10009, 771)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (9997, 771)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10019, 771)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10007, 771)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 771) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 215, `seat_order` = 3 WHERE `id` = 771[0m
Rendering site/waiting
Completed in 139ms (View: 21, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 768) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 768 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 769) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 769 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 770) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 770 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 771) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 771 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 768) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 215) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 215) [0m
Completed in 31ms (View: 28, DB: 19) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/play_game
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 769) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 215) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 215) [0m
Completed in 26ms (View: 23, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/play_game
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 770) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 215) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 215) [0m
Completed in 19ms (View: 17, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/play_game
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 771) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 215) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 215) [0m
Completed in 19ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/login
Completed in 30ms (View: 30, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Redirected to http://www.example.com/
Completed in 10ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/login
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/login
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:37) [GET]
Rendering site/login
Completed in 73ms (View: 72, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2557)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2558)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2559)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2560)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2561)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2562)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2563)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2564)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2565)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2566)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2567)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2568)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.`suit_id` = 781) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.suit_id = 781) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(781, 2569)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2557)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2558)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2559)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2560)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2561)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2562)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2563)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2564)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2565)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2566)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2567)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2568)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.`suit_id` = 782) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.suit_id = 782) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(782, 2569)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2557)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2558)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2559)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2560)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2561)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2562)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2563)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2564)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2565)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2566)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2567)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2568)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.`suit_id` = 783) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.suit_id = 783) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(783, 2569)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2557 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2557)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2558 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2558)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2559 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2559)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2560 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2560)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2561 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2561)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2562 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2562)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2563 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2563)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2564 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2564)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2565 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2565)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2566 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2566)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2567 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2567)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2568 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2568)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.`suit_id` = 784) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2569 AND `cards`.suit_id = 784) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(784, 2569)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:39) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 147) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:39) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 772 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10088)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10073)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10093)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10052)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10094)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10051)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10054)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10069)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10065)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10049)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10076)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10074)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10096)[0m
  [4;35;1mSQL (34.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10060)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10047)[0m
  [4;35;1mSQL (37.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10084)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10078)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10068)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10090)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10085)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10092)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10066)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10095)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10045)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10062)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10072)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10046)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10063)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10061)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10070)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10057)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10086)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10077)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10087)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10082)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10079)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10059)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10050)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10064)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10055)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10080)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10089)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10075)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10083)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10071)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10081)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10067)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10091)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10048)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10053)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10056)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10058)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 216) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10058, 772)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10056, 772)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10053, 772)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10048, 772)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10091, 772)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 772) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 216, `seat_order` = 0 WHERE `id` = 772[0m
Rendering site/waiting
Completed in 291ms (View: 14, DB: 104) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 773 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 216) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 216 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10058, 773)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10056, 773)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10053, 773)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10048, 773)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10091, 773)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 773) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 216, `seat_order` = 1 WHERE `id` = 773[0m
Rendering site/waiting
Completed in 143ms (View: 15, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 774) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 774 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 216) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 216 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10058, 774)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10056, 774)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10053, 774)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10048, 774)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10091, 774)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 774) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 216, `seat_order` = 2 WHERE `id` = 774[0m
Rendering site/waiting
Completed in 127ms (View: 14, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 775) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 775 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 216) [0m
  [4;35;1mCard Load (11.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 216 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10058, 775)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10056, 775)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10053, 775)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10048, 775)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10091, 775)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 775) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 216, `seat_order` = 3 WHERE `id` = 775[0m
Rendering site/waiting
Completed in 126ms (View: 8, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 216) [0m
Completed in 20ms (View: 19, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 216) [0m
Completed in 14ms (View: 13, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
Rendering site/play_game
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 774) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 216) [0m
Completed in 27ms (View: 24, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:26:40) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 775) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 216) [0m
Completed in 18ms (View: 13, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:26:40) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 772 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 772 AND card_id IN (10058,10056,10053,10048,10091)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10088, 772)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 773 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 773 AND card_id IN (10058,10056,10053,10048,10091)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10083, 773)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 774 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 774 AND card_id IN (10058,10056,10053,10048,10091)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10052, 774)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 775 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 775 AND card_id IN (10058,10056,10053,10048,10091)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10061, 775)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 774) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 775) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10079)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 216 ) [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 216 AND card_id IN (10088,10073,10093,10052,10094,10051,10054,10069,10065,10049,10076,10074,10096,10060,10047,10084,10078,10068,10090,10085,10092,10066,10095,10045,10062,10072,10046,10063,10061,10070,10057,10086,10077,10087,10082,10079,10059,10050,10064,10055,10080,10089,10075,10083,10071,10081,10067,10091,10048,10053,10056,10058)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (216, 10080)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 775) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 775) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10061) AND (`cards_players`.player_id = 775 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10061)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;35;1mRank Load (5.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2560) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2565) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 782) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 216 AND card_id IN (10061)[0m
Rendering site/discard
Completed in 69ms (View: 4, DB: 70) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;36;1mPlayer Load (4.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10070) AND (`cards_players`.player_id = 772 ) LIMIT 1[0m
Rendering site/discard
Completed in 48ms (View: 9, DB: 9) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10088) AND (`cards_players`.player_id = 772 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10088)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2561) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2565) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 784) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDELETE FROM `discard_pile` WHERE game_id = 216 AND card_id IN (10088)[0m
Rendering site/discard
Completed in 105ms (View: 5, DB: 21) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 216 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10080, 772)[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2566) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
Completed in 48ms (View: 2, DB: 14) | 200 OK [http://www.example.com/site/draw]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 772 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10080) AND (`cards_players`.player_id = 772 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10080)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2566) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2565) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 772 AND card_id IN (10080)[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 772 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 1 WHERE `id` = 216[0m
Rendering site/discard
Completed in 84ms (View: 3, DB: 26) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 772) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 772 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10083) AND (`cards_players`.player_id = 773 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10083)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2569) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2566) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 783) [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 773 AND card_id IN (10083)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 773 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 216[0m
Rendering site/discard
Completed in 111ms (View: 4, DB: 31) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 773) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 773 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:26:41) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 774) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 216) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10052) AND (`cards_players`.player_id = 774 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (216, 10052)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 216 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2564) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 774 AND card_id IN (10052)[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 774 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 3 WHERE `id` = 216[0m
Rendering site/discard
Completed in 88ms (View: 5, DB: 22) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2570)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2571)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2572)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2573)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2574)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2575)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2576)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2577)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2578)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2579)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2580)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2581)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.`suit_id` = 785) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.suit_id = 785) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(785, 2582)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2570)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2571)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2572)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2573)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2574)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2575)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2576)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2577)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2578)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2579)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2580)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2581)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.`suit_id` = 786) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.suit_id = 786) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(786, 2582)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2570)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2571)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2572)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2573)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2574)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2575)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2576)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2577)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2578)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2579)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2580)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2581)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.`suit_id` = 787) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.suit_id = 787) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(787, 2582)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2570 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2570)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2571 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2571)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2572 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2572)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2573 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2573)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2574 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2574)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2575 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2575)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2576 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2576)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2577 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2577)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2578 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2578)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2579 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2579)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2580 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2580)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2581 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2581)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.`suit_id` = 788) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2582 AND `cards`.suit_id = 788) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(788, 2582)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:05) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 40ms (DB: 149) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:06) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 776) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 776 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10134)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10097)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10140)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10132)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10122)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10125)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10130)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10139)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10147)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10137)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10138)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10136)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10099)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10126)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10128)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10098)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10117)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10109)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10143)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10144)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10111)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10115)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10133)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10103)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10104)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10102)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10127)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10107)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10129)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10108)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10100)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10118)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10116)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10119)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10145)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10110)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10105)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10113)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10146)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10142)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10121)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10123)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10112)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10148)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10131)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10120)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10141)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10106)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10114)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10135)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10101)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (217, 10124)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 217) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10124, 776)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10101, 776)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10135, 776)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10114, 776)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10106, 776)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 776) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 217, `seat_order` = 0 WHERE `id` = 776[0m
Rendering site/waiting
Completed in 327ms (View: 32, DB: 36) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:06) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:06) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 777) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 777 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 217) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 217 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10124, 777)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10101, 777)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10135, 777)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10114, 777)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10106, 777)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 777) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 217, `seat_order` = 1 WHERE `id` = 777[0m
Rendering site/waiting
Completed in 141ms (View: 17, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:06) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:06) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 778) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 778 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 217) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 217 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10124, 778)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10101, 778)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10135, 778)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10114, 778)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10106, 778)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 778) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 217, `seat_order` = 2 WHERE `id` = 778[0m
Rendering site/waiting
Completed in 126ms (View: 14, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:06) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:06) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 779) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 779 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 217) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 217 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10124, 779)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10101, 779)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10135, 779)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10114, 779)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10106, 779)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 779) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 217, `seat_order` = 3 WHERE `id` = 779[0m
Rendering site/waiting
Completed in 164ms (View: 19, DB: 27) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 776) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 776 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 777) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 777 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 778) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 778 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 779) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 779 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 776) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 217) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 217) [0m
Completed in 31ms (View: 28, DB: 18) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/play_game
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 777) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 217) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 217) [0m
Completed in 28ms (View: 21, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/play_game
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:07) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 778) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 217) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 217) [0m
Completed in 18ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:07) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 779) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 217) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 217) [0m
Completed in 19ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/login
Completed in 28ms (View: 27, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Redirected to http://www.example.com/
Completed in 9ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/login
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/login
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:07) [GET]
Rendering site/login
Completed in 18ms (View: 17, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2583)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2584)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2585)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2586)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2587)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2589)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2590)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2591)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2592)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2593)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2594)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.`suit_id` = 789) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.suit_id = 789) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(789, 2595)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2583)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2584)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2585)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2586)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2587)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2588)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2589)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2590)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2591)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2592)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2593)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2594)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.`suit_id` = 790) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.suit_id = 790) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(790, 2595)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2583)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2584)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2585)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2586)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2587)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2589)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2590)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2591)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2592)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2593)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2594)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.`suit_id` = 791) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.suit_id = 791) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(791, 2595)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2583 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2583)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2584 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2584)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2585 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2585)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2586 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2586)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2587 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2587)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2588 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2588)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2589 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2589)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2590 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2590)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2591 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2591)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2592 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2592)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2593 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2593)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2594 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2594)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.`suit_id` = 792) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2595 AND `cards`.suit_id = 792) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(792, 2595)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:09) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 19ms (DB: 139) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:09) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 780) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 780 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10163)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10192)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10193)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10186)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10165)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10178)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10183)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10167)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10168)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10177)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10180)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10176)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10187)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10199)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10154)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10158)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10179)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10171)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10182)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10155)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10195)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10166)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10189)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10191)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10200)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10198)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10161)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10157)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10156)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10175)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10149)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10184)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10170)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10190)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10188)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10164)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10150)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10172)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10159)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10174)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10153)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10181)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10160)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10196)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10152)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10169)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10194)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10185)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10162)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10151)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10197)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10173)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 218) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10173, 780)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10197, 780)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10151, 780)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10162, 780)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10185, 780)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 780) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 218, `seat_order` = 0 WHERE `id` = 780[0m
Rendering site/waiting
Completed in 291ms (View: 15, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:09) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:09) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 781) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 781 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 218) [0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 218 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10173, 781)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10197, 781)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10151, 781)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10162, 781)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10185, 781)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 781) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 218, `seat_order` = 1 WHERE `id` = 781[0m
Rendering site/waiting
Completed in 120ms (View: 12, DB: 18) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:09) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:09) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 782) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 782 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 218) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 218 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10173, 782)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10197, 782)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10151, 782)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10162, 782)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10185, 782)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 782) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 218, `seat_order` = 2 WHERE `id` = 782[0m
Rendering site/waiting
Completed in 92ms (View: 12, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:31:09) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 5ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:31:10) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 783) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 783 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 218) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 218 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10173, 783)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10197, 783)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10151, 783)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10162, 783)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10185, 783)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 783) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 218, `seat_order` = 3 WHERE `id` = 783[0m
Rendering site/waiting
Completed in 93ms (View: 8, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:10) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 780) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 218) [0m
Completed in 19ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:10) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:10) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 781) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 218) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:10) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:10) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 782) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 218) [0m
Completed in 25ms (View: 21, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:10) [GET]
Rendering site/play_game
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:31:10) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 783) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 218) [0m
Completed in 15ms (View: 10, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:31:10) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 780 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 780 AND card_id IN (10173,10197,10151,10162,10185)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10192, 780)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 781 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 781 AND card_id IN (10173,10197,10151,10162,10185)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10187, 781)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 782 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 782 AND card_id IN (10173,10197,10151,10162,10185)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10156, 782)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 783 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 783 AND card_id IN (10173,10197,10151,10162,10185)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10165, 783)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 780) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 781) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 782) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 783) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 218 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (218, 10183)[0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 218 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 218 AND card_id IN (10163,10192,10193,10186,10165,10178,10183,10167,10168,10177,10180,10176,10187,10199,10154,10158,10179,10171,10182,10155,10195,10166,10189,10191,10200,10198,10161,10157,10156,10175,10149,10184,10170,10190,10188,10164,10150,10172,10159,10174,10153,10181,10160,10196,10152,10169,10194,10185,10162,10151,10197,10173)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (218, 10184)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:31:10) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 783) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 783) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 218) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10165) AND (`cards_players`.player_id = 783 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (218, 10165)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 218 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2586) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2591) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 790) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 791) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 218 AND card_id IN (10165)[0m
Rendering site/discard
Completed in 58ms (View: 4, DB: 73) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2596)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2597)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2598)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2599)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2600)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2601)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2602)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2603)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2604)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2605)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2606)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2607)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.`suit_id` = 793) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.suit_id = 793) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(793, 2608)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2596)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2597)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2598)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2599)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2600)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2601)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2602)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2603)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2604)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2605)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2606)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2607)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.`suit_id` = 794) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.suit_id = 794) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(794, 2608)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2596)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2597)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2598)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2599)[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2600)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2601)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2602)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2603)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2604)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2605)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2606)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2607)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.`suit_id` = 795) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.suit_id = 795) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(795, 2608)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2596 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2596)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2597 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2597)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2598 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2598)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2599 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2599)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2600 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2600)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2601 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2601)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2602 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2602)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2603 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2603)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2604 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2604)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2605 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2605)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2606 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2606)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2607 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2607)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.`suit_id` = 796) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2608 AND `cards`.suit_id = 796) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(796, 2608)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:40) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 71ms (DB: 162) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:41) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 784) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 784 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10249)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10202)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10245)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10244)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10238)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10220)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10224)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10214)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10248)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10232)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10240)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10236)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10217)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10208)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10230)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10205)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10213)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10204)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10235)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10242)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10250)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10231)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10237)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10229)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10209)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10246)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10218)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10228)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10215)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10227)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10203)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10223)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10233)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10247)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10219)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10225)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10212)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10206)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10222)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10201)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10252)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10251)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10207)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10226)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10239)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10211)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10216)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10241)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10234)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10221)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10243)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (219, 10210)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 219) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10210, 784)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10243, 784)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10221, 784)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10234, 784)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10241, 784)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 784) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 219, `seat_order` = 0 WHERE `id` = 784[0m
Rendering site/waiting
Completed in 356ms (View: 30, DB: 35) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:41) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:41) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 785) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 785 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 219) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 219 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10210, 785)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10243, 785)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10221, 785)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10234, 785)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10241, 785)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 785) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 219, `seat_order` = 1 WHERE `id` = 785[0m
Rendering site/waiting
Completed in 177ms (View: 19, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:42) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:42) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 786) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 786 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 219) [0m
  [4;35;1mCard Load (17.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 219 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10210, 786)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10243, 786)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10221, 786)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10234, 786)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10241, 786)[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 786) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 219, `seat_order` = 2 WHERE `id` = 786[0m
Rendering site/waiting
Completed in 152ms (View: 12, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:42) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:42) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 787) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 787 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 219) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 219 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10210, 787)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10243, 787)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10221, 787)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10234, 787)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10241, 787)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 787) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 219, `seat_order` = 3 WHERE `id` = 787[0m
Rendering site/waiting
Completed in 139ms (View: 32, DB: 19) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 784) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 784 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 785) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 785 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 786) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 786 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 787) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 787 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:42) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 784) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 219) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 219) [0m
Completed in 28ms (View: 26, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:42) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:42) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 785) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 219) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 219) [0m
Completed in 25ms (View: 22, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:42) [GET]
Rendering site/play_game
Completed in 321ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:42) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 786) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 219) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 219) [0m
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:42) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:43) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 787) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 219) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 219) [0m
Completed in 18ms (View: 14, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Rendering site/login
Completed in 24ms (View: 24, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Rendering site/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Rendering site/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:43) [GET]
Rendering site/login
Completed in 16ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2609)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2610)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2611)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2612)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2613)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2614)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2615)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2616)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2617)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2618)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2619)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2620)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.`suit_id` = 797) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.suit_id = 797) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(797, 2621)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2609)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2610)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2611)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2612)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2613)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2614)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2615)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2616)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2617)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2618)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2619)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2620)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.`suit_id` = 798) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.suit_id = 798) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(798, 2621)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2609)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2610)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2611)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2612)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2613)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2614)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2615)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2616)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2617)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2618)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2619)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2620)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.`suit_id` = 799) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.suit_id = 799) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(799, 2621)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2609 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2609)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2610 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2610)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2611 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2611)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2612 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2612)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2613 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2613)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2614 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2614)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2615 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2615)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2616 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2616)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2617 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2617)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2618 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2618)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2619 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2619)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2620 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2620)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.`suit_id` = 800) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2621 AND `cards`.suit_id = 800) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(800, 2621)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:44) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 17ms (DB: 161) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:44) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 788) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 788 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10273)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10282)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10300)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10275)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10292)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10290)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10296)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10257)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10260)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10259)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10258)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10301)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10294)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10281)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10267)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10278)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10295)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10254)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10256)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10271)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10263)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10268)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10270)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10289)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10298)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10262)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10291)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10272)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10280)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10264)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10269)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10302)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10253)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10293)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10283)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10288)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10285)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10276)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10304)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10299)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10261)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10297)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10277)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10286)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10287)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10303)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10266)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10284)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10274)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10279)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10265)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 220) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10265, 788)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10279, 788)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10255, 788)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10274, 788)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10284, 788)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 788) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 220, `seat_order` = 0 WHERE `id` = 788[0m
Rendering site/waiting
Completed in 276ms (View: 15, DB: 48) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 789) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 789 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 220) [0m
  [4;35;1mCard Load (11.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 220 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10265, 789)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10279, 789)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10255, 789)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10274, 789)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10284, 789)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 789) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 220, `seat_order` = 1 WHERE `id` = 789[0m
Rendering site/waiting
Completed in 116ms (View: 13, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 790) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 790 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 220) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 220 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10265, 790)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10279, 790)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10255, 790)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10274, 790)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10284, 790)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 790) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 220, `seat_order` = 2 WHERE `id` = 790[0m
Rendering site/waiting
Completed in 135ms (View: 26, DB: 18) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 791) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 791 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 220) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 220 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10265, 791)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10279, 791)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10255, 791)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10274, 791)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10284, 791)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 791) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 220, `seat_order` = 3 WHERE `id` = 791[0m
Rendering site/waiting
Completed in 89ms (View: 9, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 788) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 220) [0m
Completed in 20ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 789) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 220) [0m
Completed in 16ms (View: 11, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
Rendering site/play_game
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 790) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 220) [0m
Completed in 32ms (View: 29, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
Rendering site/play_game
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:34:45) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 791) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 220) [0m
Completed in 18ms (View: 15, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:34:45) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 788 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 788 AND card_id IN (10265,10279,10255,10274,10284)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10296, 788)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 789 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 789 AND card_id IN (10265,10279,10255,10274,10284)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10291, 789)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 790 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 790 AND card_id IN (10265,10279,10255,10274,10284)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10260, 790)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 791 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 791 AND card_id IN (10265,10279,10255,10274,10284)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10269, 791)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 788) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 789) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 790) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 791) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 220 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (220, 10287)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 220 ) [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 220 AND card_id IN (10273,10282,10300,10275,10292,10290,10296,10257,10260,10259,10258,10301,10294,10281,10267,10278,10295,10254,10256,10271,10263,10268,10270,10289,10298,10262,10291,10272,10280,10264,10269,10302,10253,10293,10283,10288,10285,10276,10304,10299,10261,10297,10277,10286,10287,10303,10266,10284,10274,10255,10279,10265)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (220, 10288)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:34:46) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 791) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 791) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 220) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10269) AND (`cards_players`.player_id = 791 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (220, 10269)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 220 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2612) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2617) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 798) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 799) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 220 AND card_id IN (10269)[0m
Rendering site/discard
Completed in 67ms (View: 3, DB: 69) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2622)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2623)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2624)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2625)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2626)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2627)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2628)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2629)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2630)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2631)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2632)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2633)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.`suit_id` = 801) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.suit_id = 801) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(801, 2634)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2622)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2623)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2624)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2625)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2626)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2627)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2628)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2629)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2630)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2631)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2632)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2633)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.`suit_id` = 802) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.suit_id = 802) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(802, 2634)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2622)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2623)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2624)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2625)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2626)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2627)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2628)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2629)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2630)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2631)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2632)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2633)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.`suit_id` = 803) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.suit_id = 803) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(803, 2634)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2622 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2622)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2623 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2623)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2624 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2624)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2625 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2625)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2626 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2626)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2627 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2627)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2628 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2628)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2629 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2629)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2630 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2630)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2631 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2631)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2632 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2632)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2633 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2633)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.`suit_id` = 804) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2634 AND `cards`.suit_id = 804) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(804, 2634)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 47ms (DB: 159) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:23) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 792) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 792 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10309)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10344)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10316)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10323)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10354)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10314)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10337)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10345)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10356)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10338)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10343)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10313)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10353)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10320)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10312)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10341)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10349)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10318)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10348)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10311)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10306)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10319)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10351)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10328)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10324)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10315)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10339)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10336)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10331)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10322)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10326)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10342)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10352)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10307)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10347)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10340)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10327)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10332)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10310)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10335)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10350)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10330)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10305)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10325)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10317)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10334)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10355)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10346)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10333)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10329)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10321)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (221, 10308)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 221) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10308, 792)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10321, 792)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10329, 792)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10333, 792)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10346, 792)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 792) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 221, `seat_order` = 0 WHERE `id` = 792[0m
Rendering site/waiting
Completed in 361ms (View: 28, DB: 38) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:24) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:24) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 793) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 793 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 221) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 221 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10308, 793)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10321, 793)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10329, 793)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10333, 793)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10346, 793)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 793) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 221, `seat_order` = 1 WHERE `id` = 793[0m
Rendering site/waiting
Completed in 166ms (View: 21, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:24) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:24) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 794) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 794 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 221) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 221 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10308, 794)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10321, 794)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10329, 794)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10333, 794)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10346, 794)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 794) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 221, `seat_order` = 2 WHERE `id` = 794[0m
Rendering site/waiting
Completed in 150ms (View: 16, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:24) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:24) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 795) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 795 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 221) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 221 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10308, 795)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10321, 795)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10329, 795)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10333, 795)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10346, 795)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 795) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 221, `seat_order` = 3 WHERE `id` = 795[0m
Rendering site/waiting
Completed in 113ms (View: 18, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 792) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 792 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 793) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 793 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 794) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 794 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 795) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 795 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 792) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 221) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 221) [0m
Completed in 25ms (View: 25, DB: 17) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 793) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 221) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 221) [0m
Completed in 23ms (View: 20, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/play_game
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:25) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 794) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 221) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 221) [0m
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:25) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 795) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 221) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 221) [0m
Completed in 20ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/login
Completed in 23ms (View: 22, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/login
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:25) [GET]
Rendering site/login
Completed in 18ms (View: 17, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2635)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2636)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2637)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2638)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2639)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2640)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2641)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2642)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2643)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2644)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2645)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2646)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.`suit_id` = 805) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.suit_id = 805) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(805, 2647)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2635)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2636)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2637)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2638)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2639)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2640)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2641)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2642)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2643)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2644)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2645)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2646)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.`suit_id` = 806) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.suit_id = 806) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(806, 2647)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2635)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2636)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2637)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2638)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2639)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2640)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2641)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2642)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2643)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2644)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2645)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2646)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.`suit_id` = 807) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.suit_id = 807) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(807, 2647)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2635 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2635)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2636 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2636)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2637 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2637)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2638 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2638)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2639 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2639)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2640 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2640)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2641 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2641)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2642 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2642)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2643 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2643)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2644 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2644)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2645 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2645)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2646 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2646)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.`suit_id` = 808) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2647 AND `cards`.suit_id = 808) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(808, 2647)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:27) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 17ms (DB: 144) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:27) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 796) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 796 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10363)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10380)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10388)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10402)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10361)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10378)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10376)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10393)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10360)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10362)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10366)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10404)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10385)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10391)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10364)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10395)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10368)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10396)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10405)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10394)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10384)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10374)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10406)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10382)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10389)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10386)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10358)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10373)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10403)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10387)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10365)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10383)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10407)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10399)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10379)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10390)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10392)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10370)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10372)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10397)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10377)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10369)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10357)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10359)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10400)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10401)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10367)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10375)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10381)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10408)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10371)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10398)[0m
  [4;36;1mPlayer Load (4.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 222) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10398, 796)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10371, 796)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10408, 796)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10381, 796)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10375, 796)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 796) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 222, `seat_order` = 0 WHERE `id` = 796[0m
Rendering site/waiting
Completed in 242ms (View: 19, DB: 41) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:27) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:27) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 797) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 797 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 222) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 222 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10398, 797)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10371, 797)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10408, 797)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10381, 797)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10375, 797)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 797) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 222, `seat_order` = 1 WHERE `id` = 797[0m
Rendering site/waiting
Completed in 132ms (View: 12, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:27) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:27) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 798) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 798 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 222) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 222 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10398, 798)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10371, 798)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10408, 798)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10381, 798)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10375, 798)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 798) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 222, `seat_order` = 2 WHERE `id` = 798[0m
Rendering site/waiting
Completed in 105ms (View: 14, DB: 18) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:36:27) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:36:27) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 799) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 799 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 222) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 222 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10398, 799)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10371, 799)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10408, 799)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10381, 799)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10375, 799)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 799) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 222, `seat_order` = 3 WHERE `id` = 799[0m
Rendering site/waiting
Completed in 98ms (View: 8, DB: 16) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:27) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 796) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 222) [0m
Completed in 25ms (View: 23, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:28) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:28) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 797) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 222) [0m
Completed in 14ms (View: 11, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:28) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:28) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 798) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 222) [0m
Completed in 25ms (View: 23, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:28) [GET]
Rendering site/play_game
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:36:28) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 799) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 222) [0m
Completed in 16ms (View: 12, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:36:28) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 796 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 796 AND card_id IN (10398,10371,10408,10381,10375)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10400, 796)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 797 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 797 AND card_id IN (10398,10371,10408,10381,10375)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10395, 797)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 798 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 798 AND card_id IN (10398,10371,10408,10381,10375)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10364, 798)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 799 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 799 AND card_id IN (10398,10371,10408,10381,10375)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10373, 799)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 796) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 797) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 798) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 799) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 222 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (222, 10391)[0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 222 ) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 222 AND card_id IN (10363,10380,10388,10402,10361,10378,10376,10393,10360,10362,10366,10404,10385,10391,10364,10395,10368,10396,10405,10394,10384,10374,10406,10382,10389,10386,10358,10373,10403,10387,10365,10383,10407,10399,10379,10390,10392,10370,10372,10397,10377,10369,10357,10359,10400,10401,10367,10375,10381,10408,10371,10398)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (222, 10392)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:36:28) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 799) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 799) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 222) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10373) AND (`cards_players`.player_id = 799 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (222, 10373)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 222 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2638) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2643) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 806) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 807) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 222 AND card_id IN (10373)[0m
Rendering site/discard
Completed in 70ms (View: 5, DB: 85) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2648)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2649)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2650)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2651)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2652)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2653)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2654)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2655)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2656)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2657)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2658)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2659)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.`suit_id` = 809) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.suit_id = 809) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(809, 2660)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2648)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2649)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2650)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2651)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2652)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2653)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2654)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2655)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2656)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2657)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2658)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2659)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.`suit_id` = 810) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.suit_id = 810) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(810, 2660)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2648)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2649)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2650)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2651)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2652)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2653)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2654)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2655)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2656)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2657)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2658)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2659)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.`suit_id` = 811) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.suit_id = 811) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(811, 2660)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2648 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2648)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2649 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2649)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2650 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2650)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2651 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2651)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2652 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2652)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2653 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2653)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2654 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2654)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2655 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2655)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2656 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2656)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2657 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2657)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2658 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2658)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2659 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2659)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.`suit_id` = 812) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2660 AND `cards`.suit_id = 812) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(812, 2660)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:55) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 39ms (DB: 157) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:56) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 800) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 800 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10415)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10435)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10411)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10414)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10448)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10416)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10444)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10452)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10454)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10441)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10418)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10437)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10445)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10419)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10420)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10434)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10410)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10456)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10439)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10412)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10427)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10409)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10453)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10443)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10438)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10429)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10457)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10426)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10433)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10459)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10446)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10455)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10449)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10451)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10422)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10430)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10442)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10413)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10423)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10436)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10432)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10424)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10425)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10431)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10458)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10428)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10417)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10440)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10460)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10421)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10450)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (223, 10447)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 223) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10447, 800)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10450, 800)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10421, 800)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10460, 800)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10440, 800)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 800) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 223, `seat_order` = 0 WHERE `id` = 800[0m
Rendering site/waiting
Completed in 376ms (View: 42, DB: 37) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:56) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:56) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 801) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 801 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 223) [0m
  [4;36;1mCard Load (16.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 223 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10447, 801)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10450, 801)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10421, 801)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10460, 801)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10440, 801)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 801) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 223, `seat_order` = 1 WHERE `id` = 801[0m
Rendering site/waiting
Completed in 164ms (View: 16, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:56) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:56) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 802) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 802 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 223) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 223 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10447, 802)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10450, 802)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10421, 802)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10460, 802)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10440, 802)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 802) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 223, `seat_order` = 2 WHERE `id` = 802[0m
Rendering site/waiting
Completed in 135ms (View: 20, DB: 27) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:56) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 803) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 803 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 223) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 223 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10447, 803)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10450, 803)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10421, 803)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10460, 803)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10440, 803)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 803) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 223, `seat_order` = 3 WHERE `id` = 803[0m
Rendering site/waiting
Completed in 110ms (View: 16, DB: 21) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 800) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 800 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 801) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 801 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 802) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 802 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 803) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 803 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:37:57) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 800) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 223) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 223) [0m
Completed in 26ms (View: 24, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:37:57) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 801) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 223) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 223) [0m
Completed in 24ms (View: 21, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/play_game
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:37:57) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 802) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 223) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 223) [0m
Completed in 17ms (View: 13, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:37:57) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 803) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 223) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 223) [0m
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/login
Completed in 85ms (View: 85, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Redirected to http://www.example.com/
Completed in 11ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/login
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/login
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:57) [GET]
Rendering site/login
Completed in 17ms (View: 17, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (2.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2661)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2662)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2663)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2664)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2665)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2666)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2667)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2668)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2669)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2670)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2671)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2672)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.`suit_id` = 813) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.suit_id = 813) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(813, 2673)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2661)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2662)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2663)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2664)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2665)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2666)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2667)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2668)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2669)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2670)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2671)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2672)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.`suit_id` = 814) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.suit_id = 814) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(814, 2673)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2661)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2662)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2663)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2664)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2665)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2666)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2667)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2668)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2669)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2670)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2671)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2672)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.`suit_id` = 815) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.suit_id = 815) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(815, 2673)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2661 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2661)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2662 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2662)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2663 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2663)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2664 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2664)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2665 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2665)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2666 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2666)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2667 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2667)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2668 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2668)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2669 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2669)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2670 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2670)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2671 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2671)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2672 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2672)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.`suit_id` = 816) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2673 AND `cards`.suit_id = 816) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(816, 2673)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:59) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 21ms (DB: 151) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:59) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 804) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 804 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10470)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10507)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10482)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10469)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10498)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10484)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10512)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10510)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10506)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10462)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10477)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10487)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10461)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10463)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10493)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10483)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10492)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10496)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10494)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10475)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10508)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10464)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10476)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10485)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10486)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10489)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10490)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10478)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10491)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10479)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10501)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10480)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10511)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10481)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10468)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10500)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10505)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10474)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10473)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10495)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10467)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10471)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10502)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10503)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10472)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10466)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10509)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10497)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10488)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10504)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10499)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10465)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 224) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10465, 804)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10499, 804)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10504, 804)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10488, 804)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10497, 804)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 804) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 224, `seat_order` = 0 WHERE `id` = 804[0m
Rendering site/waiting
Completed in 345ms (View: 16, DB: 53) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:37:59) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:37:59) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 805) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 805 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 224) [0m
  [4;35;1mCard Load (25.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 224 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10465, 805)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10499, 805)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10504, 805)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10488, 805)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10497, 805)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 805) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 224, `seat_order` = 1 WHERE `id` = 805[0m
Rendering site/waiting
Completed in 152ms (View: 12, DB: 35) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 806) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 806 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 224) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 224 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10465, 806)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10499, 806)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10504, 806)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10488, 806)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10497, 806)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 806) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 224, `seat_order` = 2 WHERE `id` = 806[0m
Rendering site/waiting
Completed in 141ms (View: 14, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 807) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 807 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 224) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 224 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10465, 807)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10499, 807)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10504, 807)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10488, 807)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10497, 807)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 807) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 224, `seat_order` = 3 WHERE `id` = 807[0m
Rendering site/waiting
Completed in 131ms (View: 8, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 804) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 224) [0m
Completed in 24ms (View: 22, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
Rendering site/play_game
Completed in 6ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 805) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 224) [0m
Completed in 18ms (View: 12, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
Rendering site/play_game
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 806) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 224) [0m
Completed in 36ms (View: 31, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:00) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 807) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 224) [0m
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:00) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 804 ) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 804 AND card_id IN (10465,10499,10504,10488,10497)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10504, 804)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 805 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 805 AND card_id IN (10465,10499,10504,10488,10497)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10499, 805)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 806 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 806 AND card_id IN (10465,10499,10504,10488,10497)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10468, 806)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 807 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 807 AND card_id IN (10465,10499,10504,10488,10497)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10477, 807)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 804) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 805) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 806) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 807) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 224 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (224, 10495)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 224 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 224 AND card_id IN (10470,10507,10482,10469,10498,10484,10512,10510,10506,10462,10477,10487,10461,10463,10493,10483,10492,10496,10494,10475,10508,10464,10476,10485,10486,10489,10490,10478,10491,10479,10501,10480,10511,10481,10468,10500,10505,10474,10473,10495,10467,10471,10502,10503,10472,10466,10509,10497,10488,10504,10499,10465)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (224, 10496)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:38:01) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 807) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 807) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 224) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10477) AND (`cards_players`.player_id = 807 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (224, 10477)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 224 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2664) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2669) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 814) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 815) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 224 AND card_id IN (10477)[0m
Rendering site/discard
Completed in 71ms (View: 3, DB: 79) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2674)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2675)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2676)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2677)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2678)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2679)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2680)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2681)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2682)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2683)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2684)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2685)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.`suit_id` = 817) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.suit_id = 817) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(817, 2686)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2674)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2675)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2676)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2677)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2678)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2679)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2680)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2681)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2682)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2683)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2684)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2685)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.`suit_id` = 818) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.suit_id = 818) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(818, 2686)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2674)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2675)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2676)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2677)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2678)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2679)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2680)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2681)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2682)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2683)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2684)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2685)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.`suit_id` = 819) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.suit_id = 819) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(819, 2686)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2674 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2674)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2675 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2675)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2676 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2676)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2677 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2677)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2678 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2678)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2679 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2679)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2680 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2680)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2681 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2681)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2682 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2682)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2683 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2683)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2684 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2684)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2685 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2685)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.`suit_id` = 820) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2686 AND `cards`.suit_id = 820) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(820, 2686)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:57) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 49ms (DB: 162) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:57) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 808) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 808 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10532)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10537)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10514)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10521)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10540)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10563)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10513)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10550)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10558)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10552)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10539)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10519)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10529)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10546)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10555)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10523)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10560)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10542)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10538)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10518)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10556)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10551)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10531)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10561)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10516)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10564)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10535)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10548)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10534)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10524)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10549)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10547)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10553)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10541)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10533)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10545)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10562)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10526)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10522)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10517)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10536)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10557)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10525)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10559)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10520)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10528)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10554)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10544)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10515)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10530)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10527)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (225, 10543)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 225) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10543, 808)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10527, 808)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10530, 808)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10515, 808)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10544, 808)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 808) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 225, `seat_order` = 0 WHERE `id` = 808[0m
Rendering site/waiting
Completed in 415ms (View: 25, DB: 41) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 809) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 809 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 225) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 225 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10543, 809)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10527, 809)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10530, 809)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10515, 809)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10544, 809)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 809) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 225, `seat_order` = 1 WHERE `id` = 809[0m
Rendering site/waiting
Completed in 128ms (View: 17, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 810) [0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 810 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 225) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 225 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10543, 810)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10527, 810)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10530, 810)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10515, 810)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10544, 810)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 810) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 225, `seat_order` = 2 WHERE `id` = 810[0m
Rendering site/waiting
Completed in 142ms (View: 14, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 811) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 811 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 225) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 225 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10543, 811)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10527, 811)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10530, 811)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10515, 811)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10544, 811)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 811) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 225, `seat_order` = 3 WHERE `id` = 811[0m
Rendering site/waiting
Completed in 96ms (View: 18, DB: 21) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 808) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 808 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 809) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 809 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 810) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 810 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 811) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 811 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 808) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 225) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 225) [0m
Completed in 27ms (View: 23, DB: 18) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 809) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 225) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 225) [0m
Completed in 20ms (View: 16, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/play_game
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 810) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 225) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 225) [0m
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:38:58) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 811) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 225) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 225) [0m
Completed in 18ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/login
Completed in 24ms (View: 23, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Redirected to http://www.example.com/
Completed in 10ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Rendering site/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:38:58) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:59) [GET]
Rendering site/login
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:38:59) [GET]
Redirected to http://www.example.com/
Completed in 5ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:38:59) [GET]
Rendering site/login
Completed in 18ms (View: 18, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2687)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2688)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2689)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2690)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2691)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2692)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2693)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2694)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2695)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2696)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2697)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2698)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.`suit_id` = 821) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.suit_id = 821) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(821, 2699)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2687)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2688)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2689)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2690)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2691)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2692)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2693)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2694)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2695)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2696)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2698)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.`suit_id` = 822) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.suit_id = 822) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(822, 2699)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2687)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2688)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2689)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2690)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2691)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2692)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2693)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2694)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2695)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2696)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2697)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2698)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.`suit_id` = 823) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.suit_id = 823) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(823, 2699)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2687 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2687)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2688 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2688)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2689 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2689)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2690 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2690)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2691 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2691)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2692 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2692)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2693 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2693)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2694 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2694)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2695 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2695)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2696 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2696)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2697 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2698 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2698)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.`suit_id` = 824) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2699 AND `cards`.suit_id = 824) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(824, 2699)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:39:00) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 20ms (DB: 150) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:39:00) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 812) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 812 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10568)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10584)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10574)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10601)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10587)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10604)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10575)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10578)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10598)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10582)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10571)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10609)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10577)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10605)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10597)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10595)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10593)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10614)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10589)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10572)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10596)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10566)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10570)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10615)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10611)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10579)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10616)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10583)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10585)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10581)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10610)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10603)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10569)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10600)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10565)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10602)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10591)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10567)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10580)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10592)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10576)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10573)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10607)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10586)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10606)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10590)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10599)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10588)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10594)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10608)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10613)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10612)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 226) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10612, 812)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10613, 812)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10608, 812)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10594, 812)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10588, 812)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 812) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 226, `seat_order` = 0 WHERE `id` = 812[0m
Rendering site/waiting
Completed in 295ms (View: 15, DB: 50) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 813) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 813 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 226) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 226 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10612, 813)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10613, 813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10608, 813)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10594, 813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10588, 813)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 813) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 226, `seat_order` = 1 WHERE `id` = 813[0m
Rendering site/waiting
Completed in 117ms (View: 14, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 13ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
  [4;36;1mPlayer Load (3.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 814) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 814 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 226) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 226 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10612, 814)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10613, 814)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10608, 814)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10594, 814)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10588, 814)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 814) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 226, `seat_order` = 2 WHERE `id` = 814[0m
Rendering site/waiting
Completed in 95ms (View: 13, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 815) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 815 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 226) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 226 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10612, 815)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10613, 815)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10608, 815)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10594, 815)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10588, 815)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 815) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 226, `seat_order` = 3 WHERE `id` = 815[0m
Rendering site/waiting
Completed in 120ms (View: 7, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 812) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 226) [0m
Completed in 18ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 813) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 226) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 814) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 226) [0m
Completed in 30ms (View: 26, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
Rendering site/play_game
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:39:01) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 815) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 226) [0m
Completed in 15ms (View: 14, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:39:01) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 812 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 812 AND card_id IN (10612,10613,10608,10594,10588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10608, 812)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 813 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 813 AND card_id IN (10612,10613,10608,10594,10588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10603, 813)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 814 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 814 AND card_id IN (10612,10613,10608,10594,10588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10572, 814)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 815 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 815 AND card_id IN (10612,10613,10608,10594,10588)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10581, 815)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 812) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 813) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 814) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 815) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 226 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (226, 10599)[0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 226 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 226 AND card_id IN (10568,10584,10574,10601,10587,10604,10575,10578,10598,10582,10571,10609,10577,10605,10597,10595,10593,10614,10589,10572,10596,10566,10570,10615,10611,10579,10616,10583,10585,10581,10610,10603,10569,10600,10565,10602,10591,10567,10580,10592,10576,10573,10607,10586,10606,10590,10599,10588,10594,10608,10613,10612)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (226, 10600)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:39:02) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 815) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 815) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 226) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10581) AND (`cards_players`.player_id = 815 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (226, 10581)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 226 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2690) [0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2695) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 822) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 823) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 226 AND card_id IN (10581)[0m
Rendering site/discard
Completed in 87ms (View: 5, DB: 73) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2700)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2701)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2702)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2703)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2704)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2705)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2706)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2707)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2708)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2709)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2710)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2711)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.`suit_id` = 825) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.suit_id = 825) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(825, 2712)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2700)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2701)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2702)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2703)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2704)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2705)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2706)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2707)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2708)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2709)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2710)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2711)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.`suit_id` = 826) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.suit_id = 826) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(826, 2712)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2700)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2701)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2702)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2703)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2704)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2705)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2706)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2707)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2708)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2709)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2710)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2711)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.`suit_id` = 827) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.suit_id = 827) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(827, 2712)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2700 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2700)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2701 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2701)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2702 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2702)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2703 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2703)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2704 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2704)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2705 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2705)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2706 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2706)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2707 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2707)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2708 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2708)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2709 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2709)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2710 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2710)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2711 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2711)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.`suit_id` = 828) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2712 AND `cards`.suit_id = 828) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(828, 2712)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:19) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 42ms (DB: 162) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:19) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 816) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 816 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10618)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10634)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10632)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10631)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10653)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10654)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10644)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10620)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10652)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10648)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10667)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10645)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10639)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10657)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10656)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10668)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10627)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10660)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10633)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10666)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10628)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10655)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10637)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10649)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10647)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10646)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10641)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10635)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10622)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10661)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10665)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10625)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10623)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10658)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10663)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10664)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10617)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10624)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10621)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10619)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10638)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10642)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10659)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10651)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10650)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10643)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10629)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10626)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10662)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10636)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10640)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (227, 10630)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 227) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10630, 816)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10640, 816)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10636, 816)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10662, 816)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10626, 816)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 816) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 227, `seat_order` = 0 WHERE `id` = 816[0m
Rendering site/waiting
Completed in 371ms (View: 28, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:20) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:20) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 817) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 817 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 227) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 227 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10630, 817)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10640, 817)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10636, 817)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10662, 817)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10626, 817)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 817) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 227, `seat_order` = 1 WHERE `id` = 817[0m
Rendering site/waiting
Completed in 135ms (View: 20, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:20) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:20) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 818) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 818 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 227) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 227 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10630, 818)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10640, 818)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10636, 818)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10662, 818)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10626, 818)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 818) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 227, `seat_order` = 2 WHERE `id` = 818[0m
Rendering site/waiting
Completed in 169ms (View: 16, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:20) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:20) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 819) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 819 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 227) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 227 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10630, 819)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10640, 819)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10636, 819)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10662, 819)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10626, 819)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 819) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 227, `seat_order` = 3 WHERE `id` = 819[0m
Rendering site/waiting
Completed in 138ms (View: 20, DB: 22) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 816) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 816 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 817) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 817 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 818) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 818 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 819) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 819 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:20) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 816) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 227) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 227) [0m
Completed in 36ms (View: 32, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:20) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:20) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 817) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 227) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 227) [0m
Completed in 23ms (View: 19, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/play_game
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:21) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 818) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 227) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 227) [0m
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:21) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 819) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 227) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 227) [0m
Completed in 20ms (View: 15, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/login
Completed in 31ms (View: 29, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/login
Completed in 66ms (View: 66, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:21) [GET]
Rendering site/login
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (2.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2713)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2714)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2715)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2716)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2717)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2718)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2719)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2720)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2721)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2722)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2723)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2724)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.`suit_id` = 829) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.suit_id = 829) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(829, 2725)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2713)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2714)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2715)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2716)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2717)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2718)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2719)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2720)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2721)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2722)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2723)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2724)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.`suit_id` = 830) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.suit_id = 830) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(830, 2725)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2713)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2714)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2715)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2716)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2717)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2718)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2719)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2720)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2721)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2722)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2723)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2724)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.`suit_id` = 831) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.suit_id = 831) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(831, 2725)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2713 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2713)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2714 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2714)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2715 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2715)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2716 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2716)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2717 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2717)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2718 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2718)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2719 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2719)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2720 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2720)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2721 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2721)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2722 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2722)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2723 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2723)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2724 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2724)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.`suit_id` = 832) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2725 AND `cards`.suit_id = 832) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(832, 2725)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:23) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 18ms (DB: 158) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:23) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 820) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 820 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10672)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10692)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10671)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10711)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10720)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10677)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10676)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10717)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10684)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10713)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10670)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10694)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10669)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10696)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10702)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10714)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10710)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10709)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10683)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10674)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10682)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10678)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10701)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10708)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10706)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10719)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10687)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10718)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10716)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10691)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10681)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10675)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10712)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10689)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10686)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10715)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10700)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10707)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10698)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10688)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10679)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10680)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10673)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10705)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10693)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10704)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10703)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10697)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10695)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10685)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10699)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10690)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 228) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10690, 820)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10699, 820)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10685, 820)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10695, 820)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10697, 820)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 820) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 228, `seat_order` = 0 WHERE `id` = 820[0m
Rendering site/waiting
Completed in 334ms (View: 18, DB: 45) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:23) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:23) [GET]
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 821) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 821 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 228) [0m
  [4;35;1mCard Load (11.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 228 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10690, 821)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10699, 821)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10685, 821)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10695, 821)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10697, 821)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 821) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 228, `seat_order` = 1 WHERE `id` = 821[0m
Rendering site/waiting
Completed in 129ms (View: 13, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:23) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:23) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 822) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 822 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 228) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 228 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10690, 822)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10699, 822)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10685, 822)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10695, 822)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10697, 822)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 822) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 228, `seat_order` = 2 WHERE `id` = 822[0m
Rendering site/waiting
Completed in 104ms (View: 16, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:43:23) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:43:23) [GET]
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 823 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 228) [0m
  [4;35;1mCard Load (17.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 228 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10690, 823)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10699, 823)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10685, 823)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10695, 823)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10697, 823)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 823) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 228, `seat_order` = 3 WHERE `id` = 823[0m
Rendering site/waiting
Completed in 133ms (View: 7, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:24) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 820) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 228) [0m
Completed in 21ms (View: 17, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:24) [GET]
Rendering site/play_game
Completed in 6ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 821) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 228) [0m
Completed in 15ms (View: 11, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:24) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:24) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 822) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 228) [0m
Completed in 26ms (View: 23, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:24) [GET]
Rendering site/play_game
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:43:24) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 228) [0m
Completed in 18ms (View: 14, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:43:24) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 820 ) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 820 AND card_id IN (10690,10699,10685,10695,10697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10712, 820)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 821 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 821 AND card_id IN (10690,10699,10685,10695,10697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10707, 821)[0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 822 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 822 AND card_id IN (10690,10699,10685,10695,10697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10676, 822)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 823 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 823 AND card_id IN (10690,10699,10685,10695,10697)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10685, 823)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 820) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 821) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 822) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 228 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (228, 10703)[0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 228 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 228 AND card_id IN (10672,10692,10671,10711,10720,10677,10676,10717,10684,10713,10670,10694,10669,10696,10702,10714,10710,10709,10683,10674,10682,10678,10701,10708,10706,10719,10687,10718,10716,10691,10681,10675,10712,10689,10686,10715,10700,10707,10698,10688,10679,10680,10673,10705,10693,10704,10703,10697,10695,10685,10699,10690)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (228, 10704)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:43:24) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 823) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 228) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10685) AND (`cards_players`.player_id = 823 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (228, 10685)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 228 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2716) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2721) [0m
  [4;35;1mSuit Load (3.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 830) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 831) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 228 AND card_id IN (10685)[0m
Rendering site/discard
Completed in 105ms (View: 5, DB: 82) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2726)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2727)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2728)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2729)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2730)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2731)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2732)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2733)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2734)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2735)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2736)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2737)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.`suit_id` = 833) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.suit_id = 833) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(833, 2738)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2726)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2727)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2728)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2729)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2730)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2731)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2732)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2733)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2734)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2735)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2736)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2737)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.`suit_id` = 834) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.suit_id = 834) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(834, 2738)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2726)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2727)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2728)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2729)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2730)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2731)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2732)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2733)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2734)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2735)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2736)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2737)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.`suit_id` = 835) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.suit_id = 835) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(835, 2738)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2726 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2726)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2727 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2727)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2728 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2728)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2729 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2729)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2730 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2730)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2731 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2731)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2732 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2732)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2733 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2733)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2734 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2734)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2735 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2735)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2736 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2736)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2737 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2737)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.`suit_id` = 836) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2738 AND `cards`.suit_id = 836) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(836, 2738)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:43) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 165) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:43) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 824) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 824 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10721)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10769)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10732)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10762)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10743)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10737)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10770)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10726)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10754)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10752)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10768)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10755)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10727)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10764)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10746)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10739)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10740)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10761)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10756)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10767)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10730)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10745)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10760)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10763)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10748)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10744)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10729)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10736)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10735)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10753)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10741)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10725)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10734)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10733)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10758)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10728)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10749)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10757)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10751)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10771)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10765)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10723)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10722)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10766)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10759)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10750)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10742)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10772)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10731)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10724)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10747)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (229, 10738)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 229) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10738, 824)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10747, 824)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10724, 824)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10731, 824)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10772, 824)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 824) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 229, `seat_order` = 0 WHERE `id` = 824[0m
Rendering site/waiting
Completed in 360ms (View: 26, DB: 36) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:44) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 39ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:44) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 825) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 825 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 229) [0m
  [4;36;1mCard Load (13.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 229 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10738, 825)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10747, 825)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10724, 825)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10731, 825)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10772, 825)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 825) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 229, `seat_order` = 1 WHERE `id` = 825[0m
Rendering site/waiting
Completed in 161ms (View: 14, DB: 24) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:44) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:44) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 826) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 826 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 229) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 229 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10738, 826)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10747, 826)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10724, 826)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10731, 826)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10772, 826)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 826) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 229, `seat_order` = 2 WHERE `id` = 826[0m
Rendering site/waiting
Completed in 112ms (View: 14, DB: 24) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:44) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:44) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 827) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 827 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 229) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 229 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10738, 827)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10747, 827)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10724, 827)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10731, 827)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10772, 827)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 827) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 229, `seat_order` = 3 WHERE `id` = 827[0m
Rendering site/waiting
Completed in 187ms (View: 23, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 824) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 824 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 825) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 825 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 826) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 826 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 827) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 827 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:44) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 824) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 229) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 229) [0m
Completed in 30ms (View: 26, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:44) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:44) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 825) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 229) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 229) [0m
Completed in 23ms (View: 20, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/play_game
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:45) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 826) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 229) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 229) [0m
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:45) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 827) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 229) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 229) [0m
Completed in 19ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/play_game
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/login
Completed in 28ms (View: 26, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Redirected to http://www.example.com/
Completed in 9ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/login
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Redirected to http://www.example.com/
Completed in 61ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:45) [GET]
Rendering site/login
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2739)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2740)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2741)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2742)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2743)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2744)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2745)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2746)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2747)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2748)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2749)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2750)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.`suit_id` = 837) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.suit_id = 837) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(837, 2751)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2739)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2740)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2741)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2742)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2743)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2744)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2745)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2746)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2747)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2748)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2749)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2750)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.`suit_id` = 838) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.suit_id = 838) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(838, 2751)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2739)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2740)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2741)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2742)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2743)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2744)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2745)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2746)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2747)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2748)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2749)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2750)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.`suit_id` = 839) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.suit_id = 839) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(839, 2751)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2739 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2739)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2740 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2740)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2741 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2741)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2742 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2742)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2743 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2743)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2744 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2744)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2745 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2745)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2746 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2746)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2747 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2747)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2748 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2748)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2749 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2749)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2750 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2750)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.`suit_id` = 840) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2751 AND `cards`.suit_id = 840) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(840, 2751)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:47) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 20ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:47) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 828) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 828 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10773)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10793)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10787)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10779)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10810)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10796)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10776)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10775)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10817)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10777)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10811)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10778)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10782)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10823)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10807)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10801)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10800)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10819)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10806)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10813)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10783)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10804)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10797)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10789)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10814)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10785)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10818)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10794)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10824)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10799)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10780)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10798)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10820)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10795)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10786)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10791)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10781)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10788)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10805)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10784)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10790)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10802)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10812)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10821)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10809)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10792)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10816)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10808)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10803)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10774)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10815)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10822)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 230) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10822, 828)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10815, 828)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10774, 828)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10803, 828)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10808, 828)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 828) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 230, `seat_order` = 0 WHERE `id` = 828[0m
Rendering site/waiting
Completed in 264ms (View: 15, DB: 46) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:47) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:47) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 829) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 829 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 230) [0m
  [4;35;1mCard Load (11.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 230 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10822, 829)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10815, 829)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10774, 829)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10803, 829)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10808, 829)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 829) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 230, `seat_order` = 1 WHERE `id` = 829[0m
Rendering site/waiting
Completed in 140ms (View: 11, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:47) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:47) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 830) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 830 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 230) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 230 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10822, 830)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10815, 830)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10774, 830)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10803, 830)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10808, 830)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 830) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 230, `seat_order` = 2 WHERE `id` = 830[0m
Rendering site/waiting
Completed in 92ms (View: 13, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:44:47) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 5ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:44:47) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 831 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 230) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 230 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10822, 831)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10815, 831)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10774, 831)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10803, 831)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10808, 831)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 831) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 230, `seat_order` = 3 WHERE `id` = 831[0m
Rendering site/waiting
Completed in 116ms (View: 9, DB: 20) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:48) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 828) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 230) [0m
Completed in 20ms (View: 19, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:48) [GET]
Rendering site/play_game
Completed in 5ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:48) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 829) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 230) [0m
Completed in 12ms (View: 10, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:48) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:48) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 830) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 230) [0m
Completed in 30ms (View: 24, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:48) [GET]
Rendering site/play_game
Completed in 7ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:44:48) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 230) [0m
Completed in 14ms (View: 12, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:44:48) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 828 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 828 AND card_id IN (10822,10815,10774,10803,10808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10816, 828)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 829 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 829 AND card_id IN (10822,10815,10774,10803,10808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10811, 829)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 830 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 830 AND card_id IN (10822,10815,10774,10803,10808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10780, 830)[0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 831 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 831 AND card_id IN (10822,10815,10774,10803,10808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10789, 831)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 828) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 829) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 830) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 230 ) [0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (230, 10807)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 230 ) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 230 AND card_id IN (10773,10793,10787,10779,10810,10796,10776,10775,10817,10777,10811,10778,10782,10823,10807,10801,10800,10819,10806,10813,10783,10804,10797,10789,10814,10785,10818,10794,10824,10799,10780,10798,10820,10795,10786,10791,10781,10788,10805,10784,10790,10802,10812,10821,10809,10792,10816,10808,10803,10774,10815,10822)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (230, 10808)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:44:48) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 831) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 230) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 10789) AND (`cards_players`.player_id = 831 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (230, 10789)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 230 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2742) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2747) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 838) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 839) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 230 AND card_id IN (10789)[0m
Rendering site/discard
Completed in 79ms (View: 4, DB: 85) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2752)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2753)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2754)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2755)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2756)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2757)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2758)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2759)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2760)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2761)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2762)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2763)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.`suit_id` = 841) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.suit_id = 841) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(841, 2764)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2752)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2753)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2754)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2755)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2756)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2757)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2758)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2759)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2760)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2761)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2762)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2763)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.`suit_id` = 842) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.suit_id = 842) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(842, 2764)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2752)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2753)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2754)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2755)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2756)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2757)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2758)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2759)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2760)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2761)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2762)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2763)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.`suit_id` = 843) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.suit_id = 843) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(843, 2764)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2752 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2752)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2753 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2753)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2754 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2754)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2755 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2755)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2756 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2756)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2757 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2757)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2758 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2758)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2759 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2759)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2760 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2760)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2761 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2761)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2762 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2762)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2763 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2763)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.`suit_id` = 844) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2764 AND `cards`.suit_id = 844) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(844, 2764)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:25) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 46ms (DB: 172) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:25) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 832) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 832 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10848)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10845)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10867)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10854)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10875)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10861)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10826)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10834)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10833)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10835)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10872)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10837)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10873)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10855)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10843)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10847)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10851)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10863)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10866)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10859)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10857)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10831)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10868)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10862)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10832)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10825)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10853)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10846)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10864)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10830)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10849)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10874)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10841)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10869)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10839)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10829)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10876)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10852)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10870)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10844)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10828)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10827)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10858)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10838)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10842)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10836)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10840)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10850)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10865)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (231, 10856)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 231) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10856, 832)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10865, 832)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10850, 832)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10840, 832)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10836, 832)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 832) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 231, `seat_order` = 0 WHERE `id` = 832[0m
Rendering site/waiting
Completed in 346ms (View: 28, DB: 41) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:26) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:26) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 833) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 833 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 231) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 231 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10856, 833)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10865, 833)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10850, 833)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10840, 833)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10836, 833)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 833) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 231, `seat_order` = 1 WHERE `id` = 833[0m
Rendering site/waiting
Completed in 183ms (View: 19, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:26) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:26) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 834) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 834 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 231) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 231 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10856, 834)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10865, 834)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10850, 834)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10840, 834)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10836, 834)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 834) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 231, `seat_order` = 2 WHERE `id` = 834[0m
Rendering site/waiting
Completed in 162ms (View: 12, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:26) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:26) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 835) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 835 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 231) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 231 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10856, 835)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10865, 835)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10850, 835)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10840, 835)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10836, 835)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 835) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 231, `seat_order` = 3 WHERE `id` = 835[0m
Rendering site/waiting
Completed in 161ms (View: 22, DB: 21) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 832) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 832 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 833) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 833 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 834) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 834 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 835) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 835 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:27) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 832) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 231) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 231) [0m
Completed in 29ms (View: 26, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:27) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 833) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 231) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 231) [0m
Completed in 21ms (View: 17, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/play_game
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:27) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 834) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 231) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 231) [0m
Completed in 17ms (View: 14, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:27) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 835) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 231) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 231) [0m
Completed in 17ms (View: 15, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/login
Completed in 26ms (View: 24, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/login
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:27) [GET]
Rendering site/login
Completed in 16ms (View: 15, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2765)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2766)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2767)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2768)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2769)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2770)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2771)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2772)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2773)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2774)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2775)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2776)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.`suit_id` = 845) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.suit_id = 845) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(845, 2777)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2765)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2766)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2767)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2768)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2769)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2770)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2771)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2772)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2773)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2774)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2775)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2776)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.`suit_id` = 846) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.suit_id = 846) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(846, 2777)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2765)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2766)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2767)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2768)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2769)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2770)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2771)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2772)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2773)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2774)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2775)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2776)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.`suit_id` = 847) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.suit_id = 847) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(847, 2777)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2765 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2765)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2766 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2766)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2767 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2767)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2768 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2768)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2769 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2769)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2770 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2770)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2771 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2771)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2772 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2772)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2773 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2773)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2774 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2774)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2775 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2775)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2776 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2776)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.`suit_id` = 848) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2777 AND `cards`.suit_id = 848) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(848, 2777)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:29) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 19ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:29) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 836) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 836 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10897)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10909)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10918)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10889)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10919)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10927)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10922)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10890)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10906)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10888)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10908)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10916)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10910)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10905)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10886)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10898)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10920)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10878)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10893)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10902)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10879)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10891)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10880)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10903)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10923)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10901)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10900)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10885)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10894)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10914)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10882)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10926)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10877)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10917)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10924)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10899)[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10887)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10928)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10884)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10896)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10881)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10913)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10911)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10895)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10907)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10883)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10904)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10915)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10912)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10921)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10925)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10892)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 232) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10892, 836)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10925, 836)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10921, 836)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10912, 836)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10915, 836)[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 836) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 232, `seat_order` = 0 WHERE `id` = 836[0m
Rendering site/waiting
Completed in 333ms (View: 15, DB: 93) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:29) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:29) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 837) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 837 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 232) [0m
  [4;35;1mCard Load (18.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 232 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10892, 837)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10925, 837)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10921, 837)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10912, 837)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10915, 837)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 837) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 232, `seat_order` = 1 WHERE `id` = 837[0m
Rendering site/waiting
Completed in 135ms (View: 13, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:29) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 13ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 838) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 838 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 232) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 232 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10892, 838)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10925, 838)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10921, 838)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10912, 838)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10915, 838)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 838) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 232, `seat_order` = 2 WHERE `id` = 838[0m
Rendering site/waiting
Completed in 117ms (View: 17, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 839) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 839 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 232) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 232 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10892, 839)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10925, 839)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10921, 839)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10912, 839)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10915, 839)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 839) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 232, `seat_order` = 3 WHERE `id` = 839[0m
Rendering site/waiting
Completed in 113ms (View: 10, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 836) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 232) [0m
Completed in 21ms (View: 17, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 837) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 232) [0m
Completed in 15ms (View: 10, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 838) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 232) [0m
Completed in 28ms (View: 24, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
Rendering site/play_game
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 839) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 232) [0m
Completed in 25ms (View: 19, DB: 5) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:50:30) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 836 ) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 836 AND card_id IN (10892,10925,10921,10912,10915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10920, 836)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 837 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 837 AND card_id IN (10892,10925,10921,10912,10915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10915, 837)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 838 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 838 AND card_id IN (10892,10925,10921,10912,10915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10884, 838)[0m
  [4;35;1mCard Load (7.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 839 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 839 AND card_id IN (10892,10925,10921,10912,10915)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10893, 839)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 836) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 837) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 838) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 839) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 232 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (232, 10911)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 232 ) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 232 AND card_id IN (10897,10909,10918,10889,10919,10927,10922,10890,10906,10888,10908,10916,10910,10905,10886,10898,10920,10878,10893,10902,10879,10891,10880,10903,10923,10901,10900,10885,10894,10914,10882,10926,10877,10917,10924,10899,10887,10928,10884,10896,10881,10913,10911,10895,10907,10883,10904,10915,10912,10921,10925,10892)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (232, 10912)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:50:30) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 839) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 232) [0m

NameError (undefined local variable or method `page' for #<SiteController:0x619f3760>):
  app/controllers/site_controller.rb:19:in `my_turn'
  test/integration/playing_game_test.rb:116:in `test_winning_game'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/jruby-1.5.1/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:51:in `run'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `each'
  C:/Program Files/NetBeans 6.9.1/ruby/nb_suite_runner.rb:45:in `run'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:168:in `run_mediator'
  C:\Program Files\NetBeans 6.9.1\ruby\nb_test_mediator.rb:209

Rendered rescues/_trace (179.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2778)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2779)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2780)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2781)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2782)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2783)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2784)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2785)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2786)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2787)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2788)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2789)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.`suit_id` = 849) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.suit_id = 849) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(849, 2790)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2778)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2779)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2780)[0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2781)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2782)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2783)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2784)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2785)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2786)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2787)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2788)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2789)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.`suit_id` = 850) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.suit_id = 850) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(850, 2790)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2778)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2779)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2780)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2781)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2782)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2783)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2784)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2785)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2786)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2787)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2788)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2789)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.`suit_id` = 851) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.suit_id = 851) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(851, 2790)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2778 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2778)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2779 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2779)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2780 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2780)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2781 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2781)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2782 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2782)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2783 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2783)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2784 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2784)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2785 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2785)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2786 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2786)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2787 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2787)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2788 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2788)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2789 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2789)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.`suit_id` = 852) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2790 AND `cards`.suit_id = 852) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(852, 2790)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:49) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 42ms (DB: 174) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:50) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 840) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 840 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10980)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10968)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10949)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10930)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10945)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10976)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10940)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10963)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10938)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10937)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10948)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10952)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10943)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10978)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10979)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10967)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10934)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10939)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10975)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10947)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10974)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10935)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10936)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10966)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10964)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10958)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10941)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10944)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10955)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10969)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10942)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10956)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10961)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10970)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10932)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10950)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10973)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10965)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10972)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10977)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10959)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10953)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10962)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10971)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10960)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10957)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10931)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10946)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10929)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10954)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10933)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (233, 10951)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 233) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10951, 840)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10933, 840)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10954, 840)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10929, 840)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10946, 840)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 840) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 233, `seat_order` = 0 WHERE `id` = 840[0m
Rendering site/waiting
Completed in 395ms (View: 29, DB: 49) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:50) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:50) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 841) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 841 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 233) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 233 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10951, 841)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10933, 841)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10954, 841)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10929, 841)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10946, 841)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 841) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 233, `seat_order` = 1 WHERE `id` = 841[0m
Rendering site/waiting
Completed in 161ms (View: 17, DB: 29) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:50) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 842) [0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 842 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 233) [0m
  [4;35;1mCard Load (18.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 233 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10951, 842)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10933, 842)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10954, 842)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10929, 842)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10946, 842)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 842) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 233, `seat_order` = 2 WHERE `id` = 842[0m
Rendering site/waiting
Completed in 144ms (View: 18, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:51) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 843) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 843 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 233) [0m
  [4;36;1mCard Load (14.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 233 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10951, 843)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10933, 843)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10954, 843)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10929, 843)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10946, 843)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 843) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 233, `seat_order` = 3 WHERE `id` = 843[0m
Rendering site/waiting
Completed in 127ms (View: 23, DB: 24) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 840) [0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 840 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 841) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 841 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 842) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 842 ) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 843) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 843 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:51) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 840) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 233) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 233) [0m
Completed in 28ms (View: 24, DB: 28) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/play_game
Completed in 6ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:51) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 841) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 233) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 233) [0m
Completed in 23ms (View: 20, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/play_game
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:51) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 842) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 233) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 233) [0m
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:51) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 843) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 233) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 233) [0m
Completed in 21ms (View: 16, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/login
Completed in 30ms (View: 29, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Redirected to http://www.example.com/
Completed in 13ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/login
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Redirected to http://www.example.com/
Completed in 7ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:51) [GET]
Rendering site/login
Completed in 68ms (View: 67, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2791)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2792)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2793)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2794)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2795)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2796)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2797)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2798)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2799)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2800)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2801)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2802)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.`suit_id` = 853) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.suit_id = 853) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(853, 2803)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2791)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2792)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2793)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2794)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2795)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2796)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2797)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2798)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2799)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2800)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2801)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2802)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.`suit_id` = 854) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.suit_id = 854) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(854, 2803)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2791)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2792)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2793)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2794)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2795)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2796)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2797)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2798)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2799)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2800)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2801)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2802)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.`suit_id` = 855) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.suit_id = 855) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(855, 2803)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2791 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2791)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2792 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2792)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2793 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2793)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2794 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2794)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2795 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2795)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2796 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2796)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2797 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2797)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2798 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2798)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2799 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2799)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2800 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2800)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2801 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2801)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2802 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2802)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.`suit_id` = 856) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2803 AND `cards`.suit_id = 856) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(856, 2803)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:53) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 16ms (DB: 153) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:53) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 844) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 844 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11028)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11029)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11003)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10986)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11009)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11026)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11004)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10983)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11006)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10991)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11014)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10999)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11000)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10988)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11016)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11022)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10996)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11001)[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11008)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10981)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10992)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11031)[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11023)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11027)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11011)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11032)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11017)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11018)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10989)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11012)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11007)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11019)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10994)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10984)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11025)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11015)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10997)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10985)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11020)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11021)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10998)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11002)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10987)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11005)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11030)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10982)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11024)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10995)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10990)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11010)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11013)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 10993)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 234) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10993, 844)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11013, 844)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11010, 844)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10990, 844)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10995, 844)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 844) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 234, `seat_order` = 0 WHERE `id` = 844[0m
Rendering site/waiting
Completed in 264ms (View: 15, DB: 71) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:53) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:53) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 845) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 845 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 234) [0m
  [4;35;1mCard Load (11.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 234 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10993, 845)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11013, 845)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11010, 845)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10990, 845)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10995, 845)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 845) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 234, `seat_order` = 1 WHERE `id` = 845[0m
Rendering site/waiting
Completed in 190ms (View: 12, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (11.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 20ms (DB: 11) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 846) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 846 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 234) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 234 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10993, 846)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11013, 846)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11010, 846)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10990, 846)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10995, 846)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 846) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 234, `seat_order` = 2 WHERE `id` = 846[0m
Rendering site/waiting
Completed in 102ms (View: 13, DB: 19) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 847) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 847 ) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 234) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 234 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10993, 847)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11013, 847)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11010, 847)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10990, 847)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10995, 847)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 847) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 234, `seat_order` = 3 WHERE `id` = 847[0m
Rendering site/waiting
Completed in 110ms (View: 8, DB: 18) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 844) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 234) [0m
Completed in 22ms (View: 19, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
Rendering site/play_game
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 845) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 234) [0m
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 846) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 234) [0m
Completed in 29ms (View: 26, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 847) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 234) [0m
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:53:54) [GET]
Rendering site/play_game
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 844 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 844 AND card_id IN (10993,11013,11010,10990,10995)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11024, 844)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 845 ) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 845 AND card_id IN (10993,11013,11010,10990,10995)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11019, 845)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 846 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 846 AND card_id IN (10993,11013,11010,10990,10995)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10988, 846)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 847 ) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 847 AND card_id IN (10993,11013,11010,10990,10995)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (10997, 847)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 844) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 845) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 846) [0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 847) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 234 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (234, 11015)[0m
  [4;35;1mCard Load (8.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 234 ) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 234 AND card_id IN (11028,11029,11003,10986,11009,11026,11004,10983,11006,10991,11014,10999,11000,10988,11016,11022,10996,11001,11008,10981,10992,11031,11023,11027,11011,11032,11017,11018,10989,11012,11007,11019,10994,10984,11025,11015,10997,10985,11020,11021,10998,11002,10987,11005,11030,10982,11024,10995,10990,11010,11013,10993)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (234, 11016)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:53:54) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 847) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 234) [0m
Filter chain halted as [:my_turn] rendered_or_redirected.
Completed in 10ms (View: 2, DB: 70) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2804)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2805)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2806)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2807)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2809)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2810)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2811)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2812)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2813)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2814)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2815)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.`suit_id` = 857) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.suit_id = 857) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(857, 2816)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2804)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2805)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2806)[0m
  [4;36;1mCard Load (13.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2807)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2808)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2809)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2810)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2811)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2812)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2813)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2814)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2815)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.`suit_id` = 858) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.suit_id = 858) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(858, 2816)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2804)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2805)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2806)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2807)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2808)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2809)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2810)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2811)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2812)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2813)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2814)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2815)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.`suit_id` = 859) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.suit_id = 859) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(859, 2816)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2804 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2804)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2805 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2805)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2806 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2806)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2807 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2807)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2808 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2808)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2809 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2809)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2810 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2810)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2811 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2811)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2812 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2812)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2813 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2813)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2814 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2814)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2815 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2815)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.`suit_id` = 860) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2816 AND `cards`.suit_id = 860) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(860, 2816)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:36) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 41ms (DB: 186) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:36) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 848) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 848 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11050)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11070)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11065)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11060)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11066)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11079)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11084)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11045)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11035)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11052)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11064)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11077)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11040)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11076)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11071)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11049)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11037)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11062)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11053)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11072)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11069)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11061)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11034)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11067)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11083)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11080)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11068)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11059)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11044)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11036)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11051)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11033)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11038)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11046)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11055)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11063)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11081)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11082)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11043)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11073)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11078)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11041)[0m
  [4;35;1mSQL (9.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11039)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11056)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11074)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11057)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11058)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11075)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11048)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11042)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11054)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (235, 11047)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 235) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11047, 848)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11054, 848)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11042, 848)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11048, 848)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11075, 848)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 848) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 235, `seat_order` = 0 WHERE `id` = 848[0m
Rendering site/waiting
Completed in 447ms (View: 40, DB: 58) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (10.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 19ms (DB: 10) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 849) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 849 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 235) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 235 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11047, 849)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11054, 849)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11042, 849)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11048, 849)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11075, 849)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 849) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 235, `seat_order` = 1 WHERE `id` = 849[0m
Rendering site/waiting
Completed in 112ms (View: 19, DB: 24) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 850) [0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 850 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 235) [0m
  [4;35;1mCard Load (14.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 235 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11047, 850)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11054, 850)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11042, 850)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11048, 850)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11075, 850)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 850) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 235, `seat_order` = 2 WHERE `id` = 850[0m
Rendering site/waiting
Completed in 147ms (View: 19, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 851) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 851 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 235) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 235 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11047, 851)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11054, 851)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11042, 851)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11048, 851)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11075, 851)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 851) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 235, `seat_order` = 3 WHERE `id` = 851[0m
Rendering site/waiting
Completed in 129ms (View: 20, DB: 22) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 848) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 848 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 849) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 849 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 850) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 850 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 851) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 851 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 848) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 235) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 235) [0m
Completed in 32ms (View: 29, DB: 20) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
Rendering site/play_game
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 849) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 235) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 235) [0m
Completed in 23ms (View: 20, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
Rendering site/play_game
Completed in 14ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 850) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 235) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 235) [0m
Completed in 16ms (View: 12, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:37) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 851) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 235) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 235) [0m
Completed in 21ms (View: 18, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:56:37) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Rendering site/login
Completed in 28ms (View: 27, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Redirected to http://www.example.com/
Completed in 9ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Rendering site/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Rendering site/login
Completed in 21ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:38) [GET]
Rendering site/login
Completed in 76ms (View: 75, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2817)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2818)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2819)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2820)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2821)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2822)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2823)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2824)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2825)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2826)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2827)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2828)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.`suit_id` = 861) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.suit_id = 861) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(861, 2829)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2817)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2818)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2819)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2820)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2821)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2822)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2823)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2824)[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2825)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2826)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2827)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2828)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.`suit_id` = 862) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.suit_id = 862) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(862, 2829)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2817)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2818)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2819)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2820)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2821)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2822)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2823)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2824)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2825)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2826)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2827)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2828)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.`suit_id` = 863) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.suit_id = 863) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(863, 2829)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2817 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2817)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2818 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2818)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2819 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2819)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2820 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2820)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2821 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2821)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2822 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2822)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2823 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2823)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2824 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2824)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2825 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2825)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2826 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2826)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2827 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2827)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2828 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2828)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.`suit_id` = 864) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2829 AND `cards`.suit_id = 864) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(864, 2829)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:39) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 22ms (DB: 155) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:40) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 852 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11127)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11125)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11092)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11091)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11124)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11108)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11093)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11121)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11086)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11085)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11133)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11100)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11095)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11129)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11131)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11116)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11097)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11113)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11109)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11102)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11087)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11099)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11117)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11110)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11111)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11134)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11098)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11112)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11120)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11130)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11136)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11096)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11104)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11090)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11123)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11088)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11122)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11135)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11115)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11105)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11106)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11128)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11107)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11119)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11118)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11101)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11132)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11094)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11114)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11103)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11126)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11089)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 236) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11089, 852)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11126, 852)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11103, 852)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11114, 852)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11094, 852)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 852) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 236, `seat_order` = 0 WHERE `id` = 852[0m
Rendering site/waiting
Completed in 287ms (View: 20, DB: 58) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:40) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:40) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 853 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 236) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 236 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11089, 853)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11126, 853)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11103, 853)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11114, 853)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11094, 853)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 853) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 236, `seat_order` = 1 WHERE `id` = 853[0m
Rendering site/waiting
Completed in 138ms (View: 16, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:40) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:40) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 854 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 236) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 236 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11089, 854)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11126, 854)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11103, 854)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11114, 854)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11094, 854)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 854) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 236, `seat_order` = 2 WHERE `id` = 854[0m
Rendering site/waiting
Completed in 123ms (View: 14, DB: 22) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:56:40) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:56:40) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 855) [0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 855 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 236) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 236 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11089, 855)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11126, 855)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11103, 855)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11114, 855)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11094, 855)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 855) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 236, `seat_order` = 3 WHERE `id` = 855[0m
Rendering site/waiting
Completed in 135ms (View: 9, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:40) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 236) [0m
Completed in 21ms (View: 18, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:40) [GET]
Rendering site/play_game
Completed in 5ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:40) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 236) [0m
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:41) [GET]
Rendering site/play_game
Completed in 4ms (View: 4, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 236) [0m
Completed in 30ms (View: 26, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:41) [GET]
Rendering site/play_game
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 855) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 236) [0m
Completed in 18ms (View: 15, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:56:41) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 852 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 852 AND card_id IN (11089,11126,11103,11114,11094)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11128, 852)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 853 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 853 AND card_id IN (11089,11126,11103,11114,11094)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11123, 853)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 854 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 854 AND card_id IN (11089,11126,11103,11114,11094)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11092, 854)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 855 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 855 AND card_id IN (11089,11126,11103,11114,11094)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11101, 855)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 855) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (236, 11119)[0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 236 ) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 236 AND card_id IN (11127,11125,11092,11091,11124,11108,11093,11121,11086,11085,11133,11100,11095,11129,11131,11116,11097,11113,11109,11102,11087,11099,11117,11110,11111,11134,11098,11112,11120,11130,11136,11096,11104,11090,11123,11088,11122,11135,11115,11105,11106,11128,11107,11119,11118,11101,11132,11094,11114,11103,11126,11089)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (236, 11120)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 855) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
Filter chain halted as [:my_turn] rendered_or_redirected.
Completed in 10ms (View: 2, DB: 68) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11110) AND (`cards_players`.player_id = 852 ) LIMIT 1[0m
Rendering site/discard
Completed in 58ms (View: 23, DB: 10) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11128) AND (`cards_players`.player_id = 852 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (236, 11128)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2821) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2825) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 864) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 236 AND card_id IN (11128)[0m
Rendering site/discard
Completed in 91ms (View: 4, DB: 16) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 236 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11120, 852)[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2826) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
Completed in 66ms (View: 3, DB: 18) | 200 OK [http://www.example.com/site/draw]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 852 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:41) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11120) AND (`cards_players`.player_id = 852 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (236, 11120)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2826) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2825) [0m
  [4;36;1mSuit Load (2.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 852 AND card_id IN (11120)[0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 852 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 1 WHERE `id` = 236[0m
Rendering site/discard
Completed in 238ms (View: 7, DB: 45) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 852) [0m
  [4;36;1mCard Load (9.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 852 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:42) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;35;1mPlayer Load (19.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;36;1mGame Load (22.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11123) AND (`cards_players`.player_id = 853 ) LIMIT 1[0m
  [4;35;1mSQL (30.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (236, 11123)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;35;1mRank Load (2.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2829) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2826) [0m
  [4;35;1mSuit Load (3.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 863) [0m
  [4;35;1mSQL (7.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 853 AND card_id IN (11123)[0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 853 ) [0m
  [4;35;1mGame Update (4.0ms)[0m   [0mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 236[0m
Rendering site/discard
Completed in 237ms (View: 7, DB: 123) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mPlayer Load (3.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 853) [0m
  [4;35;1mCard Load (9.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 853 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:56:42) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 854) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 236) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mCard Load (19.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11092) AND (`cards_players`.player_id = 854 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (236, 11092)[0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 236 ) [0m
  [4;35;1mRank Load (2.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2824) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 854 AND card_id IN (11092)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 854 ) [0m
  [4;36;1mGame Update (0.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 3 WHERE `id` = 236[0m
Rendering site/discard
Completed in 154ms (View: 6, DB: 59) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (2.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2830)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2831)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2832)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2833)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2834)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2835)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2836)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (11.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2837)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2838)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2839)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2840)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2841)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.`suit_id` = 865) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.suit_id = 865) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(865, 2842)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2830)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2831)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2832)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2833)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2834)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2835)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2836)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2837)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2838)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2840)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2841)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.`suit_id` = 866) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.suit_id = 866) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(866, 2842)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2830)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2831)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2832)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2833)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2834)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2835)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2836)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2837)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2838)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2839)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2840)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2841)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.`suit_id` = 867) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.suit_id = 867) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(867, 2842)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2830 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2830)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2831 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2831)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2832 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2832)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2833 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2833)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2834 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2834)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2835 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2835)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2836 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2836)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2837 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2837)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2838 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2838)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2839 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2839)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2840 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2840)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2841 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2841)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.`suit_id` = 868) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2842 AND `cards`.suit_id = 868) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(868, 2842)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:17) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 43ms (DB: 166) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:18) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 856) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 856 ) [0m
  [4;36;1mGame Load (2.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11154)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11148)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11143)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11177)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11155)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11157)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11153)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11146)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11181)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11160)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11162)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11179)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11147)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11151)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11170)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11144)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11185)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11186)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11167)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11166)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11140)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11141)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11165)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11180)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11184)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11139)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11187)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11158)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11173)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11145)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11152)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11172)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11138)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11168)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11169)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11175)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11159)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11142)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11171)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11176)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11137)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11174)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11156)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11188)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11150)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11183)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11182)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11149)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11163)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11164)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11161)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (237, 11178)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 237) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11178, 856)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11161, 856)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11164, 856)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11163, 856)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11149, 856)[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 856) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 237, `seat_order` = 0 WHERE `id` = 856[0m
Rendering site/waiting
Completed in 391ms (View: 33, DB: 39) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:18) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:18) [GET]
  [4;36;1mPlayer Load (4.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 857) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 857 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 237) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 237 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11178, 857)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11161, 857)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11164, 857)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11163, 857)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11149, 857)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 857) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 237, `seat_order` = 1 WHERE `id` = 857[0m
Rendering site/waiting
Completed in 141ms (View: 18, DB: 34) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 858) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 858 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 237) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 237 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11178, 858)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11161, 858)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11164, 858)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11163, 858)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11149, 858)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 858) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 237, `seat_order` = 2 WHERE `id` = 858[0m
Rendering site/waiting
Completed in 182ms (View: 15, DB: 28) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 859) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 859 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 237) [0m
  [4;36;1mCard Load (11.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 237 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11178, 859)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11161, 859)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11164, 859)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11163, 859)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11149, 859)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 859) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 237, `seat_order` = 3 WHERE `id` = 859[0m
Rendering site/waiting
Completed in 137ms (View: 22, DB: 23) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 856) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 856 ) [0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 857) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 857 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 858) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 858 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 859) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 859 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 856) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 237) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 237) [0m
Completed in 35ms (View: 29, DB: 26) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 857) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 237) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 237) [0m
Completed in 28ms (View: 22, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/play_game
Completed in 16ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 858) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 237) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 237) [0m
Completed in 19ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:19) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 859) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 237) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 237) [0m
Completed in 20ms (View: 17, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/play_game
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Redirected to http://www.example.com/
Completed in 13ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/login
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Redirected to http://www.example.com/
Completed in 10ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Rendering site/login
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:58:19) [GET]
Redirected to http://www.example.com/
Completed in 9ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:20) [GET]
Rendering site/login
Completed in 23ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:58:20) [GET]
Redirected to http://www.example.com/
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:20) [GET]
Rendering site/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2843)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2844)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2845)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2846)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2847)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2848)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2849)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2850)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2851)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2852)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2853)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2854)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.`suit_id` = 869) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.suit_id = 869) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(869, 2855)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2843)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2844)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2845)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2846)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2847)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2848)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2849)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2850)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2851)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2852)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2853)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2854)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.`suit_id` = 870) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.suit_id = 870) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(870, 2855)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2843)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2844)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2845)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2846)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2847)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2848)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2849)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2850)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2851)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2852)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2853)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2854)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.`suit_id` = 871) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.suit_id = 871) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(871, 2855)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2843 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2843)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2844 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2844)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2845 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2845)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2846 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2846)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2847 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2847)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2848 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2848)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2849 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2849)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2850 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2850)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2851 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2851)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2852 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2852)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2853 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2853)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2854 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2854)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.`suit_id` = 872) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2855 AND `cards`.suit_id = 872) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(872, 2855)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:21) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 142) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:21) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 860 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11220)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11231)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11235)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11209)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11227)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11224)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11205)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11229)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11221)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11189)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11204)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11230)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11213)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11225)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11233)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11198)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11214)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11232)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11228)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11240)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11210)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11223)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11190)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11211)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11196)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11203)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11191)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11194)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11199)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11215)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11239)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11201)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11216)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11234)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11200)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11217)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11237)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11206)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11202)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11226)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11197)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11236)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11208)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11212)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11192)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11219)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11193)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11218)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11222)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11238)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11207)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11195)[0m
  [4;36;1mPlayer Load (5.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 238) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11195, 860)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11207, 860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11238, 860)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11222, 860)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11218, 860)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 860) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 238, `seat_order` = 0 WHERE `id` = 860[0m
Rendering site/waiting
Completed in 307ms (View: 30, DB: 40) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 861 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 238) [0m
  [4;35;1mCard Load (16.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 238 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11195, 861)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11207, 861)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11238, 861)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11222, 861)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11218, 861)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 861) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 238, `seat_order` = 1 WHERE `id` = 861[0m
Rendering site/waiting
Completed in 166ms (View: 14, DB: 26) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 18ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 862 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 238) [0m
  [4;36;1mCard Load (12.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 238 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11195, 862)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11207, 862)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11238, 862)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11222, 862)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11218, 862)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 862) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 238, `seat_order` = 2 WHERE `id` = 862[0m
Rendering site/waiting
Completed in 118ms (View: 14, DB: 23) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 6ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 863) [0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 863 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 238) [0m
  [4;35;1mCard Load (10.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 238 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11195, 863)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11207, 863)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11238, 863)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11222, 863)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11218, 863)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 863) LIMIT 1[0m
  [4;36;1mPlayer Update (0.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 238, `seat_order` = 3 WHERE `id` = 863[0m
Rendering site/waiting
Completed in 109ms (View: 11, DB: 21) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 238) [0m
Completed in 26ms (View: 23, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
Rendering site/play_game
Completed in 6ms (View: 6, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 238) [0m
Completed in 17ms (View: 13, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
Rendering site/play_game
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 238) [0m
Completed in 31ms (View: 28, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
Rendering site/play_game
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:58:22) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 863) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 238) [0m
Completed in 19ms (View: 14, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:58:22) [GET]
Rendering site/play_game
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 860 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 860 AND card_id IN (11195,11207,11238,11222,11218)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11232, 860)[0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 861 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 861 AND card_id IN (11195,11207,11238,11222,11218)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11227, 861)[0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 862 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 862 AND card_id IN (11195,11207,11238,11222,11218)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11196, 862)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 863 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 863 AND card_id IN (11195,11207,11238,11222,11218)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11205, 863)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 863) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (238, 11223)[0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 238 ) [0m
  [4;36;1mSQL (14.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 238 AND card_id IN (11220,11231,11235,11209,11227,11224,11205,11229,11221,11189,11204,11230,11213,11225,11233,11198,11214,11232,11228,11240,11210,11223,11190,11211,11196,11203,11191,11194,11199,11215,11239,11201,11216,11234,11200,11217,11237,11206,11202,11226,11197,11236,11208,11212,11192,11219,11193,11218,11222,11238,11207,11195)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (238, 11224)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 863) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
Filter chain halted as [:my_turn] rendered_or_redirected.
Completed in 12ms (View: 3, DB: 84) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11214) AND (`cards_players`.player_id = 860 ) LIMIT 1[0m
@valid = false
Rendering site/discard
Completed in 41ms (View: 8, DB: 6) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11232) AND (`cards_players`.player_id = 860 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (238, 11232)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2847) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2851) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 872) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 238 AND card_id IN (11232)[0m
@valid = false
Rendering site/discard
Completed in 79ms (View: 2, DB: 13) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 238 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11224, 860)[0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2852) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
Completed in 47ms (View: 2, DB: 12) | 200 OK [http://www.example.com/site/draw]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 860 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11224) AND (`cards_players`.player_id = 860 ) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (238, 11224)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2852) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2851) [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 860 AND card_id IN (11224)[0m
@valid = true
bottom's turn is over
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 860 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 1 WHERE `id` = 238[0m
Rendering site/discard
Completed in 87ms (View: 2, DB: 20) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 860) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 860 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11227) AND (`cards_players`.player_id = 861 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (238, 11227)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2855) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2852) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 871) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 861 AND card_id IN (11227)[0m
@valid = true
left's turn is over
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 861 ) [0m
  [4;35;1mGame Update (1.0ms)[0m   [0mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 238[0m
Rendering site/discard
Completed in 87ms (View: 3, DB: 25) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 861) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 861 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:58:23) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 862) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 238) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11196) AND (`cards_players`.player_id = 862 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (238, 11196)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 238 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2850) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 862 AND card_id IN (11196)[0m
@valid = true
top's turn is over
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 862 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 3 WHERE `id` = 238[0m
Rendering site/discard
Completed in 80ms (View: 3, DB: 23) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;36;1mRank Load (8.0ms)[0m   [0;1mSELECT * FROM `ranks` [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` [0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2856)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2857)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2858)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2859)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2860)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2861)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2862)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2863)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2864)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2865)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2866)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2867)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.`suit_id` = 873) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.suit_id = 873) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(873, 2868)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2856)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2857)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2858)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2859)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2860)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2861)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2862)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2863)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2864)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2865)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2866)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2867)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.`suit_id` = 874) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.suit_id = 874) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(874, 2868)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2856)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2857)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2858)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2859)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2860)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2861)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2862)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2863)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2864)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2865)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2866)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2867)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.`suit_id` = 875) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.suit_id = 875) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(875, 2868)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2856 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2856)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2857 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2857)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2858 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2858)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2859 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2859)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2860 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2860)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2861 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2861)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2862 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2862)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2863 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2863)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2864 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2864)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2865 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2865)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2866 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2866)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2867 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2867)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.`suit_id` = 876) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2868 AND `cards`.suit_id = 876) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(876, 2868)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:51) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 44ms (DB: 171) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:51) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 864) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 864 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11258)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11264)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11278)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11274)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11273)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11286)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11263)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11256)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11272)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11270)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11282)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11246)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11277)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11260)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11289)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11248)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11290)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11288)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11275)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11287)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11257)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11250)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11283)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11280)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11259)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11253)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11251)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11241)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11267)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11279)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11268)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11244)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11276)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11252)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11291)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11261)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11269)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11271)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11242)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11249)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11254)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11262)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11292)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11265)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11284)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11285)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11281)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11266)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11243)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11247)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (239, 11245)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 239) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11245, 864)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11247, 864)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11243, 864)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11266, 864)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11281, 864)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 864) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 239, `seat_order` = 0 WHERE `id` = 864[0m
Rendering site/waiting
Completed in 336ms (View: 43, DB: 39) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:52) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:52) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 865) [0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 865 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 239) [0m
  [4;36;1mCard Load (15.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 239 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11245, 865)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11247, 865)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11243, 865)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11266, 865)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11281, 865)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 865) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 239, `seat_order` = 1 WHERE `id` = 865[0m
Rendering site/waiting
Completed in 172ms (View: 19, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:52) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:52) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 866) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 866 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 239) [0m
  [4;35;1mCard Load (13.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 239 ) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11245, 866)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11247, 866)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11243, 866)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11266, 866)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11281, 866)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 866) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 239, `seat_order` = 2 WHERE `id` = 866[0m
Rendering site/waiting
Completed in 153ms (View: 17, DB: 30) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:52) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:52) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 867) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 867 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 239) [0m
  [4;36;1mCard Load (10.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 239 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11245, 867)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11247, 867)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11243, 867)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11266, 867)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11281, 867)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 867) LIMIT 1[0m
  [4;35;1mPlayer Update (0.0ms)[0m   [0mUPDATE `players` SET `game_id` = 239, `seat_order` = 3 WHERE `id` = 867[0m
Rendering site/waiting
Completed in 156ms (View: 20, DB: 20) | 200 OK [http://www.example.com/site/waiting]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 864) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 864 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 865) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 865 ) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 866) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 866 ) [0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 867) [0m
  [4;35;1mCard Load (5.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 867 ) [0m


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:53) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 864) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 239) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 239) [0m
Completed in 39ms (View: 31, DB: 24) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/play_game
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:53) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 865) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 239) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 239) [0m
Completed in 23ms (View: 18, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/play_game
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:53) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 866) [0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 239) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 239) [0m
Completed in 19ms (View: 16, DB: 2) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:53) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 867) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 239) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 239) [0m
Completed in 22ms (View: 18, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/play_game
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Redirected to http://www.example.com/
Completed in 11ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/login
Completed in 46ms (View: 45, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/login
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Redirected to http://www.example.com/
Completed in 8ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://www.example.com/]


Processing SiteController#logout (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Redirected to http://www.example.com/
Completed in 4ms (DB: 0) | 302 Found [http://www.example.com/site/logout]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:53) [GET]
Rendering site/login
Completed in 22ms (View: 21, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('heart')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('diamond')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('spade')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('ace')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('3')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('4')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('6')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('8')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('9')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('10')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('jack')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('queen')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('king')[0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` [0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2869)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2870)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2871)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2872)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2873)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2874)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2875)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2876)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2877)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2878)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2879)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2880)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.`suit_id` = 877) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.suit_id = 877) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(877, 2881)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2869)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2870)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2871)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2872)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2873)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2874)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2875)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2876)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2877)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2878)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2879)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2880)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.`suit_id` = 878) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.suit_id = 878) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(878, 2881)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2869)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2870)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2871)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2872)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2873)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2874)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2875)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2876)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2877)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2878)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2879)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2880)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.`suit_id` = 879) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.suit_id = 879) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(879, 2881)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2869 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2869)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2870 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2870)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2871 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2871)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2872 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2872)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2873 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2873)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2874 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2874)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2875 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2875)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2876 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2876)[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2877 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2877)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2878 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2878)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2879 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2879)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2880 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2880)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.`suit_id` = 880) LIMIT 1[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2881 AND `cards`.suit_id = 880) LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(880, 2881)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` [0m
  [4;36;1mPlayer Load (5.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('bottom', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('left', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('top', 'pass', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('right', 'pass', NULL, NULL)[0m


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:55) [POST]
  Parameters: {"player"=>{"name"=>"bottom", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 170) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:55) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 868 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11321)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11332)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11326)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11322)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11317)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11296)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11325)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11324)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11305)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11311)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11323)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11339)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11319)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11308)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11342)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11293)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11344)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11328)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11314)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11313)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11299)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11316)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11312)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11303)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11340)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11309)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11301)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11327)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11300)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11318)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11331)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11304)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11315)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11298)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11320)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11307)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11295)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11341)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11333)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11334)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11297)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11329)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11294)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11335)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11310)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11338)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11343)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11330)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11306)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11302)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11336)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11337)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 240) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11337, 868)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11336, 868)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11302, 868)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11306, 868)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11330, 868)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'bottom' AND `players`.id <> 868) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 240, `seat_order` = 0 WHERE `id` = 868[0m
Rendering site/waiting
Completed in 253ms (View: 21, DB: 60) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:55) [POST]
  Parameters: {"player"=>{"name"=>"left", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'left' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 10ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:55) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 869 ) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 240) [0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 240 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11337, 869)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11336, 869)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11302, 869)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11306, 869)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11330, 869)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'left' AND `players`.id <> 869) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 240, `seat_order` = 1 WHERE `id` = 869[0m
Rendering site/waiting
Completed in 117ms (View: 15, DB: 25) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
  Parameters: {"player"=>{"name"=>"top", "password"=>"pass"}}
  [4;35;1mPlayer Load (2.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`name` = 'top' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 12ms (DB: 2) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 870) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 870 ) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.game_id = 240) [0m
  [4;36;1mCard Load (14.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 240 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11337, 870)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11336, 870)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11302, 870)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11306, 870)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11330, 870)[0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'top' AND `players`.id <> 870) LIMIT 1[0m
  [4;35;1mPlayer Update (1.0ms)[0m   [0mUPDATE `players` SET `game_id` = 240, `seat_order` = 2 WHERE `id` = 870[0m
Rendering site/waiting
Completed in 100ms (View: 15, DB: 27) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#login (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
  Parameters: {"player"=>{"name"=>"right", "password"=>"pass"}}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`name` = 'right' AND `players`.`password` = 'pass') LIMIT 1[0m
Redirected to http://www.example.com/site/waiting
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/site/login]


Processing SiteController#waiting (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 871) [0m
  [4;36;1mCard Load (7.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 871 ) [0m
  [4;35;1mGame Load (2.0ms)[0m   [0mSELECT `games`.* FROM `games` INNER JOIN `players` ON players.game_id = games.id GROUP BY games.id HAVING count(players.id) < 4 LIMIT 1[0m
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.game_id = 240) [0m
  [4;35;1mCard Load (15.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 240 ) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11337, 871)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11336, 871)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11302, 871)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11306, 871)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11330, 871)[0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'right' AND `players`.id <> 871) LIMIT 1[0m
  [4;36;1mPlayer Update (1.0ms)[0m   [0;1mUPDATE `players` SET `game_id` = 240, `seat_order` = 3 WHERE `id` = 871[0m
Rendering site/waiting
Completed in 111ms (View: 9, DB: 32) | 200 OK [http://www.example.com/site/waiting]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 240) [0m
Completed in 26ms (View: 21, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
Rendering site/play_game
Completed in 7ms (View: 7, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 240) [0m
Completed in 15ms (View: 12, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
Rendering site/play_game
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
Rendering site/start_game
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 870) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 240) [0m
Completed in 32ms (View: 29, DB: 3) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
Rendering site/play_game
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://www.example.com/site/play_game]


Processing SiteController#start_game (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
Rendering site/start_game
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 871) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `players` WHERE (`players`.game_id = 240) [0m
Completed in 21ms (View: 16, DB: 4) | 200 OK [http://www.example.com/site/start_game]


Processing SiteController#play_game (for 127.0.0.1 at 2012-02-12 12:59:56) [GET]
Rendering site/play_game
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://www.example.com/site/play_game]
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 868 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 868 AND card_id IN (11337,11336,11302,11306,11330)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11336, 868)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 869 ) [0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 869 AND card_id IN (11337,11336,11302,11306,11330)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11331, 869)[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 870 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 870 AND card_id IN (11337,11336,11302,11306,11330)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '8' AND suits.name = 'club') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11300, 870)[0m
  [4;35;1mCard Load (6.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 871 ) [0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 871 AND card_id IN (11337,11336,11302,11306,11330)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '4' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11309, 871)[0m
  [4;35;1mPlayer Load (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 870) [0m
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 871) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCard Load (2.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '9' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (240, 11327)[0m
  [4;35;1mCard Load (12.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 240 ) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mDELETE FROM `draw_pile` WHERE game_id = 240 AND card_id IN (11321,11332,11326,11322,11317,11296,11325,11324,11305,11311,11323,11339,11319,11308,11342,11293,11344,11328,11314,11313,11299,11316,11312,11303,11340,11309,11301,11327,11300,11318,11331,11304,11315,11298,11320,11307,11295,11341,11333,11334,11297,11329,11294,11335,11310,11338,11343,11330,11306,11302,11336,11337)[0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (240, 11328)[0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
  Parameters: {"rank"=>"4", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 871) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
Filter chain halted as [:my_turn] rendered_or_redirected.
Completed in 14ms (View: 2, DB: 85) | 200 OK [http://www.example.com/site/discard]


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:56) [POST]
  Parameters: {"rank"=>"king", "suit"=>"heart", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'heart') LIMIT 1[0m
  [4;36;1mCard Load (6.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11318) AND (`cards_players`.player_id = 868 ) LIMIT 1[0m
@valid = false
Rendering site/discard
Completed in 55ms (View: 11, DB: 10) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:57) [POST]
  Parameters: {"rank"=>"5", "suit"=>"spade", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '5' AND suits.name = 'spade') LIMIT 1[0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11336) AND (`cards_players`.player_id = 868 ) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (240, 11336)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2873) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2877) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 880) [0m
  [4;36;1mSuit Load (1.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mDELETE FROM `discard_pile` WHERE game_id = 240 AND card_id IN (11336)[0m
@valid = false
Rendering site/discard
Completed in 78ms (View: 3, DB: 15) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m


Processing SiteController#draw (for 127.0.0.1 at 2012-02-12 12:59:57) [POST]
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCard Load (8.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `draw_pile` ON `cards`.id = `draw_pile`.card_id WHERE (`draw_pile`.game_id = 240 ) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11328, 868)[0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2878) [0m
  [4;35;1mSuit Load (1.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
Completed in 51ms (View: 3, DB: 14) | 200 OK [http://www.example.com/site/draw]
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 868 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:57) [POST]
  Parameters: {"rank"=>"10", "suit"=>"diamond", "id"=>"1"}
  [4;36;1mPlayer Load (1.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '10' AND suits.name = 'diamond') LIMIT 1[0m
  [4;35;1mCard Load (3.0ms)[0m   [0mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11328) AND (`cards_players`.player_id = 868 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (240, 11328)[0m
  [4;35;1mCard Load (2.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m
  [4;36;1mRank Load (1.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2878) [0m
  [4;35;1mRank Load (1.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2877) [0m
  [4;36;1mSuit Load (7.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mDELETE FROM `cards_players` WHERE player_id = 868 AND card_id IN (11328)[0m
@valid = true
bottom's turn is over
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 868 ) [0m
  [4;36;1mGame Update (1.0ms)[0m   [0;1mUPDATE `games` SET `current_player` = 1 WHERE `id` = 240[0m
Rendering site/discard
Completed in 120ms (View: 3, DB: 29) | 200 OK [http://www.example.com/site/discard]
  [4;35;1mGame Load (1.0ms)[0m   [0mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 868) [0m
  [4;36;1mCard Load (5.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 868 ) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:57) [POST]
  Parameters: {"rank"=>"king", "suit"=>"diamond", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCard Load (1.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = 'king' AND suits.name = 'diamond') LIMIT 1[0m
  [4;36;1mCard Load (3.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards`.`id` = 11331) AND (`cards_players`.player_id = 869 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (240, 11331)[0m
  [4;36;1mCard Load (1.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `discard_pile` ON `cards`.id = `discard_pile`.card_id WHERE (`discard_pile`.game_id = 240 ) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2881) [0m
  [4;36;1mRank Load (0.0ms)[0m   [0;1mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2878) [0m
  [4;35;1mSuit Load (0.0ms)[0m   [0mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 879) [0m
  [4;35;1mSQL (6.0ms)[0m   [0mDELETE FROM `cards_players` WHERE player_id = 869 AND card_id IN (11331)[0m
@valid = true
left's turn is over
  [4;36;1mCard Load (4.0ms)[0m   [0;1mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 869 ) [0m
  [4;35;1mGame Update (0.0ms)[0m   [0mUPDATE `games` SET `current_player` = 2, `has_ended` = 1 WHERE `id` = 240[0m
Rendering site/discard
Completed in 123ms (View: 5, DB: 25) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mPlayer Load (2.0ms)[0m   [0;1mSELECT * FROM `players` WHERE (`players`.`id` = 869) [0m
  [4;35;1mCard Load (4.0ms)[0m   [0mSELECT * FROM `cards` INNER JOIN `cards_players` ON `cards`.id = `cards_players`.card_id WHERE (`cards_players`.player_id = 869 ) [0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m


Processing SiteController#discard (for 127.0.0.1 at 2012-02-12 12:59:57) [POST]
  Parameters: {"rank"=>"8", "suit"=>"club", "id"=>"0"}
  [4;35;1mPlayer Load (1.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 870) [0m
  [4;36;1mGame Load (1.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `players` WHERE (`players`.`id` = 870) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `games` WHERE (`games`.`id` = 240) [0m
Filter chain halted as [:game_over] rendered_or_redirected.
Completed in 20ms (View: 3, DB: 8) | 200 OK [http://www.example.com/site/discard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mCard Load (32.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2882 AND `cards`.suit_id = 881) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(881, 2882)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` LIMIT 1[0m
  [4;36;1mSuit Load (0.0ms)[0m   [0;1mSELECT * FROM `suits` WHERE (`suits`.`id` = 881) [0m
  [4;35;1mRank Load (0.0ms)[0m   [0mSELECT * FROM `ranks` WHERE (`ranks`.`id` = 2882) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2883 AND `cards`.suit_id = 882) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(882, 2883)[0m
  [4;36;1mCard Load (31.0ms)[0m   [0;1mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '7' AND suits.name = 'club') LIMIT 1[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.* FROM `cards` INNER JOIN `ranks` ON `ranks`.id = `cards`.rank_id INNER JOIN `suits` ON `suits`.id = `cards`.suit_id WHERE (ranks.name = '666' AND suits.name = 'beast') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2884 AND `cards`.suit_id = 883) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(883, 2884)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (241, 11347)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `discard_pile` (`game_id`, `card_id`) VALUES (242, 11347)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` LIMIT 1[0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.id FROM `games` INNER JOIN `discard_pile` ON `games`.id = `discard_pile`.game_id WHERE (`games`.`id` = 241) AND (`discard_pile`.card_id = 11347 ) LIMIT 1[0m
  [4;35;1mGame Load (0.0ms)[0m   [0mSELECT `games`.id FROM `games` INNER JOIN `discard_pile` ON `games`.id = `discard_pile`.game_id WHERE (`games`.`id` = 242) AND (`discard_pile`.card_id = 11347 ) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('5')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `games` (`current_player`, `discard_pile_id`, `has_ended`) VALUES(0, NULL, 0)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2886 AND `cards`.suit_id = 884) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(884, 2886)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (243, 11348)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `draw_pile` (`game_id`, `card_id`) VALUES (244, 11348)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT * FROM `cards` LIMIT 1[0m
  [4;36;1mGame Load (0.0ms)[0m   [0;1mSELECT `games`.id FROM `games` INNER JOIN `draw_pile` ON `games`.id = `draw_pile`.game_id WHERE (`games`.`id` = 243) AND (`draw_pile`.card_id = 11348 ) LIMIT 1[0m
  [4;35;1mGame Load (16.0ms)[0m   [0mSELECT `games`.id FROM `games` INNER JOIN `draw_pile` ON `games`.id = `draw_pile`.game_id WHERE (`games`.`id` = 244) AND (`draw_pile`.card_id = 11348 ) LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'todd') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('todd', 'password', NULL, NULL)[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` WHERE (`players`.`name` = 'tim') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `players` (`name`, `password`, `seat_order`, `game_id`) VALUES('tim', 'password', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2888 AND `cards`.suit_id = 885) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(885, 2888)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11349, 872)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `cards_players` (`card_id`, `player_id`) VALUES (11349, 873)[0m
  [4;36;1mCard Load (0.0ms)[0m   [0;1mSELECT * FROM `cards` LIMIT 1[0m
  [4;35;1mPlayer Load (16.0ms)[0m   [0mSELECT `players`.id FROM `players` INNER JOIN `cards_players` ON `players`.id = `cards_players`.player_id WHERE (`players`.`id` = 872) AND (`cards_players`.card_id = 11349 ) LIMIT 1[0m
  [4;36;1mPlayer Load (0.0ms)[0m   [0;1mSELECT `players`.id FROM `players` INNER JOIN `cards_players` ON `players`.id = `cards_players`.player_id WHERE (`players`.`id` = 873) AND (`cards_players`.card_id = 11349 ) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO `suits` (`name`) VALUES('club')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `ranks` (`name`) VALUES('7')[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2889 AND `cards`.suit_id = 886) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO `cards` (`suit_id`, `rank_id`) VALUES(886, 2889)[0m
  [4;35;1mCard Load (0.0ms)[0m   [0mSELECT `cards`.id FROM `cards` WHERE (`cards`.`rank_id` = 2889 AND `cards`.suit_id = 886) LIMIT 1[0m
